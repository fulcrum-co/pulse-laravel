function Gh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hu={exports:{}},Zo={},pu={exports:{}},Ne={};var zf;function Sm(){if(zf)return Ne;zf=1;var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function x(E){return E===null||typeof E!="object"?null:(E=v&&E[v]||E["@@iterator"],typeof E=="function"?E:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function C(E,L,J){this.props=E,this.context=L,this.refs=b,this.updater=J||k}C.prototype.isReactComponent={},C.prototype.setState=function(E,L){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,L,"setState")},C.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function N(){}N.prototype=C.prototype;function T(E,L,J){this.props=E,this.context=L,this.refs=b,this.updater=J||k}var S=T.prototype=new N;S.constructor=T,_(S,C.prototype),S.isPureReactComponent=!0;var M=Array.isArray,O=Object.prototype.hasOwnProperty,D={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function Q(E,L,J){var te,le={},ce=null,ue=null;if(L!=null)for(te in L.ref!==void 0&&(ue=L.ref),L.key!==void 0&&(ce=""+L.key),L)O.call(L,te)&&!H.hasOwnProperty(te)&&(le[te]=L[te]);var ee=arguments.length-2;if(ee===1)le.children=J;else if(1<ee){for(var ae=Array(ee),we=0;we<ee;we++)ae[we]=arguments[we+2];le.children=ae}if(E&&E.defaultProps)for(te in ee=E.defaultProps,ee)le[te]===void 0&&(le[te]=ee[te]);return{$$typeof:n,type:E,key:ce,ref:ue,props:le,_owner:D.current}}function G(E,L){return{$$typeof:n,type:E.type,key:L,ref:E.ref,props:E.props,_owner:E._owner}}function ie(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function X(E){var L={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(J){return L[J]})}var q=/\/+/g;function K(E,L){return typeof E=="object"&&E!==null&&E.key!=null?X(""+E.key):L.toString(36)}function P(E,L,J,te,le){var ce=typeof E;(ce==="undefined"||ce==="boolean")&&(E=null);var ue=!1;if(E===null)ue=!0;else switch(ce){case"string":case"number":ue=!0;break;case"object":switch(E.$$typeof){case n:case o:ue=!0}}if(ue)return ue=E,le=le(ue),E=te===""?"."+K(ue,0):te,M(le)?(J="",E!=null&&(J=E.replace(q,"$&/")+"/"),P(le,L,J,"",function(we){return we})):le!=null&&(ie(le)&&(le=G(le,J+(!le.key||ue&&ue.key===le.key?"":(""+le.key).replace(q,"$&/")+"/")+E)),L.push(le)),1;if(ue=0,te=te===""?".":te+":",M(E))for(var ee=0;ee<E.length;ee++){ce=E[ee];var ae=te+K(ce,ee);ue+=P(ce,L,J,ae,le)}else if(ae=x(E),typeof ae=="function")for(E=ae.call(E),ee=0;!(ce=E.next()).done;)ce=ce.value,ae=te+K(ce,ee++),ue+=P(ce,L,J,ae,le);else if(ce==="object")throw L=String(E),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ue}function F(E,L,J){if(E==null)return E;var te=[],le=0;return P(E,te,"","",function(ce){return L.call(J,ce,le++)}),te}function A(E){if(E._status===-1){var L=E._result;L=L(),L.then(function(J){(E._status===0||E._status===-1)&&(E._status=1,E._result=J)},function(J){(E._status===0||E._status===-1)&&(E._status=2,E._result=J)}),E._status===-1&&(E._status=0,E._result=L)}if(E._status===1)return E._result.default;throw E._result}var B={current:null},z={transition:null},$={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:z,ReactCurrentOwner:D};function V(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:F,forEach:function(E,L,J){F(E,function(){L.apply(this,arguments)},J)},count:function(E){var L=0;return F(E,function(){L++}),L},toArray:function(E){return F(E,function(L){return L})||[]},only:function(E){if(!ie(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Ne.Component=C,Ne.Fragment=i,Ne.Profiler=a,Ne.PureComponent=T,Ne.StrictMode=l,Ne.Suspense=p,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,Ne.act=V,Ne.cloneElement=function(E,L,J){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var te=_({},E.props),le=E.key,ce=E.ref,ue=E._owner;if(L!=null){if(L.ref!==void 0&&(ce=L.ref,ue=D.current),L.key!==void 0&&(le=""+L.key),E.type&&E.type.defaultProps)var ee=E.type.defaultProps;for(ae in L)O.call(L,ae)&&!H.hasOwnProperty(ae)&&(te[ae]=L[ae]===void 0&&ee!==void 0?ee[ae]:L[ae])}var ae=arguments.length-2;if(ae===1)te.children=J;else if(1<ae){ee=Array(ae);for(var we=0;we<ae;we++)ee[we]=arguments[we+2];te.children=ee}return{$$typeof:n,type:E.type,key:le,ref:ce,props:te,_owner:ue}},Ne.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},Ne.createElement=Q,Ne.createFactory=function(E){var L=Q.bind(null,E);return L.type=E,L},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(E){return{$$typeof:h,render:E}},Ne.isValidElement=ie,Ne.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:A}},Ne.memo=function(E,L){return{$$typeof:g,type:E,compare:L===void 0?null:L}},Ne.startTransition=function(E){var L=z.transition;z.transition={};try{E()}finally{z.transition=L}},Ne.unstable_act=V,Ne.useCallback=function(E,L){return B.current.useCallback(E,L)},Ne.useContext=function(E){return B.current.useContext(E)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(E){return B.current.useDeferredValue(E)},Ne.useEffect=function(E,L){return B.current.useEffect(E,L)},Ne.useId=function(){return B.current.useId()},Ne.useImperativeHandle=function(E,L,J){return B.current.useImperativeHandle(E,L,J)},Ne.useInsertionEffect=function(E,L){return B.current.useInsertionEffect(E,L)},Ne.useLayoutEffect=function(E,L){return B.current.useLayoutEffect(E,L)},Ne.useMemo=function(E,L){return B.current.useMemo(E,L)},Ne.useReducer=function(E,L,J){return B.current.useReducer(E,L,J)},Ne.useRef=function(E){return B.current.useRef(E)},Ne.useState=function(E){return B.current.useState(E)},Ne.useSyncExternalStore=function(E,L,J){return B.current.useSyncExternalStore(E,L,J)},Ne.useTransition=function(){return B.current.useTransition()},Ne.version="18.3.1",Ne}var If;function di(){return If||(If=1,pu.exports=Sm()),pu.exports}var Lf;function km(){if(Lf)return Zo;Lf=1;var n=di(),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,g){var y,v={},x=null,k=null;g!==void 0&&(x=""+g),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(k=p.ref);for(y in p)l.call(p,y)&&!c.hasOwnProperty(y)&&(v[y]=p[y]);if(h&&h.defaultProps)for(y in p=h.defaultProps,p)v[y]===void 0&&(v[y]=p[y]);return{$$typeof:o,type:h,key:x,ref:k,props:v,_owner:a.current}}return Zo.Fragment=i,Zo.jsx=d,Zo.jsxs=d,Zo}var Df;function _m(){return Df||(Df=1,hu.exports=km()),hu.exports}var m=_m(),Y=di();const qh=Gh(Y);var As={},gu={exports:{}},ct={},mu={exports:{}},yu={};var Rf;function Nm(){return Rf||(Rf=1,(function(n){function o(z,$){var V=z.length;z.push($);e:for(;0<V;){var E=V-1>>>1,L=z[E];if(0<a(L,$))z[E]=$,z[V]=L,V=E;else break e}}function i(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var $=z[0],V=z.pop();if(V!==$){z[0]=V;e:for(var E=0,L=z.length,J=L>>>1;E<J;){var te=2*(E+1)-1,le=z[te],ce=te+1,ue=z[ce];if(0>a(le,V))ce<L&&0>a(ue,le)?(z[E]=ue,z[ce]=V,E=ce):(z[E]=le,z[te]=V,E=te);else if(ce<L&&0>a(ue,V))z[E]=ue,z[ce]=V,E=ce;else break e}}return $}function a(z,$){var V=z.sortIndex-$.sortIndex;return V!==0?V:z.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var p=[],g=[],y=1,v=null,x=3,k=!1,_=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var $=i(g);$!==null;){if($.callback===null)l(g);else if($.startTime<=z)l(g),$.sortIndex=$.expirationTime,o(p,$);else break;$=i(g)}}function M(z){if(b=!1,S(z),!_)if(i(p)!==null)_=!0,A(O);else{var $=i(g);$!==null&&B(M,$.startTime-z)}}function O(z,$){_=!1,b&&(b=!1,N(Q),Q=-1),k=!0;var V=x;try{for(S($),v=i(p);v!==null&&(!(v.expirationTime>$)||z&&!X());){var E=v.callback;if(typeof E=="function"){v.callback=null,x=v.priorityLevel;var L=E(v.expirationTime<=$);$=n.unstable_now(),typeof L=="function"?v.callback=L:v===i(p)&&l(p),S($)}else l(p);v=i(p)}if(v!==null)var J=!0;else{var te=i(g);te!==null&&B(M,te.startTime-$),J=!1}return J}finally{v=null,x=V,k=!1}}var D=!1,H=null,Q=-1,G=5,ie=-1;function X(){return!(n.unstable_now()-ie<G)}function q(){if(H!==null){var z=n.unstable_now();ie=z;var $=!0;try{$=H(!0,z)}finally{$?K():(D=!1,H=null)}}else D=!1}var K;if(typeof T=="function")K=function(){T(q)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,F=P.port2;P.port1.onmessage=q,K=function(){F.postMessage(null)}}else K=function(){C(q,0)};function A(z){H=z,D||(D=!0,K())}function B(z,$){Q=C(function(){z(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){_||k||(_=!0,A(O))},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return i(p)},n.unstable_next=function(z){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var V=x;x=$;try{return z()}finally{x=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var V=x;x=z;try{return $()}finally{x=V}},n.unstable_scheduleCallback=function(z,$,V){var E=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?E+V:E):V=E,z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=V+L,z={id:y++,callback:$,priorityLevel:z,startTime:V,expirationTime:L,sortIndex:-1},V>E?(z.sortIndex=V,o(g,z),i(p)===null&&z===i(g)&&(b?(N(Q),Q=-1):b=!0,B(M,V-E))):(z.sortIndex=L,o(p,z),_||k||(_=!0,A(O))),z},n.unstable_shouldYield=X,n.unstable_wrapCallback=function(z){var $=x;return function(){var V=x;x=$;try{return z.apply(this,arguments)}finally{x=V}}}})(yu)),yu}var Af;function Em(){return Af||(Af=1,mu.exports=Nm()),mu.exports}var $f;function Cm(){if($f)return ct;$f=1;var n=di(),o=Em();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,a={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(a[e]=t,e=0;e<t.length;e++)l.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function x(e){return p.call(v,e)?!0:p.call(y,e)?!1:g.test(e)?v[e]=!0:(y[e]=!0,!1)}function k(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _(e,t,r,s){if(t===null||typeof t>"u"||k(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function b(e,t,r,s,u,f,w){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=w}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];C[t]=new b(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(N,T);C[t]=new b(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(N,T);C[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(N,T);C[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function S(e,t,r,s){var u=C.hasOwnProperty(t)?C[t]:null;(u!==null?u.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_(t,r,u,s)&&(r=null),s||u===null?x(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,s=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var M=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),D=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),X=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),z=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,E;function L(e){if(E===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return`
`+E+e}var J=!1;function te(e,t){if(!e||J)return"";J=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(Z){var s=Z}Reflect.construct(e,[],t)}else{try{t.call()}catch(Z){s=Z}e.call(t.prototype)}else{try{throw Error()}catch(Z){s=Z}e()}}catch(Z){if(Z&&s&&typeof Z.stack=="string"){for(var u=Z.stack.split(`
`),f=s.stack.split(`
`),w=u.length-1,j=f.length-1;1<=w&&0<=j&&u[w]!==f[j];)j--;for(;1<=w&&0<=j;w--,j--)if(u[w]!==f[j]){if(w!==1||j!==1)do if(w--,j--,0>j||u[w]!==f[j]){var I=`
`+u[w].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=w&&0<=j);break}}}finally{J=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?L(e):""}function le(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case D:return"Portal";case G:return"Profiler";case Q:return"StrictMode";case K:return"Suspense";case P:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X:return(e.displayName||"Context")+".Consumer";case ie:return(e._context.displayName||"Context")+".Provider";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function ue(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===Q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ee(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ae(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function we(e){var t=ae(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(w){s=""+w,f.call(this,w)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(w){s=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _e(e){e._valueTracker||(e._valueTracker=we(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=ae(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Se(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Me(e,t){var r=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Te(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=ee(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pe(e,t){t=t.checked,t!=null&&S(e,"checked",t,!1)}function Ve(e,t){Pe(e,t);var r=ee(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ht(e,t.type,r):t.hasOwnProperty("defaultValue")&&ht(e,t.type,ee(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pt(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ht(e,t,r){(t!=="number"||Se(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var pt=Array.isArray;function kt(e,t,r,s){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ee(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Gt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gn(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(pt(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ee(r)}}function gr(e,t){var r=ee(t.value),s=ee(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Fn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bn,xi=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bn=Bn||document.createElement("div"),Bn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function en(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sl=["Webkit","ms","Moz","O"];Object.keys(Vn).forEach(function(e){Sl.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vn[t]=Vn[e]})});function wi(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vn.hasOwnProperty(e)&&Vn[e]?(""+t).trim():t+"px"}function Si(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,u=wi(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,u):e[r]=u}}var kl=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oo(e,t){if(t){if(kl[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function io(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var so=null;function lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ao=null,mn=null,yn=null;function ki(e){if(e=Lo(e)){if(typeof ao!="function")throw Error(i(280));var t=e.stateNode;t&&(t=qi(t),ao(e.stateNode,e.type,t))}}function _i(e){mn?yn?yn.push(e):yn=[e]:mn=e}function Ni(){if(mn){var e=mn,t=yn;if(yn=mn=null,ki(e),t)for(e=0;e<t.length;e++)ki(t[e])}}function Ei(e,t){return e(t)}function Ci(){}var uo=!1;function Mi(e,t,r){if(uo)return e(t,r);uo=!0;try{return Ei(e,t,r)}finally{uo=!1,(mn!==null||yn!==null)&&(Ci(),Ni())}}function Wn(e,t){var r=e.stateNode;if(r===null)return null;var s=qi(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var co=!1;if(h)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){co=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{co=!1}function _l(e,t,r,s,u,f,w,j,I){var Z=Array.prototype.slice.call(arguments,3);try{t.apply(r,Z)}catch(re){this.onError(re)}}var Yn=!1,mr=null,yr=!1,fo=null,Nl={onError:function(e){Yn=!0,mr=e}};function El(e,t,r,s,u,f,w,j,I){Yn=!1,mr=null,_l.apply(Nl,arguments)}function Cl(e,t,r,s,u,f,w,j,I){if(El.apply(this,arguments),Yn){if(Yn){var Z=mr;Yn=!1,mr=null}else throw Error(i(198));yr||(yr=!0,fo=Z)}}function Bt(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ho(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function po(e){if(Bt(e)!==e)throw Error(i(188))}function Ml(e){var t=e.alternate;if(!t){if(t=Bt(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,s=t;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(s=u.return,s!==null){r=s;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return po(u),e;if(f===s)return po(u),t;f=f.sibling}throw Error(i(188))}if(r.return!==s.return)r=u,s=f;else{for(var w=!1,j=u.child;j;){if(j===r){w=!0,r=u,s=f;break}if(j===s){w=!0,s=u,r=f;break}j=j.sibling}if(!w){for(j=f.child;j;){if(j===r){w=!0,r=f,s=u;break}if(j===s){w=!0,s=f,r=u;break}j=j.sibling}if(!w)throw Error(i(189))}}if(r.alternate!==s)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function bi(e){return e=Ml(e),e!==null?ji(e):null}function ji(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ji(e);if(t!==null)return t;e=e.sibling}return null}var Pi=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,bl=o.unstable_shouldYield,zi=o.unstable_requestPaint,$e=o.unstable_now,jl=o.unstable_getCurrentPriorityLevel,go=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,vr=o.unstable_NormalPriority,Pl=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Xn=null,_t=null;function Tl(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Xn,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Ll,zl=Math.log,Il=Math.LN2;function Ll(e){return e>>>=0,e===0?32:31-(zl(e)/Il|0)|0}var xr=64,wr=4194304;function vn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sr(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,u=e.suspendedLanes,f=e.pingedLanes,w=r&268435455;if(w!==0){var j=w&~u;j!==0?s=vn(j):(f&=w,f!==0&&(s=vn(f)))}else w=r&~u,w!==0?s=vn(w):f!==0&&(s=vn(f));if(s===0)return 0;if(t!==0&&t!==s&&(t&u)===0&&(u=s&-s,f=t&-t,u>=f||u===16&&(f&4194240)!==0))return t;if((s&4)!==0&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-gt(t),u=1<<r,s|=e[r],t&=~u;return s}function Di(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dl(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var w=31-gt(f),j=1<<w,I=u[w];I===-1?((j&r)===0||(j&s)!==0)&&(u[w]=Di(j,t)):I<=t&&(e.expiredLanes|=j),f&=~j}}function mo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kr(){var e=xr;return xr<<=1,(xr&4194240)===0&&(xr=64),e}function yo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Qn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=r}function Ri(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-gt(r),f=1<<u;t[u]=0,s[u]=-1,e[u]=-1,r&=~f}}function Rl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-gt(r),u=1<<s;u&t|e[s]&t&&(e[s]|=t),r&=~u}}var je=0;function uc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var cc,Al,dc,fc,hc,$l=!1,Ai=[],xn=null,wn=null,Sn=null,vo=new Map,xo=new Map,kn=[],V0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pc(e,t){switch(e){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(t.pointerId)}}function wo(e,t,r,s,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:f,targetContainers:[u]},t!==null&&(t=Lo(t),t!==null&&Al(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function W0(e,t,r,s,u){switch(t){case"focusin":return xn=wo(xn,e,t,r,s,u),!0;case"dragenter":return wn=wo(wn,e,t,r,s,u),!0;case"mouseover":return Sn=wo(Sn,e,t,r,s,u),!0;case"pointerover":var f=u.pointerId;return vo.set(f,wo(vo.get(f)||null,e,t,r,s,u)),!0;case"gotpointercapture":return f=u.pointerId,xo.set(f,wo(xo.get(f)||null,e,t,r,s,u)),!0}return!1}function gc(e){var t=Zn(e.target);if(t!==null){var r=Bt(t);if(r!==null){if(t=r.tag,t===13){if(t=ho(r),t!==null){e.blockedOn=t,hc(e.priority,function(){dc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $i(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Hl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);so=s,r.target.dispatchEvent(s),so=null}else return t=Lo(r),t!==null&&Al(t),e.blockedOn=r,!1;t.shift()}return!0}function mc(e,t,r){$i(e)&&r.delete(t)}function U0(){$l=!1,xn!==null&&$i(xn)&&(xn=null),wn!==null&&$i(wn)&&(wn=null),Sn!==null&&$i(Sn)&&(Sn=null),vo.forEach(mc),xo.forEach(mc)}function So(e,t){e.blockedOn===t&&(e.blockedOn=null,$l||($l=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,U0)))}function ko(e){function t(u){return So(u,e)}if(0<Ai.length){So(Ai[0],e);for(var r=1;r<Ai.length;r++){var s=Ai[r];s.blockedOn===e&&(s.blockedOn=null)}}for(xn!==null&&So(xn,e),wn!==null&&So(wn,e),Sn!==null&&So(Sn,e),vo.forEach(t),xo.forEach(t),r=0;r<kn.length;r++)s=kn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<kn.length&&(r=kn[0],r.blockedOn===null);)gc(r),r.blockedOn===null&&kn.shift()}var _r=M.ReactCurrentBatchConfig,Oi=!0;function Y0(e,t,r,s){var u=je,f=_r.transition;_r.transition=null;try{je=1,Ol(e,t,r,s)}finally{je=u,_r.transition=f}}function X0(e,t,r,s){var u=je,f=_r.transition;_r.transition=null;try{je=4,Ol(e,t,r,s)}finally{je=u,_r.transition=f}}function Ol(e,t,r,s){if(Oi){var u=Hl(e,t,r,s);if(u===null)ra(e,t,s,Hi,r),pc(e,s);else if(W0(u,e,t,r,s))s.stopPropagation();else if(pc(e,s),t&4&&-1<V0.indexOf(e)){for(;u!==null;){var f=Lo(u);if(f!==null&&cc(f),f=Hl(e,t,r,s),f===null&&ra(e,t,s,Hi,r),f===u)break;u=f}u!==null&&s.stopPropagation()}else ra(e,t,s,null,r)}}var Hi=null;function Hl(e,t,r,s){if(Hi=null,e=lo(s),e=Zn(e),e!==null)if(t=Bt(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ho(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hi=e,null}function yc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jl()){case go:return 1;case Ii:return 4;case vr:case Pl:return 16;case Li:return 536870912;default:return 16}default:return 16}}var _n=null,Fl=null,Fi=null;function vc(){if(Fi)return Fi;var e,t=Fl,r=t.length,s,u="value"in _n?_n.value:_n.textContent,f=u.length;for(e=0;e<r&&t[e]===u[e];e++);var w=r-e;for(s=1;s<=w&&t[r-s]===u[f-s];s++);return Fi=u.slice(e,1<s?1-s:void 0)}function Bi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function xc(){return!1}function mt(e){function t(r,s,u,f,w){this._reactName=r,this._targetInst=u,this.type=s,this.nativeEvent=f,this.target=w,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(r=e[j],this[j]=r?r(f):f[j]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:xc,this.isPropagationStopped=xc,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),t}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=mt(Nr),_o=V({},Nr,{view:0,detail:0}),Q0=mt(_o),Vl,Wl,No,Wi=V({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==No&&(No&&e.type==="mousemove"?(Vl=e.screenX-No.screenX,Wl=e.screenY-No.screenY):Wl=Vl=0,No=e),Vl)},movementY:function(e){return"movementY"in e?e.movementY:Wl}}),wc=mt(Wi),Z0=V({},Wi,{dataTransfer:0}),K0=mt(Z0),G0=V({},_o,{relatedTarget:0}),Ul=mt(G0),q0=V({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),J0=mt(q0),eg=V({},Nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tg=mt(eg),ng=V({},Nr,{data:0}),Sc=mt(ng),rg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ig={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ig[e])?!!t[e]:!1}function Yl(){return sg}var lg=V({},_o,{key:function(e){if(e.key){var t=rg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?og[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yl,charCode:function(e){return e.type==="keypress"?Bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ag=mt(lg),ug=V({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kc=mt(ug),cg=V({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yl}),dg=mt(cg),fg=V({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hg=mt(fg),pg=V({},Wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gg=mt(pg),mg=[9,13,27,32],Xl=h&&"CompositionEvent"in window,Eo=null;h&&"documentMode"in document&&(Eo=document.documentMode);var yg=h&&"TextEvent"in window&&!Eo,_c=h&&(!Xl||Eo&&8<Eo&&11>=Eo),Nc=" ",Ec=!1;function Cc(e,t){switch(e){case"keyup":return mg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Er=!1;function vg(e,t){switch(e){case"compositionend":return Mc(t);case"keypress":return t.which!==32?null:(Ec=!0,Nc);case"textInput":return e=t.data,e===Nc&&Ec?null:e;default:return null}}function xg(e,t){if(Er)return e==="compositionend"||!Xl&&Cc(e,t)?(e=vc(),Fi=Fl=_n=null,Er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _c&&t.locale!=="ko"?null:t.data;default:return null}}var wg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wg[e.type]:t==="textarea"}function jc(e,t,r,s){_i(s),t=Zi(t,"onChange"),0<t.length&&(r=new Bl("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Co=null,Mo=null;function Sg(e){Xc(e,0)}function Ui(e){var t=Pr(e);if(xe(t))return e}function kg(e,t){if(e==="change")return t}var Pc=!1;if(h){var Ql;if(h){var Zl="oninput"in document;if(!Zl){var Tc=document.createElement("div");Tc.setAttribute("oninput","return;"),Zl=typeof Tc.oninput=="function"}Ql=Zl}else Ql=!1;Pc=Ql&&(!document.documentMode||9<document.documentMode)}function zc(){Co&&(Co.detachEvent("onpropertychange",Ic),Mo=Co=null)}function Ic(e){if(e.propertyName==="value"&&Ui(Mo)){var t=[];jc(t,Mo,e,lo(e)),Mi(Sg,t)}}function _g(e,t,r){e==="focusin"?(zc(),Co=t,Mo=r,Co.attachEvent("onpropertychange",Ic)):e==="focusout"&&zc()}function Ng(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ui(Mo)}function Eg(e,t){if(e==="click")return Ui(t)}function Cg(e,t){if(e==="input"||e==="change")return Ui(t)}function Mg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Mg;function bo(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var u=r[s];if(!p.call(t,u)||!Tt(e[u],t[u]))return!1}return!0}function Lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dc(e,t){var r=Lc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lc(r)}}function Rc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ac(){for(var e=window,t=Se();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Se(e.document)}return t}function Kl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bg(e){var t=Ac(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Rc(r.ownerDocument.documentElement,r)){if(s!==null&&Kl(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,f=Math.min(s.start,u);s=s.end===void 0?f:Math.min(s.end,u),!e.extend&&f>s&&(u=s,s=f,f=u),u=Dc(r,f);var w=Dc(r,s);u&&w&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),f>s?(e.addRange(t),e.extend(w.node,w.offset)):(t.setEnd(w.node,w.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jg=h&&"documentMode"in document&&11>=document.documentMode,Cr=null,Gl=null,jo=null,ql=!1;function $c(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ql||Cr==null||Cr!==Se(s)||(s=Cr,"selectionStart"in s&&Kl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),jo&&bo(jo,s)||(jo=s,s=Zi(Gl,"onSelect"),0<s.length&&(t=new Bl("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Cr)))}function Yi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mr={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionend:Yi("Transition","TransitionEnd")},Jl={},Oc={};h&&(Oc=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Xi(e){if(Jl[e])return Jl[e];if(!Mr[e])return e;var t=Mr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Oc)return Jl[e]=t[r];return e}var Hc=Xi("animationend"),Fc=Xi("animationiteration"),Bc=Xi("animationstart"),Vc=Xi("transitionend"),Wc=new Map,Uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(e,t){Wc.set(e,t),c(t,[e])}for(var ea=0;ea<Uc.length;ea++){var ta=Uc[ea],Pg=ta.toLowerCase(),Tg=ta[0].toUpperCase()+ta.slice(1);Nn(Pg,"on"+Tg)}Nn(Hc,"onAnimationEnd"),Nn(Fc,"onAnimationIteration"),Nn(Bc,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Vc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function Yc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Cl(s,t,void 0,e),e.currentTarget=null}function Xc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],u=s.event;s=s.listeners;e:{var f=void 0;if(t)for(var w=s.length-1;0<=w;w--){var j=s[w],I=j.instance,Z=j.currentTarget;if(j=j.listener,I!==f&&u.isPropagationStopped())break e;Yc(u,j,Z),f=I}else for(w=0;w<s.length;w++){if(j=s[w],I=j.instance,Z=j.currentTarget,j=j.listener,I!==f&&u.isPropagationStopped())break e;Yc(u,j,Z),f=I}}}if(yr)throw e=fo,yr=!1,fo=null,e}function Ie(e,t){var r=t[ua];r===void 0&&(r=t[ua]=new Set);var s=e+"__bubble";r.has(s)||(Qc(t,e,2,!1),r.add(s))}function na(e,t,r){var s=0;t&&(s|=4),Qc(r,e,s,t)}var Qi="_reactListening"+Math.random().toString(36).slice(2);function To(e){if(!e[Qi]){e[Qi]=!0,l.forEach(function(r){r!=="selectionchange"&&(zg.has(r)||na(r,!1,e),na(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qi]||(t[Qi]=!0,na("selectionchange",!1,t))}}function Qc(e,t,r,s){switch(yc(t)){case 1:var u=Y0;break;case 4:u=X0;break;default:u=Ol}r=u.bind(null,t,r,e),u=void 0,!co||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function ra(e,t,r,s,u){var f=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var w=s.tag;if(w===3||w===4){var j=s.stateNode.containerInfo;if(j===u||j.nodeType===8&&j.parentNode===u)break;if(w===4)for(w=s.return;w!==null;){var I=w.tag;if((I===3||I===4)&&(I=w.stateNode.containerInfo,I===u||I.nodeType===8&&I.parentNode===u))return;w=w.return}for(;j!==null;){if(w=Zn(j),w===null)return;if(I=w.tag,I===5||I===6){s=f=w;continue e}j=j.parentNode}}s=s.return}Mi(function(){var Z=f,re=lo(r),oe=[];e:{var ne=Wc.get(e);if(ne!==void 0){var de=Bl,he=e;switch(e){case"keypress":if(Bi(r)===0)break e;case"keydown":case"keyup":de=ag;break;case"focusin":he="focus",de=Ul;break;case"focusout":he="blur",de=Ul;break;case"beforeblur":case"afterblur":de=Ul;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=K0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=dg;break;case Hc:case Fc:case Bc:de=J0;break;case Vc:de=hg;break;case"scroll":de=Q0;break;case"wheel":de=gg;break;case"copy":case"cut":case"paste":de=tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=kc}var ge=(t&4)!==0,Be=!ge&&e==="scroll",W=ge?ne!==null?ne+"Capture":null:ne;ge=[];for(var R=Z,U;R!==null;){U=R;var se=U.stateNode;if(U.tag===5&&se!==null&&(U=se,W!==null&&(se=Wn(R,W),se!=null&&ge.push(zo(R,se,U)))),Be)break;R=R.return}0<ge.length&&(ne=new de(ne,he,null,r,re),oe.push({event:ne,listeners:ge}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",ne&&r!==so&&(he=r.relatedTarget||r.fromElement)&&(Zn(he)||he[tn]))break e;if((de||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,de?(he=r.relatedTarget||r.toElement,de=Z,he=he?Zn(he):null,he!==null&&(Be=Bt(he),he!==Be||he.tag!==5&&he.tag!==6)&&(he=null)):(de=null,he=Z),de!==he)){if(ge=wc,se="onMouseLeave",W="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ge=kc,se="onPointerLeave",W="onPointerEnter",R="pointer"),Be=de==null?ne:Pr(de),U=he==null?ne:Pr(he),ne=new ge(se,R+"leave",de,r,re),ne.target=Be,ne.relatedTarget=U,se=null,Zn(re)===Z&&(ge=new ge(W,R+"enter",he,r,re),ge.target=U,ge.relatedTarget=Be,se=ge),Be=se,de&&he)t:{for(ge=de,W=he,R=0,U=ge;U;U=br(U))R++;for(U=0,se=W;se;se=br(se))U++;for(;0<R-U;)ge=br(ge),R--;for(;0<U-R;)W=br(W),U--;for(;R--;){if(ge===W||W!==null&&ge===W.alternate)break t;ge=br(ge),W=br(W)}ge=null}else ge=null;de!==null&&Zc(oe,ne,de,ge,!1),he!==null&&Be!==null&&Zc(oe,Be,he,ge,!0)}}e:{if(ne=Z?Pr(Z):window,de=ne.nodeName&&ne.nodeName.toLowerCase(),de==="select"||de==="input"&&ne.type==="file")var me=kg;else if(bc(ne))if(Pc)me=Cg;else{me=Ng;var ye=_g}else(de=ne.nodeName)&&de.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(me=Eg);if(me&&(me=me(e,Z))){jc(oe,me,r,re);break e}ye&&ye(e,ne,Z),e==="focusout"&&(ye=ne._wrapperState)&&ye.controlled&&ne.type==="number"&&ht(ne,"number",ne.value)}switch(ye=Z?Pr(Z):window,e){case"focusin":(bc(ye)||ye.contentEditable==="true")&&(Cr=ye,Gl=Z,jo=null);break;case"focusout":jo=Gl=Cr=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,$c(oe,r,re);break;case"selectionchange":if(jg)break;case"keydown":case"keyup":$c(oe,r,re)}var ve;if(Xl)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Er?Cc(e,r)&&(ke="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ke="onCompositionStart");ke&&(_c&&r.locale!=="ko"&&(Er||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Er&&(ve=vc()):(_n=re,Fl="value"in _n?_n.value:_n.textContent,Er=!0)),ye=Zi(Z,ke),0<ye.length&&(ke=new Sc(ke,e,null,r,re),oe.push({event:ke,listeners:ye}),ve?ke.data=ve:(ve=Mc(r),ve!==null&&(ke.data=ve)))),(ve=yg?vg(e,r):xg(e,r))&&(Z=Zi(Z,"onBeforeInput"),0<Z.length&&(re=new Sc("onBeforeInput","beforeinput",null,r,re),oe.push({event:re,listeners:Z}),re.data=ve))}Xc(oe,t)})}function zo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zi(e,t){for(var r=t+"Capture",s=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=Wn(e,r),f!=null&&s.unshift(zo(e,f,u)),f=Wn(e,t),f!=null&&s.push(zo(e,f,u))),e=e.return}return s}function br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zc(e,t,r,s,u){for(var f=t._reactName,w=[];r!==null&&r!==s;){var j=r,I=j.alternate,Z=j.stateNode;if(I!==null&&I===s)break;j.tag===5&&Z!==null&&(j=Z,u?(I=Wn(r,f),I!=null&&w.unshift(zo(r,I,j))):u||(I=Wn(r,f),I!=null&&w.push(zo(r,I,j)))),r=r.return}w.length!==0&&e.push({event:t,listeners:w})}var Ig=/\r\n?/g,Lg=/\u0000|\uFFFD/g;function Kc(e){return(typeof e=="string"?e:""+e).replace(Ig,`
`).replace(Lg,"")}function Ki(e,t,r){if(t=Kc(t),Kc(e)!==t&&r)throw Error(i(425))}function Gi(){}var oa=null,ia=null;function sa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var la=typeof setTimeout=="function"?setTimeout:void 0,Dg=typeof clearTimeout=="function"?clearTimeout:void 0,Gc=typeof Promise=="function"?Promise:void 0,Rg=typeof queueMicrotask=="function"?queueMicrotask:typeof Gc<"u"?function(e){return Gc.resolve(null).then(e).catch(Ag)}:la;function Ag(e){setTimeout(function(){throw e})}function aa(e,t){var r=t,s=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(s===0){e.removeChild(u),ko(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=u}while(r);ko(t)}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jr=Math.random().toString(36).slice(2),Vt="__reactFiber$"+jr,Io="__reactProps$"+jr,tn="__reactContainer$"+jr,ua="__reactEvents$"+jr,$g="__reactListeners$"+jr,Og="__reactHandles$"+jr;function Zn(e){var t=e[Vt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[tn]||r[Vt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=qc(e);e!==null;){if(r=e[Vt])return r;e=qc(e)}return t}e=r,r=e.parentNode}return null}function Lo(e){return e=e[Vt]||e[tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function qi(e){return e[Io]||null}var ca=[],Tr=-1;function Cn(e){return{current:e}}function Le(e){0>Tr||(e.current=ca[Tr],ca[Tr]=null,Tr--)}function ze(e,t){Tr++,ca[Tr]=e.current,e.current=t}var Mn={},Je=Cn(Mn),it=Cn(!1),Kn=Mn;function zr(e,t){var r=e.type.contextTypes;if(!r)return Mn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in r)u[f]=t[f];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function st(e){return e=e.childContextTypes,e!=null}function Ji(){Le(it),Le(Je)}function Jc(e,t,r){if(Je.current!==Mn)throw Error(i(168));ze(Je,t),ze(it,r)}function ed(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var u in s)if(!(u in t))throw Error(i(108,ue(e)||"Unknown",u));return V({},r,s)}function es(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mn,Kn=Je.current,ze(Je,e),ze(it,it.current),!0}function td(e,t,r){var s=e.stateNode;if(!s)throw Error(i(169));r?(e=ed(e,t,Kn),s.__reactInternalMemoizedMergedChildContext=e,Le(it),Le(Je),ze(Je,e)):Le(it),ze(it,r)}var nn=null,ts=!1,da=!1;function nd(e){nn===null?nn=[e]:nn.push(e)}function Hg(e){ts=!0,nd(e)}function bn(){if(!da&&nn!==null){da=!0;var e=0,t=je;try{var r=nn;for(je=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}nn=null,ts=!1}catch(u){throw nn!==null&&(nn=nn.slice(e+1)),Pi(go,bn),u}finally{je=t,da=!1}}return null}var Ir=[],Lr=0,ns=null,rs=0,Nt=[],Et=0,Gn=null,rn=1,on="";function qn(e,t){Ir[Lr++]=rs,Ir[Lr++]=ns,ns=e,rs=t}function rd(e,t,r){Nt[Et++]=rn,Nt[Et++]=on,Nt[Et++]=Gn,Gn=e;var s=rn;e=on;var u=32-gt(s)-1;s&=~(1<<u),r+=1;var f=32-gt(t)+u;if(30<f){var w=u-u%5;f=(s&(1<<w)-1).toString(32),s>>=w,u-=w,rn=1<<32-gt(t)+u|r<<u|s,on=f+e}else rn=1<<f|r<<u|s,on=e}function fa(e){e.return!==null&&(qn(e,1),rd(e,1,0))}function ha(e){for(;e===ns;)ns=Ir[--Lr],Ir[Lr]=null,rs=Ir[--Lr],Ir[Lr]=null;for(;e===Gn;)Gn=Nt[--Et],Nt[Et]=null,on=Nt[--Et],Nt[Et]=null,rn=Nt[--Et],Nt[Et]=null}var yt=null,vt=null,De=!1,zt=null;function od(e,t){var r=jt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function id(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,vt=En(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gn!==null?{id:rn,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=jt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,yt=e,vt=null,!0):!1;default:return!1}}function pa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ga(e){if(De){var t=vt;if(t){var r=t;if(!id(e,t)){if(pa(e))throw Error(i(418));t=En(r.nextSibling);var s=yt;t&&id(e,t)?od(s,r):(e.flags=e.flags&-4097|2,De=!1,yt=e)}}else{if(pa(e))throw Error(i(418));e.flags=e.flags&-4097|2,De=!1,yt=e}}}function sd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function os(e){if(e!==yt)return!1;if(!De)return sd(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sa(e.type,e.memoizedProps)),t&&(t=vt)){if(pa(e))throw ld(),Error(i(418));for(;t;)od(e,t),t=En(t.nextSibling)}if(sd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vt=En(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=yt?En(e.stateNode.nextSibling):null;return!0}function ld(){for(var e=vt;e;)e=En(e.nextSibling)}function Dr(){vt=yt=null,De=!1}function ma(e){zt===null?zt=[e]:zt.push(e)}var Fg=M.ReactCurrentBatchConfig;function Do(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var s=r.stateNode}if(!s)throw Error(i(147,e));var u=s,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(w){var j=u.refs;w===null?delete j[f]:j[f]=w},t._stringRef=f,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function is(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ad(e){var t=e._init;return t(e._payload)}function ud(e){function t(W,R){if(e){var U=W.deletions;U===null?(W.deletions=[R],W.flags|=16):U.push(R)}}function r(W,R){if(!e)return null;for(;R!==null;)t(W,R),R=R.sibling;return null}function s(W,R){for(W=new Map;R!==null;)R.key!==null?W.set(R.key,R):W.set(R.index,R),R=R.sibling;return W}function u(W,R){return W=Rn(W,R),W.index=0,W.sibling=null,W}function f(W,R,U){return W.index=U,e?(U=W.alternate,U!==null?(U=U.index,U<R?(W.flags|=2,R):U):(W.flags|=2,R)):(W.flags|=1048576,R)}function w(W){return e&&W.alternate===null&&(W.flags|=2),W}function j(W,R,U,se){return R===null||R.tag!==6?(R=lu(U,W.mode,se),R.return=W,R):(R=u(R,U),R.return=W,R)}function I(W,R,U,se){var me=U.type;return me===H?re(W,R,U.props.children,se,U.key):R!==null&&(R.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&ad(me)===R.type)?(se=u(R,U.props),se.ref=Do(W,R,U),se.return=W,se):(se=js(U.type,U.key,U.props,null,W.mode,se),se.ref=Do(W,R,U),se.return=W,se)}function Z(W,R,U,se){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=au(U,W.mode,se),R.return=W,R):(R=u(R,U.children||[]),R.return=W,R)}function re(W,R,U,se,me){return R===null||R.tag!==7?(R=sr(U,W.mode,se,me),R.return=W,R):(R=u(R,U),R.return=W,R)}function oe(W,R,U){if(typeof R=="string"&&R!==""||typeof R=="number")return R=lu(""+R,W.mode,U),R.return=W,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case O:return U=js(R.type,R.key,R.props,null,W.mode,U),U.ref=Do(W,null,R),U.return=W,U;case D:return R=au(R,W.mode,U),R.return=W,R;case A:var se=R._init;return oe(W,se(R._payload),U)}if(pt(R)||$(R))return R=sr(R,W.mode,U,null),R.return=W,R;is(W,R)}return null}function ne(W,R,U,se){var me=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return me!==null?null:j(W,R,""+U,se);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case O:return U.key===me?I(W,R,U,se):null;case D:return U.key===me?Z(W,R,U,se):null;case A:return me=U._init,ne(W,R,me(U._payload),se)}if(pt(U)||$(U))return me!==null?null:re(W,R,U,se,null);is(W,U)}return null}function de(W,R,U,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return W=W.get(U)||null,j(R,W,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case O:return W=W.get(se.key===null?U:se.key)||null,I(R,W,se,me);case D:return W=W.get(se.key===null?U:se.key)||null,Z(R,W,se,me);case A:var ye=se._init;return de(W,R,U,ye(se._payload),me)}if(pt(se)||$(se))return W=W.get(U)||null,re(R,W,se,me,null);is(R,se)}return null}function he(W,R,U,se){for(var me=null,ye=null,ve=R,ke=R=0,Ke=null;ve!==null&&ke<U.length;ke++){ve.index>ke?(Ke=ve,ve=null):Ke=ve.sibling;var be=ne(W,ve,U[ke],se);if(be===null){ve===null&&(ve=Ke);break}e&&ve&&be.alternate===null&&t(W,ve),R=f(be,R,ke),ye===null?me=be:ye.sibling=be,ye=be,ve=Ke}if(ke===U.length)return r(W,ve),De&&qn(W,ke),me;if(ve===null){for(;ke<U.length;ke++)ve=oe(W,U[ke],se),ve!==null&&(R=f(ve,R,ke),ye===null?me=ve:ye.sibling=ve,ye=ve);return De&&qn(W,ke),me}for(ve=s(W,ve);ke<U.length;ke++)Ke=de(ve,W,ke,U[ke],se),Ke!==null&&(e&&Ke.alternate!==null&&ve.delete(Ke.key===null?ke:Ke.key),R=f(Ke,R,ke),ye===null?me=Ke:ye.sibling=Ke,ye=Ke);return e&&ve.forEach(function(An){return t(W,An)}),De&&qn(W,ke),me}function ge(W,R,U,se){var me=$(U);if(typeof me!="function")throw Error(i(150));if(U=me.call(U),U==null)throw Error(i(151));for(var ye=me=null,ve=R,ke=R=0,Ke=null,be=U.next();ve!==null&&!be.done;ke++,be=U.next()){ve.index>ke?(Ke=ve,ve=null):Ke=ve.sibling;var An=ne(W,ve,be.value,se);if(An===null){ve===null&&(ve=Ke);break}e&&ve&&An.alternate===null&&t(W,ve),R=f(An,R,ke),ye===null?me=An:ye.sibling=An,ye=An,ve=Ke}if(be.done)return r(W,ve),De&&qn(W,ke),me;if(ve===null){for(;!be.done;ke++,be=U.next())be=oe(W,be.value,se),be!==null&&(R=f(be,R,ke),ye===null?me=be:ye.sibling=be,ye=be);return De&&qn(W,ke),me}for(ve=s(W,ve);!be.done;ke++,be=U.next())be=de(ve,W,ke,be.value,se),be!==null&&(e&&be.alternate!==null&&ve.delete(be.key===null?ke:be.key),R=f(be,R,ke),ye===null?me=be:ye.sibling=be,ye=be);return e&&ve.forEach(function(wm){return t(W,wm)}),De&&qn(W,ke),me}function Be(W,R,U,se){if(typeof U=="object"&&U!==null&&U.type===H&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case O:e:{for(var me=U.key,ye=R;ye!==null;){if(ye.key===me){if(me=U.type,me===H){if(ye.tag===7){r(W,ye.sibling),R=u(ye,U.props.children),R.return=W,W=R;break e}}else if(ye.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&ad(me)===ye.type){r(W,ye.sibling),R=u(ye,U.props),R.ref=Do(W,ye,U),R.return=W,W=R;break e}r(W,ye);break}else t(W,ye);ye=ye.sibling}U.type===H?(R=sr(U.props.children,W.mode,se,U.key),R.return=W,W=R):(se=js(U.type,U.key,U.props,null,W.mode,se),se.ref=Do(W,R,U),se.return=W,W=se)}return w(W);case D:e:{for(ye=U.key;R!==null;){if(R.key===ye)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){r(W,R.sibling),R=u(R,U.children||[]),R.return=W,W=R;break e}else{r(W,R);break}else t(W,R);R=R.sibling}R=au(U,W.mode,se),R.return=W,W=R}return w(W);case A:return ye=U._init,Be(W,R,ye(U._payload),se)}if(pt(U))return he(W,R,U,se);if($(U))return ge(W,R,U,se);is(W,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,R!==null&&R.tag===6?(r(W,R.sibling),R=u(R,U),R.return=W,W=R):(r(W,R),R=lu(U,W.mode,se),R.return=W,W=R),w(W)):r(W,R)}return Be}var Rr=ud(!0),cd=ud(!1),ss=Cn(null),ls=null,Ar=null,ya=null;function va(){ya=Ar=ls=null}function xa(e){var t=ss.current;Le(ss),e._currentValue=t}function wa(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function $r(e,t){ls=e,ya=Ar=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(lt=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(ya!==e)if(e={context:e,memoizedValue:t,next:null},Ar===null){if(ls===null)throw Error(i(308));Ar=e,ls.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var Jn=null;function Sa(e){Jn===null?Jn=[e]:Jn.push(e)}function dd(e,t,r,s){var u=t.interleaved;return u===null?(r.next=r,Sa(t)):(r.next=u.next,u.next=r),t.interleaved=r,sn(e,s)}function sn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var jn=!1;function ka(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ce&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,sn(e,r)}return u=s.interleaved,u===null?(t.next=t,Sa(s)):(t.next=u.next,u.next=t),s.interleaved=t,sn(e,r)}function as(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Rl(e,r)}}function hd(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var w={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?u=f=w:f=f.next=w,r=r.next}while(r!==null);f===null?u=f=t:f=f.next=t}else u=f=t;r={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function us(e,t,r,s){var u=e.updateQueue;jn=!1;var f=u.firstBaseUpdate,w=u.lastBaseUpdate,j=u.shared.pending;if(j!==null){u.shared.pending=null;var I=j,Z=I.next;I.next=null,w===null?f=Z:w.next=Z,w=I;var re=e.alternate;re!==null&&(re=re.updateQueue,j=re.lastBaseUpdate,j!==w&&(j===null?re.firstBaseUpdate=Z:j.next=Z,re.lastBaseUpdate=I))}if(f!==null){var oe=u.baseState;w=0,re=Z=I=null,j=f;do{var ne=j.lane,de=j.eventTime;if((s&ne)===ne){re!==null&&(re=re.next={eventTime:de,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var he=e,ge=j;switch(ne=t,de=r,ge.tag){case 1:if(he=ge.payload,typeof he=="function"){oe=he.call(de,oe,ne);break e}oe=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ge.payload,ne=typeof he=="function"?he.call(de,oe,ne):he,ne==null)break e;oe=V({},oe,ne);break e;case 2:jn=!0}}j.callback!==null&&j.lane!==0&&(e.flags|=64,ne=u.effects,ne===null?u.effects=[j]:ne.push(j))}else de={eventTime:de,lane:ne,tag:j.tag,payload:j.payload,callback:j.callback,next:null},re===null?(Z=re=de,I=oe):re=re.next=de,w|=ne;if(j=j.next,j===null){if(j=u.shared.pending,j===null)break;ne=j,j=ne.next,ne.next=null,u.lastBaseUpdate=ne,u.shared.pending=null}}while(!0);if(re===null&&(I=oe),u.baseState=I,u.firstBaseUpdate=Z,u.lastBaseUpdate=re,t=u.shared.interleaved,t!==null){u=t;do w|=u.lane,u=u.next;while(u!==t)}else f===null&&(u.shared.lanes=0);nr|=w,e.lanes=w,e.memoizedState=oe}}function pd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],u=s.callback;if(u!==null){if(s.callback=null,s=r,typeof u!="function")throw Error(i(191,u));u.call(s)}}}var Ro={},Wt=Cn(Ro),Ao=Cn(Ro),$o=Cn(Ro);function er(e){if(e===Ro)throw Error(i(174));return e}function _a(e,t){switch(ze($o,t),ze(Ao,e),ze(Wt,Ro),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jt(t,e)}Le(Wt),ze(Wt,t)}function Or(){Le(Wt),Le(Ao),Le($o)}function gd(e){er($o.current);var t=er(Wt.current),r=Jt(t,e.type);t!==r&&(ze(Ao,e),ze(Wt,r))}function Na(e){Ao.current===e&&(Le(Wt),Le(Ao))}var Oe=Cn(0);function cs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ea=[];function Ca(){for(var e=0;e<Ea.length;e++)Ea[e]._workInProgressVersionPrimary=null;Ea.length=0}var ds=M.ReactCurrentDispatcher,Ma=M.ReactCurrentBatchConfig,tr=0,He=null,Ye=null,Qe=null,fs=!1,Oo=!1,Ho=0,Bg=0;function et(){throw Error(i(321))}function ba(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Tt(e[r],t[r]))return!1;return!0}function ja(e,t,r,s,u,f){if(tr=f,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=e===null||e.memoizedState===null?Yg:Xg,e=r(s,u),Oo){f=0;do{if(Oo=!1,Ho=0,25<=f)throw Error(i(301));f+=1,Qe=Ye=null,t.updateQueue=null,ds.current=Qg,e=r(s,u)}while(Oo)}if(ds.current=gs,t=Ye!==null&&Ye.next!==null,tr=0,Qe=Ye=He=null,fs=!1,t)throw Error(i(300));return e}function Pa(){var e=Ho!==0;return Ho=0,e}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?He.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Mt(){if(Ye===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=Qe===null?He.memoizedState:Qe.next;if(t!==null)Qe=t,Ye=e;else{if(e===null)throw Error(i(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Qe===null?He.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Fo(e,t){return typeof t=="function"?t(e):t}function Ta(e){var t=Mt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=Ye,u=s.baseQueue,f=r.pending;if(f!==null){if(u!==null){var w=u.next;u.next=f.next,f.next=w}s.baseQueue=u=f,r.pending=null}if(u!==null){f=u.next,s=s.baseState;var j=w=null,I=null,Z=f;do{var re=Z.lane;if((tr&re)===re)I!==null&&(I=I.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),s=Z.hasEagerState?Z.eagerState:e(s,Z.action);else{var oe={lane:re,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};I===null?(j=I=oe,w=s):I=I.next=oe,He.lanes|=re,nr|=re}Z=Z.next}while(Z!==null&&Z!==f);I===null?w=s:I.next=j,Tt(s,t.memoizedState)||(lt=!0),t.memoizedState=s,t.baseState=w,t.baseQueue=I,r.lastRenderedState=s}if(e=r.interleaved,e!==null){u=e;do f=u.lane,He.lanes|=f,nr|=f,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function za(e){var t=Mt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=r.dispatch,u=r.pending,f=t.memoizedState;if(u!==null){r.pending=null;var w=u=u.next;do f=e(f,w.action),w=w.next;while(w!==u);Tt(f,t.memoizedState)||(lt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,s]}function md(){}function yd(e,t){var r=He,s=Mt(),u=t(),f=!Tt(s.memoizedState,u);if(f&&(s.memoizedState=u,lt=!0),s=s.queue,Ia(wd.bind(null,r,s,e),[e]),s.getSnapshot!==t||f||Qe!==null&&Qe.memoizedState.tag&1){if(r.flags|=2048,Bo(9,xd.bind(null,r,s,u,t),void 0,null),Ze===null)throw Error(i(349));(tr&30)!==0||vd(r,t,u)}return u}function vd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function xd(e,t,r,s){t.value=r,t.getSnapshot=s,Sd(t)&&kd(e)}function wd(e,t,r){return r(function(){Sd(t)&&kd(e)})}function Sd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Tt(e,r)}catch{return!0}}function kd(e){var t=sn(e,1);t!==null&&Rt(t,e,1,-1)}function _d(e){var t=Ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ug.bind(null,He,e),[t.memoizedState,e]}function Bo(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Nd(){return Mt().memoizedState}function hs(e,t,r,s){var u=Ut();He.flags|=e,u.memoizedState=Bo(1|t,r,void 0,s===void 0?null:s)}function ps(e,t,r,s){var u=Mt();s=s===void 0?null:s;var f=void 0;if(Ye!==null){var w=Ye.memoizedState;if(f=w.destroy,s!==null&&ba(s,w.deps)){u.memoizedState=Bo(t,r,f,s);return}}He.flags|=e,u.memoizedState=Bo(1|t,r,f,s)}function Ed(e,t){return hs(8390656,8,e,t)}function Ia(e,t){return ps(2048,8,e,t)}function Cd(e,t){return ps(4,2,e,t)}function Md(e,t){return ps(4,4,e,t)}function bd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jd(e,t,r){return r=r!=null?r.concat([e]):null,ps(4,4,bd.bind(null,t,e),r)}function La(){}function Pd(e,t){var r=Mt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ba(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Td(e,t){var r=Mt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ba(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function zd(e,t,r){return(tr&21)===0?(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=r):(Tt(r,t)||(r=kr(),He.lanes|=r,nr|=r,e.baseState=!0),t)}function Vg(e,t){var r=je;je=r!==0&&4>r?r:4,e(!0);var s=Ma.transition;Ma.transition={};try{e(!1),t()}finally{je=r,Ma.transition=s}}function Id(){return Mt().memoizedState}function Wg(e,t,r){var s=Ln(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Ld(e))Dd(t,r);else if(r=dd(e,t,r,s),r!==null){var u=ot();Rt(r,e,s,u),Rd(r,t,s)}}function Ug(e,t,r){var s=Ln(e),u={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ld(e))Dd(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var w=t.lastRenderedState,j=f(w,r);if(u.hasEagerState=!0,u.eagerState=j,Tt(j,w)){var I=t.interleaved;I===null?(u.next=u,Sa(t)):(u.next=I.next,I.next=u),t.interleaved=u;return}}catch{}r=dd(e,t,u,s),r!==null&&(u=ot(),Rt(r,e,s,u),Rd(r,t,s))}}function Ld(e){var t=e.alternate;return e===He||t!==null&&t===He}function Dd(e,t){Oo=fs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Rd(e,t,r){if((r&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Rl(e,r)}}var gs={readContext:Ct,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},Yg={readContext:Ct,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Ed,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,hs(4194308,4,bd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return hs(4194308,4,e,t)},useInsertionEffect:function(e,t){return hs(4,2,e,t)},useMemo:function(e,t){var r=Ut();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Ut();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Wg.bind(null,He,e),[s.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:_d,useDebugValue:La,useDeferredValue:function(e){return Ut().memoizedState=e},useTransition:function(){var e=_d(!1),t=e[0];return e=Vg.bind(null,e[1]),Ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=He,u=Ut();if(De){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),Ze===null)throw Error(i(349));(tr&30)!==0||vd(s,t,r)}u.memoizedState=r;var f={value:r,getSnapshot:t};return u.queue=f,Ed(wd.bind(null,s,f,e),[e]),s.flags|=2048,Bo(9,xd.bind(null,s,f,r,t),void 0,null),r},useId:function(){var e=Ut(),t=Ze.identifierPrefix;if(De){var r=on,s=rn;r=(s&~(1<<32-gt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ho++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Bg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xg={readContext:Ct,useCallback:Pd,useContext:Ct,useEffect:Ia,useImperativeHandle:jd,useInsertionEffect:Cd,useLayoutEffect:Md,useMemo:Td,useReducer:Ta,useRef:Nd,useState:function(){return Ta(Fo)},useDebugValue:La,useDeferredValue:function(e){var t=Mt();return zd(t,Ye.memoizedState,e)},useTransition:function(){var e=Ta(Fo)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:md,useSyncExternalStore:yd,useId:Id,unstable_isNewReconciler:!1},Qg={readContext:Ct,useCallback:Pd,useContext:Ct,useEffect:Ia,useImperativeHandle:jd,useInsertionEffect:Cd,useLayoutEffect:Md,useMemo:Td,useReducer:za,useRef:Nd,useState:function(){return za(Fo)},useDebugValue:La,useDeferredValue:function(e){var t=Mt();return Ye===null?t.memoizedState=e:zd(t,Ye.memoizedState,e)},useTransition:function(){var e=za(Fo)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:md,useSyncExternalStore:yd,useId:Id,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=V({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Da(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:V({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ms={isMounted:function(e){return(e=e._reactInternals)?Bt(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=ot(),u=Ln(e),f=ln(s,u);f.payload=t,r!=null&&(f.callback=r),t=Pn(e,f,u),t!==null&&(Rt(t,e,u,s),as(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=ot(),u=Ln(e),f=ln(s,u);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=Pn(e,f,u),t!==null&&(Rt(t,e,u,s),as(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ot(),s=Ln(e),u=ln(r,s);u.tag=2,t!=null&&(u.callback=t),t=Pn(e,u,s),t!==null&&(Rt(t,e,s,r),as(t,e,s))}};function Ad(e,t,r,s,u,f,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,w):t.prototype&&t.prototype.isPureReactComponent?!bo(r,s)||!bo(u,f):!0}function $d(e,t,r){var s=!1,u=Mn,f=t.contextType;return typeof f=="object"&&f!==null?f=Ct(f):(u=st(t)?Kn:Je.current,s=t.contextTypes,f=(s=s!=null)?zr(e,u):Mn),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ms,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),t}function Od(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&ms.enqueueReplaceState(t,t.state,null)}function Ra(e,t,r,s){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},ka(e);var f=t.contextType;typeof f=="object"&&f!==null?u.context=Ct(f):(f=st(t)?Kn:Je.current,u.context=zr(e,f)),u.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Da(e,t,f,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&ms.enqueueReplaceState(u,u.state,null),us(e,r,u,s),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Hr(e,t){try{var r="",s=t;do r+=le(s),s=s.return;while(s);var u=r}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:u,digest:null}}function Aa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $a(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Zg=typeof WeakMap=="function"?WeakMap:Map;function Hd(e,t,r){r=ln(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){_s||(_s=!0,Ja=s),$a(e,t)},r}function Fd(e,t,r){r=ln(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var u=t.value;r.payload=function(){return s(u)},r.callback=function(){$a(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){$a(e,t),typeof s!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var w=t.stack;this.componentDidCatch(t.value,{componentStack:w!==null?w:""})}),r}function Bd(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Zg;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(r)||(u.add(r),e=um.bind(null,e,t,r),t.then(e,e))}function Vd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wd(e,t,r,s,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ln(-1,1),t.tag=2,Pn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Kg=M.ReactCurrentOwner,lt=!1;function rt(e,t,r,s){t.child=e===null?cd(t,null,r,s):Rr(t,e.child,r,s)}function Ud(e,t,r,s,u){r=r.render;var f=t.ref;return $r(t,u),s=ja(e,t,r,s,f,u),r=Pa(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,an(e,t,u)):(De&&r&&fa(t),t.flags|=1,rt(e,t,s,u),t.child)}function Yd(e,t,r,s,u){if(e===null){var f=r.type;return typeof f=="function"&&!su(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,Xd(e,t,f,s,u)):(e=js(r.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&u)===0){var w=f.memoizedProps;if(r=r.compare,r=r!==null?r:bo,r(w,s)&&e.ref===t.ref)return an(e,t,u)}return t.flags|=1,e=Rn(f,s),e.ref=t.ref,e.return=t,t.child=e}function Xd(e,t,r,s,u){if(e!==null){var f=e.memoizedProps;if(bo(f,s)&&e.ref===t.ref)if(lt=!1,t.pendingProps=s=f,(e.lanes&u)!==0)(e.flags&131072)!==0&&(lt=!0);else return t.lanes=e.lanes,an(e,t,u)}return Oa(e,t,r,s,u)}function Qd(e,t,r){var s=t.pendingProps,u=s.children,f=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Br,xt),xt|=r;else{if((r&1073741824)===0)return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(Br,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=f!==null?f.baseLanes:r,ze(Br,xt),xt|=s}else f!==null?(s=f.baseLanes|r,t.memoizedState=null):s=r,ze(Br,xt),xt|=s;return rt(e,t,u,r),t.child}function Zd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Oa(e,t,r,s,u){var f=st(r)?Kn:Je.current;return f=zr(t,f),$r(t,u),r=ja(e,t,r,s,f,u),s=Pa(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,an(e,t,u)):(De&&s&&fa(t),t.flags|=1,rt(e,t,r,u),t.child)}function Kd(e,t,r,s,u){if(st(r)){var f=!0;es(t)}else f=!1;if($r(t,u),t.stateNode===null)vs(e,t),$d(t,r,s),Ra(t,r,s,u),s=!0;else if(e===null){var w=t.stateNode,j=t.memoizedProps;w.props=j;var I=w.context,Z=r.contextType;typeof Z=="object"&&Z!==null?Z=Ct(Z):(Z=st(r)?Kn:Je.current,Z=zr(t,Z));var re=r.getDerivedStateFromProps,oe=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function";oe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(j!==s||I!==Z)&&Od(t,w,s,Z),jn=!1;var ne=t.memoizedState;w.state=ne,us(t,s,w,u),I=t.memoizedState,j!==s||ne!==I||it.current||jn?(typeof re=="function"&&(Da(t,r,re,s),I=t.memoizedState),(j=jn||Ad(t,r,j,s,ne,I,Z))?(oe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(t.flags|=4194308)):(typeof w.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=I),w.props=s,w.state=I,w.context=Z,s=j):(typeof w.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{w=t.stateNode,fd(e,t),j=t.memoizedProps,Z=t.type===t.elementType?j:It(t.type,j),w.props=Z,oe=t.pendingProps,ne=w.context,I=r.contextType,typeof I=="object"&&I!==null?I=Ct(I):(I=st(r)?Kn:Je.current,I=zr(t,I));var de=r.getDerivedStateFromProps;(re=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(j!==oe||ne!==I)&&Od(t,w,s,I),jn=!1,ne=t.memoizedState,w.state=ne,us(t,s,w,u);var he=t.memoizedState;j!==oe||ne!==he||it.current||jn?(typeof de=="function"&&(Da(t,r,de,s),he=t.memoizedState),(Z=jn||Ad(t,r,Z,s,ne,he,I)||!1)?(re||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(s,he,I),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(s,he,I)),typeof w.componentDidUpdate=="function"&&(t.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof w.componentDidUpdate!="function"||j===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=he),w.props=s,w.state=he,w.context=I,s=Z):(typeof w.componentDidUpdate!="function"||j===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),s=!1)}return Ha(e,t,r,s,f,u)}function Ha(e,t,r,s,u,f){Zd(e,t);var w=(t.flags&128)!==0;if(!s&&!w)return u&&td(t,r,!1),an(e,t,f);s=t.stateNode,Kg.current=t;var j=w&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&w?(t.child=Rr(t,e.child,null,f),t.child=Rr(t,null,j,f)):rt(e,t,j,f),t.memoizedState=s.state,u&&td(t,r,!0),t.child}function Gd(e){var t=e.stateNode;t.pendingContext?Jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jc(e,t.context,!1),_a(e,t.containerInfo)}function qd(e,t,r,s,u){return Dr(),ma(u),t.flags|=256,rt(e,t,r,s),t.child}var Fa={dehydrated:null,treeContext:null,retryLane:0};function Ba(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jd(e,t,r){var s=t.pendingProps,u=Oe.current,f=!1,w=(t.flags&128)!==0,j;if((j=w)||(j=e!==null&&e.memoizedState===null?!1:(u&2)!==0),j?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),ze(Oe,u&1),e===null)return ga(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(w=s.children,e=s.fallback,f?(s=t.mode,f=t.child,w={mode:"hidden",children:w},(s&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=w):f=Ps(w,s,0,null),e=sr(e,s,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Ba(r),t.memoizedState=Fa,e):Va(t,w));if(u=e.memoizedState,u!==null&&(j=u.dehydrated,j!==null))return Gg(e,t,w,s,j,u,r);if(f){f=s.fallback,w=t.mode,u=e.child,j=u.sibling;var I={mode:"hidden",children:s.children};return(w&1)===0&&t.child!==u?(s=t.child,s.childLanes=0,s.pendingProps=I,t.deletions=null):(s=Rn(u,I),s.subtreeFlags=u.subtreeFlags&14680064),j!==null?f=Rn(j,f):(f=sr(f,w,r,null),f.flags|=2),f.return=t,s.return=t,s.sibling=f,t.child=s,s=f,f=t.child,w=e.child.memoizedState,w=w===null?Ba(r):{baseLanes:w.baseLanes|r,cachePool:null,transitions:w.transitions},f.memoizedState=w,f.childLanes=e.childLanes&~r,t.memoizedState=Fa,s}return f=e.child,e=f.sibling,s=Rn(f,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Va(e,t){return t=Ps({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ys(e,t,r,s){return s!==null&&ma(s),Rr(t,e.child,null,r),e=Va(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gg(e,t,r,s,u,f,w){if(r)return t.flags&256?(t.flags&=-257,s=Aa(Error(i(422))),ys(e,t,w,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=s.fallback,u=t.mode,s=Ps({mode:"visible",children:s.children},u,0,null),f=sr(f,u,w,null),f.flags|=2,s.return=t,f.return=t,s.sibling=f,t.child=s,(t.mode&1)!==0&&Rr(t,e.child,null,w),t.child.memoizedState=Ba(w),t.memoizedState=Fa,f);if((t.mode&1)===0)return ys(e,t,w,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var j=s.dgst;return s=j,f=Error(i(419)),s=Aa(f,s,void 0),ys(e,t,w,s)}if(j=(w&e.childLanes)!==0,lt||j){if(s=Ze,s!==null){switch(w&-w){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(s.suspendedLanes|w))!==0?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,sn(e,u),Rt(s,e,u,-1))}return iu(),s=Aa(Error(i(421))),ys(e,t,w,s)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=cm.bind(null,e),u._reactRetry=t,null):(e=f.treeContext,vt=En(u.nextSibling),yt=t,De=!0,zt=null,e!==null&&(Nt[Et++]=rn,Nt[Et++]=on,Nt[Et++]=Gn,rn=e.id,on=e.overflow,Gn=t),t=Va(t,s.children),t.flags|=4096,t)}function ef(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),wa(e.return,t,r)}function Wa(e,t,r,s,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=r,f.tailMode=u)}function tf(e,t,r){var s=t.pendingProps,u=s.revealOrder,f=s.tail;if(rt(e,t,s.children,r),s=Oe.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ef(e,r,t);else if(e.tag===19)ef(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ze(Oe,s),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&cs(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),Wa(t,!1,u,r,f);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&cs(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}Wa(t,!0,r,null,f);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function an(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),nr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=Rn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Rn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qg(e,t,r){switch(t.tag){case 3:Gd(t),Dr();break;case 5:gd(t);break;case 1:st(t.type)&&es(t);break;case 4:_a(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,u=t.memoizedProps.value;ze(ss,s._currentValue),s._currentValue=u;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ze(Oe,Oe.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Jd(e,t,r):(ze(Oe,Oe.current&1),e=an(e,t,r),e!==null?e.sibling:null);ze(Oe,Oe.current&1);break;case 19:if(s=(r&t.childLanes)!==0,(e.flags&128)!==0){if(s)return tf(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ze(Oe,Oe.current),s)break;return null;case 22:case 23:return t.lanes=0,Qd(e,t,r)}return an(e,t,r)}var nf,Ua,rf,of;nf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ua=function(){},rf=function(e,t,r,s){var u=e.memoizedProps;if(u!==s){e=t.stateNode,er(Wt.current);var f=null;switch(r){case"input":u=Me(e,u),s=Me(e,s),f=[];break;case"select":u=V({},u,{value:void 0}),s=V({},s,{value:void 0}),f=[];break;case"textarea":u=Gt(e,u),s=Gt(e,s),f=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Gi)}oo(r,s);var w;r=null;for(Z in u)if(!s.hasOwnProperty(Z)&&u.hasOwnProperty(Z)&&u[Z]!=null)if(Z==="style"){var j=u[Z];for(w in j)j.hasOwnProperty(w)&&(r||(r={}),r[w]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(a.hasOwnProperty(Z)?f||(f=[]):(f=f||[]).push(Z,null));for(Z in s){var I=s[Z];if(j=u?.[Z],s.hasOwnProperty(Z)&&I!==j&&(I!=null||j!=null))if(Z==="style")if(j){for(w in j)!j.hasOwnProperty(w)||I&&I.hasOwnProperty(w)||(r||(r={}),r[w]="");for(w in I)I.hasOwnProperty(w)&&j[w]!==I[w]&&(r||(r={}),r[w]=I[w])}else r||(f||(f=[]),f.push(Z,r)),r=I;else Z==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,j=j?j.__html:void 0,I!=null&&j!==I&&(f=f||[]).push(Z,I)):Z==="children"?typeof I!="string"&&typeof I!="number"||(f=f||[]).push(Z,""+I):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(a.hasOwnProperty(Z)?(I!=null&&Z==="onScroll"&&Ie("scroll",e),f||j===I||(f=[])):(f=f||[]).push(Z,I))}r&&(f=f||[]).push("style",r);var Z=f;(t.updateQueue=Z)&&(t.flags|=4)}},of=function(e,t,r,s){r!==s&&(t.flags|=4)};function Vo(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Jg(e,t,r){var s=t.pendingProps;switch(ha(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return st(t.type)&&Ji(),tt(t),null;case 3:return s=t.stateNode,Or(),Le(it),Le(Je),Ca(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(os(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,zt!==null&&(nu(zt),zt=null))),Ua(e,t),tt(t),null;case 5:Na(t);var u=er($o.current);if(r=t.type,e!==null&&t.stateNode!=null)rf(e,t,r,s,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return tt(t),null}if(e=er(Wt.current),os(t)){s=t.stateNode,r=t.type;var f=t.memoizedProps;switch(s[Vt]=t,s[Io]=f,e=(t.mode&1)!==0,r){case"dialog":Ie("cancel",s),Ie("close",s);break;case"iframe":case"object":case"embed":Ie("load",s);break;case"video":case"audio":for(u=0;u<Po.length;u++)Ie(Po[u],s);break;case"source":Ie("error",s);break;case"img":case"image":case"link":Ie("error",s),Ie("load",s);break;case"details":Ie("toggle",s);break;case"input":Te(s,f),Ie("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!f.multiple},Ie("invalid",s);break;case"textarea":gn(s,f),Ie("invalid",s)}oo(r,f),u=null;for(var w in f)if(f.hasOwnProperty(w)){var j=f[w];w==="children"?typeof j=="string"?s.textContent!==j&&(f.suppressHydrationWarning!==!0&&Ki(s.textContent,j,e),u=["children",j]):typeof j=="number"&&s.textContent!==""+j&&(f.suppressHydrationWarning!==!0&&Ki(s.textContent,j,e),u=["children",""+j]):a.hasOwnProperty(w)&&j!=null&&w==="onScroll"&&Ie("scroll",s)}switch(r){case"input":_e(s),Pt(s,f,!0);break;case"textarea":_e(s),Fn(s);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(s.onclick=Gi)}s=u,t.updateQueue=s,s!==null&&(t.flags|=4)}else{w=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qt(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=w.createElement(r,{is:s.is}):(e=w.createElement(r),r==="select"&&(w=e,s.multiple?w.multiple=!0:s.size&&(w.size=s.size))):e=w.createElementNS(e,r),e[Vt]=t,e[Io]=s,nf(e,t,!1,!1),t.stateNode=e;e:{switch(w=io(r,s),r){case"dialog":Ie("cancel",e),Ie("close",e),u=s;break;case"iframe":case"object":case"embed":Ie("load",e),u=s;break;case"video":case"audio":for(u=0;u<Po.length;u++)Ie(Po[u],e);u=s;break;case"source":Ie("error",e),u=s;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),u=s;break;case"details":Ie("toggle",e),u=s;break;case"input":Te(e,s),u=Me(e,s),Ie("invalid",e);break;case"option":u=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},u=V({},s,{value:void 0}),Ie("invalid",e);break;case"textarea":gn(e,s),u=Gt(e,s),Ie("invalid",e);break;default:u=s}oo(r,u),j=u;for(f in j)if(j.hasOwnProperty(f)){var I=j[f];f==="style"?Si(e,I):f==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&xi(e,I)):f==="children"?typeof I=="string"?(r!=="textarea"||I!=="")&&en(e,I):typeof I=="number"&&en(e,""+I):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?I!=null&&f==="onScroll"&&Ie("scroll",e):I!=null&&S(e,f,I,w))}switch(r){case"input":_e(e),Pt(e,s,!1);break;case"textarea":_e(e),Fn(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ee(s.value));break;case"select":e.multiple=!!s.multiple,f=s.value,f!=null?kt(e,!!s.multiple,f,!1):s.defaultValue!=null&&kt(e,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Gi)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)of(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(r=er($o.current),er(Wt.current),os(t)){if(s=t.stateNode,r=t.memoizedProps,s[Vt]=t,(f=s.nodeValue!==r)&&(e=yt,e!==null))switch(e.tag){case 3:Ki(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ki(s.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Vt]=t,t.stateNode=s}return tt(t),null;case 13:if(Le(Oe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&vt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ld(),Dr(),t.flags|=98560,f=!1;else if(f=os(t),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Vt]=t}else Dr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),f=!1}else zt!==null&&(nu(zt),zt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Oe.current&1)!==0?Xe===0&&(Xe=3):iu())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return Or(),Ua(e,t),e===null&&To(t.stateNode.containerInfo),tt(t),null;case 10:return xa(t.type._context),tt(t),null;case 17:return st(t.type)&&Ji(),tt(t),null;case 19:if(Le(Oe),f=t.memoizedState,f===null)return tt(t),null;if(s=(t.flags&128)!==0,w=f.rendering,w===null)if(s)Vo(f,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(w=cs(e),w!==null){for(t.flags|=128,Vo(f,!1),s=w.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)f=r,e=s,f.flags&=14680066,w=f.alternate,w===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=w.childLanes,f.lanes=w.lanes,f.child=w.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=w.memoizedProps,f.memoizedState=w.memoizedState,f.updateQueue=w.updateQueue,f.type=w.type,e=w.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ze(Oe,Oe.current&1|2),t.child}e=e.sibling}f.tail!==null&&$e()>Vr&&(t.flags|=128,s=!0,Vo(f,!1),t.lanes=4194304)}else{if(!s)if(e=cs(w),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!w.alternate&&!De)return tt(t),null}else 2*$e()-f.renderingStartTime>Vr&&r!==1073741824&&(t.flags|=128,s=!0,Vo(f,!1),t.lanes=4194304);f.isBackwards?(w.sibling=t.child,t.child=w):(r=f.last,r!==null?r.sibling=w:t.child=w,f.last=w)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=$e(),t.sibling=null,r=Oe.current,ze(Oe,s?r&1|2:r&1),t):(tt(t),null);case 22:case 23:return ou(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(xt&1073741824)!==0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function em(e,t){switch(ha(t),t.tag){case 1:return st(t.type)&&Ji(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Or(),Le(it),Le(Je),Ca(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Na(t),null;case 13:if(Le(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(Oe),null;case 4:return Or(),null;case 10:return xa(t.type._context),null;case 22:case 23:return ou(),null;case 24:return null;default:return null}}var xs=!1,nt=!1,tm=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Fr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Fe(e,t,s)}else r.current=null}function Ya(e,t,r){try{r()}catch(s){Fe(e,t,s)}}var sf=!1;function nm(e,t){if(oa=Oi,e=Ac(),Kl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var u=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var w=0,j=-1,I=-1,Z=0,re=0,oe=e,ne=null;t:for(;;){for(var de;oe!==r||u!==0&&oe.nodeType!==3||(j=w+u),oe!==f||s!==0&&oe.nodeType!==3||(I=w+s),oe.nodeType===3&&(w+=oe.nodeValue.length),(de=oe.firstChild)!==null;)ne=oe,oe=de;for(;;){if(oe===e)break t;if(ne===r&&++Z===u&&(j=w),ne===f&&++re===s&&(I=w),(de=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=de}r=j===-1||I===-1?null:{start:j,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(ia={focusedElem:e,selectionRange:r},Oi=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var he=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var ge=he.memoizedProps,Be=he.memoizedState,W=t.stateNode,R=W.getSnapshotBeforeUpdate(t.elementType===t.type?ge:It(t.type,ge),Be);W.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var U=t.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(se){Fe(t,t.return,se)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return he=sf,sf=!1,he}function Wo(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&Ya(t,r,f)}u=u.next}while(u!==s)}}function ws(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Xa(e){var t=e.ref;if(t!==null){var r=e.stateNode;e.tag,e=r,typeof t=="function"?t(e):t.current=e}}function lf(e){var t=e.alternate;t!==null&&(e.alternate=null,lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vt],delete t[Io],delete t[ua],delete t[$g],delete t[Og])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function af(e){return e.tag===5||e.tag===3||e.tag===4}function uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||af(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qa(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Gi));else if(s!==4&&(e=e.child,e!==null))for(Qa(e,t,r),e=e.sibling;e!==null;)Qa(e,t,r),e=e.sibling}function Za(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Za(e,t,r),e=e.sibling;e!==null;)Za(e,t,r),e=e.sibling}var Ge=null,Lt=!1;function Tn(e,t,r){for(r=r.child;r!==null;)cf(e,t,r),r=r.sibling}function cf(e,t,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Xn,r)}catch{}switch(r.tag){case 5:nt||Fr(r,t);case 6:var s=Ge,u=Lt;Ge=null,Tn(e,t,r),Ge=s,Lt=u,Ge!==null&&(Lt?(e=Ge,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ge.removeChild(r.stateNode));break;case 18:Ge!==null&&(Lt?(e=Ge,r=r.stateNode,e.nodeType===8?aa(e.parentNode,r):e.nodeType===1&&aa(e,r),ko(e)):aa(Ge,r.stateNode));break;case 4:s=Ge,u=Lt,Ge=r.stateNode.containerInfo,Lt=!0,Tn(e,t,r),Ge=s,Lt=u;break;case 0:case 11:case 14:case 15:if(!nt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var f=u,w=f.destroy;f=f.tag,w!==void 0&&((f&2)!==0||(f&4)!==0)&&Ya(r,t,w),u=u.next}while(u!==s)}Tn(e,t,r);break;case 1:if(!nt&&(Fr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(j){Fe(r,t,j)}Tn(e,t,r);break;case 21:Tn(e,t,r);break;case 22:r.mode&1?(nt=(s=nt)||r.memoizedState!==null,Tn(e,t,r),nt=s):Tn(e,t,r);break;default:Tn(e,t,r)}}function df(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new tm),t.forEach(function(s){var u=dm.bind(null,e,s);r.has(s)||(r.add(s),s.then(u,u))})}}function Dt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];try{var f=e,w=t,j=w;e:for(;j!==null;){switch(j.tag){case 5:Ge=j.stateNode,Lt=!1;break e;case 3:Ge=j.stateNode.containerInfo,Lt=!0;break e;case 4:Ge=j.stateNode.containerInfo,Lt=!0;break e}j=j.return}if(Ge===null)throw Error(i(160));cf(f,w,u),Ge=null,Lt=!1;var I=u.alternate;I!==null&&(I.return=null),u.return=null}catch(Z){Fe(u,t,Z)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ff(t,e),t=t.sibling}function ff(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Yt(e),s&4){try{Wo(3,e,e.return),ws(3,e)}catch(ge){Fe(e,e.return,ge)}try{Wo(5,e,e.return)}catch(ge){Fe(e,e.return,ge)}}break;case 1:Dt(t,e),Yt(e),s&512&&r!==null&&Fr(r,r.return);break;case 5:if(Dt(t,e),Yt(e),s&512&&r!==null&&Fr(r,r.return),e.flags&32){var u=e.stateNode;try{en(u,"")}catch(ge){Fe(e,e.return,ge)}}if(s&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,w=r!==null?r.memoizedProps:f,j=e.type,I=e.updateQueue;if(e.updateQueue=null,I!==null)try{j==="input"&&f.type==="radio"&&f.name!=null&&Pe(u,f),io(j,w);var Z=io(j,f);for(w=0;w<I.length;w+=2){var re=I[w],oe=I[w+1];re==="style"?Si(u,oe):re==="dangerouslySetInnerHTML"?xi(u,oe):re==="children"?en(u,oe):S(u,re,oe,Z)}switch(j){case"input":Ve(u,f);break;case"textarea":gr(u,f);break;case"select":var ne=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var de=f.value;de!=null?kt(u,!!f.multiple,de,!1):ne!==!!f.multiple&&(f.defaultValue!=null?kt(u,!!f.multiple,f.defaultValue,!0):kt(u,!!f.multiple,f.multiple?[]:"",!1))}u[Io]=f}catch(ge){Fe(e,e.return,ge)}}break;case 6:if(Dt(t,e),Yt(e),s&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(ge){Fe(e,e.return,ge)}}break;case 3:if(Dt(t,e),Yt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{ko(t.containerInfo)}catch(ge){Fe(e,e.return,ge)}break;case 4:Dt(t,e),Yt(e);break;case 13:Dt(t,e),Yt(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(qa=$e())),s&4&&df(e);break;case 22:if(re=r!==null&&r.memoizedState!==null,e.mode&1?(nt=(Z=nt)||re,Dt(t,e),nt=Z):Dt(t,e),Yt(e),s&8192){if(Z=e.memoizedState!==null,(e.stateNode.isHidden=Z)&&!re&&(e.mode&1)!==0)for(fe=e,re=e.child;re!==null;){for(oe=fe=re;fe!==null;){switch(ne=fe,de=ne.child,ne.tag){case 0:case 11:case 14:case 15:Wo(4,ne,ne.return);break;case 1:Fr(ne,ne.return);var he=ne.stateNode;if(typeof he.componentWillUnmount=="function"){s=ne,r=ne.return;try{t=s,he.props=t.memoizedProps,he.state=t.memoizedState,he.componentWillUnmount()}catch(ge){Fe(s,r,ge)}}break;case 5:Fr(ne,ne.return);break;case 22:if(ne.memoizedState!==null){gf(oe);continue}}de!==null?(de.return=ne,fe=de):gf(oe)}re=re.sibling}e:for(re=null,oe=e;;){if(oe.tag===5){if(re===null){re=oe;try{u=oe.stateNode,Z?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(j=oe.stateNode,I=oe.memoizedProps.style,w=I!=null&&I.hasOwnProperty("display")?I.display:null,j.style.display=wi("display",w))}catch(ge){Fe(e,e.return,ge)}}}else if(oe.tag===6){if(re===null)try{oe.stateNode.nodeValue=Z?"":oe.memoizedProps}catch(ge){Fe(e,e.return,ge)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===e)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===e)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===e)break e;re===oe&&(re=null),oe=oe.return}re===oe&&(re=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Dt(t,e),Yt(e),s&4&&df(e);break;case 21:break;default:Dt(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(af(r)){var s=r;break e}r=r.return}throw Error(i(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(en(u,""),s.flags&=-33);var f=uf(e);Za(e,f,u);break;case 3:case 4:var w=s.stateNode.containerInfo,j=uf(e);Qa(e,j,w);break;default:throw Error(i(161))}}catch(I){Fe(e,e.return,I)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rm(e,t,r){fe=e,hf(e)}function hf(e,t,r){for(var s=(e.mode&1)!==0;fe!==null;){var u=fe,f=u.child;if(u.tag===22&&s){var w=u.memoizedState!==null||xs;if(!w){var j=u.alternate,I=j!==null&&j.memoizedState!==null||nt;j=xs;var Z=nt;if(xs=w,(nt=I)&&!Z)for(fe=u;fe!==null;)w=fe,I=w.child,w.tag===22&&w.memoizedState!==null?mf(u):I!==null?(I.return=w,fe=I):mf(u);for(;f!==null;)fe=f,hf(f),f=f.sibling;fe=u,xs=j,nt=Z}pf(e)}else(u.subtreeFlags&8772)!==0&&f!==null?(f.return=u,fe=f):pf(e)}}function pf(e){for(;fe!==null;){var t=fe;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:nt||ws(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!nt)if(r===null)s.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:It(t.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&pd(t,f,s);break;case 3:var w=t.updateQueue;if(w!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}pd(t,w,r)}break;case 5:var j=t.stateNode;if(r===null&&t.flags&4){r=j;var I=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&r.focus();break;case"img":I.src&&(r.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var Z=t.alternate;if(Z!==null){var re=Z.memoizedState;if(re!==null){var oe=re.dehydrated;oe!==null&&ko(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}nt||t.flags&512&&Xa(t)}catch(ne){Fe(t,t.return,ne)}}if(t===e){fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,fe=r;break}fe=t.return}}function gf(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,fe=r;break}fe=t.return}}function mf(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ws(4,t)}catch(I){Fe(t,r,I)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var u=t.return;try{s.componentDidMount()}catch(I){Fe(t,u,I)}}var f=t.return;try{Xa(t)}catch(I){Fe(t,f,I)}break;case 5:var w=t.return;try{Xa(t)}catch(I){Fe(t,w,I)}}}catch(I){Fe(t,t.return,I)}if(t===e){fe=null;break}var j=t.sibling;if(j!==null){j.return=t.return,fe=j;break}fe=t.return}}var om=Math.ceil,Ss=M.ReactCurrentDispatcher,Ka=M.ReactCurrentOwner,bt=M.ReactCurrentBatchConfig,Ce=0,Ze=null,We=null,qe=0,xt=0,Br=Cn(0),Xe=0,Uo=null,nr=0,ks=0,Ga=0,Yo=null,at=null,qa=0,Vr=1/0,un=null,_s=!1,Ja=null,zn=null,Ns=!1,In=null,Es=0,Xo=0,eu=null,Cs=-1,Ms=0;function ot(){return(Ce&6)!==0?$e():Cs!==-1?Cs:Cs=$e()}function Ln(e){return(e.mode&1)===0?1:(Ce&2)!==0&&qe!==0?qe&-qe:Fg.transition!==null?(Ms===0&&(Ms=kr()),Ms):(e=je,e!==0||(e=window.event,e=e===void 0?16:yc(e.type)),e)}function Rt(e,t,r,s){if(50<Xo)throw Xo=0,eu=null,Error(i(185));Qn(e,r,s),((Ce&2)===0||e!==Ze)&&(e===Ze&&((Ce&2)===0&&(ks|=r),Xe===4&&Dn(e,qe)),ut(e,s),r===1&&Ce===0&&(t.mode&1)===0&&(Vr=$e()+500,ts&&bn()))}function ut(e,t){var r=e.callbackNode;Dl(e,t);var s=Sr(e,e===Ze?qe:0);if(s===0)r!==null&&Ti(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Ti(r),t===1)e.tag===0?Hg(vf.bind(null,e)):nd(vf.bind(null,e)),Rg(function(){(Ce&6)===0&&bn()}),r=null;else{switch(uc(s)){case 1:r=go;break;case 4:r=Ii;break;case 16:r=vr;break;case 536870912:r=Li;break;default:r=vr}r=Cf(r,yf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function yf(e,t){if(Cs=-1,Ms=0,(Ce&6)!==0)throw Error(i(327));var r=e.callbackNode;if(Wr()&&e.callbackNode!==r)return null;var s=Sr(e,e===Ze?qe:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=bs(e,s);else{t=s;var u=Ce;Ce|=2;var f=wf();(Ze!==e||qe!==t)&&(un=null,Vr=$e()+500,or(e,t));do try{lm();break}catch(j){xf(e,j)}while(!0);va(),Ss.current=f,Ce=u,We!==null?t=0:(Ze=null,qe=0,t=Xe)}if(t!==0){if(t===2&&(u=mo(e),u!==0&&(s=u,t=tu(e,u))),t===1)throw r=Uo,or(e,0),Dn(e,s),ut(e,$e()),r;if(t===6)Dn(e,s);else{if(u=e.current.alternate,(s&30)===0&&!im(u)&&(t=bs(e,s),t===2&&(f=mo(e),f!==0&&(s=f,t=tu(e,f))),t===1))throw r=Uo,or(e,0),Dn(e,s),ut(e,$e()),r;switch(e.finishedWork=u,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:ir(e,at,un);break;case 3:if(Dn(e,s),(s&130023424)===s&&(t=qa+500-$e(),10<t)){if(Sr(e,0)!==0)break;if(u=e.suspendedLanes,(u&s)!==s){ot(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=la(ir.bind(null,e,at,un),t);break}ir(e,at,un);break;case 4:if(Dn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,u=-1;0<s;){var w=31-gt(s);f=1<<w,w=t[w],w>u&&(u=w),s&=~f}if(s=u,s=$e()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*om(s/1960))-s,10<s){e.timeoutHandle=la(ir.bind(null,e,at,un),s);break}ir(e,at,un);break;case 5:ir(e,at,un);break;default:throw Error(i(329))}}}return ut(e,$e()),e.callbackNode===r?yf.bind(null,e):null}function tu(e,t){var r=Yo;return e.current.memoizedState.isDehydrated&&(or(e,t).flags|=256),e=bs(e,t),e!==2&&(t=at,at=r,t!==null&&nu(t)),e}function nu(e){at===null?at=e:at.push.apply(at,e)}function im(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var u=r[s],f=u.getSnapshot;u=u.value;try{if(!Tt(f(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dn(e,t){for(t&=~Ga,t&=~ks,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gt(t),s=1<<r;e[r]=-1,t&=~s}}function vf(e){if((Ce&6)!==0)throw Error(i(327));Wr();var t=Sr(e,0);if((t&1)===0)return ut(e,$e()),null;var r=bs(e,t);if(e.tag!==0&&r===2){var s=mo(e);s!==0&&(t=s,r=tu(e,s))}if(r===1)throw r=Uo,or(e,0),Dn(e,t),ut(e,$e()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ir(e,at,un),ut(e,$e()),null}function ru(e,t){var r=Ce;Ce|=1;try{return e(t)}finally{Ce=r,Ce===0&&(Vr=$e()+500,ts&&bn())}}function rr(e){In!==null&&In.tag===0&&(Ce&6)===0&&Wr();var t=Ce;Ce|=1;var r=bt.transition,s=je;try{if(bt.transition=null,je=1,e)return e()}finally{je=s,bt.transition=r,Ce=t,(Ce&6)===0&&bn()}}function ou(){xt=Br.current,Le(Br)}function or(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Dg(r)),We!==null)for(r=We.return;r!==null;){var s=r;switch(ha(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ji();break;case 3:Or(),Le(it),Le(Je),Ca();break;case 5:Na(s);break;case 4:Or();break;case 13:Le(Oe);break;case 19:Le(Oe);break;case 10:xa(s.type._context);break;case 22:case 23:ou()}r=r.return}if(Ze=e,We=e=Rn(e.current,null),qe=xt=t,Xe=0,Uo=null,Ga=ks=nr=0,at=Yo=null,Jn!==null){for(t=0;t<Jn.length;t++)if(r=Jn[t],s=r.interleaved,s!==null){r.interleaved=null;var u=s.next,f=r.pending;if(f!==null){var w=f.next;f.next=u,s.next=w}r.pending=s}Jn=null}return e}function xf(e,t){do{var r=We;try{if(va(),ds.current=gs,fs){for(var s=He.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}fs=!1}if(tr=0,Qe=Ye=He=null,Oo=!1,Ho=0,Ka.current=null,r===null||r.return===null){Xe=1,Uo=t,We=null;break}e:{var f=e,w=r.return,j=r,I=t;if(t=qe,j.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=I,re=j,oe=re.tag;if((re.mode&1)===0&&(oe===0||oe===11||oe===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var de=Vd(w);if(de!==null){de.flags&=-257,Wd(de,w,j,f,t),de.mode&1&&Bd(f,Z,t),t=de,I=Z;var he=t.updateQueue;if(he===null){var ge=new Set;ge.add(I),t.updateQueue=ge}else he.add(I);break e}else{if((t&1)===0){Bd(f,Z,t),iu();break e}I=Error(i(426))}}else if(De&&j.mode&1){var Be=Vd(w);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),Wd(Be,w,j,f,t),ma(Hr(I,j));break e}}f=I=Hr(I,j),Xe!==4&&(Xe=2),Yo===null?Yo=[f]:Yo.push(f),f=w;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var W=Hd(f,I,t);hd(f,W);break e;case 1:j=I;var R=f.type,U=f.stateNode;if((f.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(zn===null||!zn.has(U)))){f.flags|=65536,t&=-t,f.lanes|=t;var se=Fd(f,j,t);hd(f,se);break e}}f=f.return}while(f!==null)}kf(r)}catch(me){t=me,We===r&&r!==null&&(We=r=r.return);continue}break}while(!0)}function wf(){var e=Ss.current;return Ss.current=gs,e===null?gs:e}function iu(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),Ze===null||(nr&268435455)===0&&(ks&268435455)===0||Dn(Ze,qe)}function bs(e,t){var r=Ce;Ce|=2;var s=wf();(Ze!==e||qe!==t)&&(un=null,or(e,t));do try{sm();break}catch(u){xf(e,u)}while(!0);if(va(),Ce=r,Ss.current=s,We!==null)throw Error(i(261));return Ze=null,qe=0,Xe}function sm(){for(;We!==null;)Sf(We)}function lm(){for(;We!==null&&!bl();)Sf(We)}function Sf(e){var t=Ef(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?kf(e):We=t,Ka.current=null}function kf(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Jg(r,t,xt),r!==null){We=r;return}}else{if(r=em(r,t),r!==null){r.flags&=32767,We=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,We=null;return}}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Xe===0&&(Xe=5)}function ir(e,t,r){var s=je,u=bt.transition;try{bt.transition=null,je=1,am(e,t,r,s)}finally{bt.transition=u,je=s}return null}function am(e,t,r,s){do Wr();while(In!==null);if((Ce&6)!==0)throw Error(i(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(Ri(e,f),e===Ze&&(We=Ze=null,qe=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Ns||(Ns=!0,Cf(vr,function(){return Wr(),null})),f=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||f){f=bt.transition,bt.transition=null;var w=je;je=1;var j=Ce;Ce|=4,Ka.current=null,nm(e,r),ff(r,e),bg(ia),Oi=!!oa,ia=oa=null,e.current=r,rm(r),zi(),Ce=j,je=w,bt.transition=f}else e.current=r;if(Ns&&(Ns=!1,In=e,Es=u),f=e.pendingLanes,f===0&&(zn=null),Tl(r.stateNode),ut(e,$e()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],s(u.value,{componentStack:u.stack,digest:u.digest});if(_s)throw _s=!1,e=Ja,Ja=null,e;return(Es&1)!==0&&e.tag!==0&&Wr(),f=e.pendingLanes,(f&1)!==0?e===eu?Xo++:(Xo=0,eu=e):Xo=0,bn(),null}function Wr(){if(In!==null){var e=uc(Es),t=bt.transition,r=je;try{if(bt.transition=null,je=16>e?16:e,In===null)var s=!1;else{if(e=In,In=null,Es=0,(Ce&6)!==0)throw Error(i(331));var u=Ce;for(Ce|=4,fe=e.current;fe!==null;){var f=fe,w=f.child;if((fe.flags&16)!==0){var j=f.deletions;if(j!==null){for(var I=0;I<j.length;I++){var Z=j[I];for(fe=Z;fe!==null;){var re=fe;switch(re.tag){case 0:case 11:case 15:Wo(8,re,f)}var oe=re.child;if(oe!==null)oe.return=re,fe=oe;else for(;fe!==null;){re=fe;var ne=re.sibling,de=re.return;if(lf(re),re===Z){fe=null;break}if(ne!==null){ne.return=de,fe=ne;break}fe=de}}}var he=f.alternate;if(he!==null){var ge=he.child;if(ge!==null){he.child=null;do{var Be=ge.sibling;ge.sibling=null,ge=Be}while(ge!==null)}}fe=f}}if((f.subtreeFlags&2064)!==0&&w!==null)w.return=f,fe=w;else e:for(;fe!==null;){if(f=fe,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Wo(9,f,f.return)}var W=f.sibling;if(W!==null){W.return=f.return,fe=W;break e}fe=f.return}}var R=e.current;for(fe=R;fe!==null;){w=fe;var U=w.child;if((w.subtreeFlags&2064)!==0&&U!==null)U.return=w,fe=U;else e:for(w=R;fe!==null;){if(j=fe,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:ws(9,j)}}catch(me){Fe(j,j.return,me)}if(j===w){fe=null;break e}var se=j.sibling;if(se!==null){se.return=j.return,fe=se;break e}fe=j.return}}if(Ce=u,bn(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Xn,e)}catch{}s=!0}return s}finally{je=r,bt.transition=t}}return!1}function _f(e,t,r){t=Hr(r,t),t=Hd(e,t,1),e=Pn(e,t,1),t=ot(),e!==null&&(Qn(e,1,t),ut(e,t))}function Fe(e,t,r){if(e.tag===3)_f(e,e,r);else for(;t!==null;){if(t.tag===3){_f(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(zn===null||!zn.has(s))){e=Hr(r,e),e=Fd(t,e,1),t=Pn(t,e,1),e=ot(),t!==null&&(Qn(t,1,e),ut(t,e));break}}t=t.return}}function um(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&r,Ze===e&&(qe&r)===r&&(Xe===4||Xe===3&&(qe&130023424)===qe&&500>$e()-qa?or(e,0):Ga|=r),ut(e,t)}function Nf(e,t){t===0&&((e.mode&1)===0?t=1:(t=wr,wr<<=1,(wr&130023424)===0&&(wr=4194304)));var r=ot();e=sn(e,t),e!==null&&(Qn(e,t,r),ut(e,r))}function cm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Nf(e,r)}function dm(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),Nf(e,r)}var Ef;Ef=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)lt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return lt=!1,qg(e,t,r);lt=(e.flags&131072)!==0}else lt=!1,De&&(t.flags&1048576)!==0&&rd(t,rs,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;vs(e,t),e=t.pendingProps;var u=zr(t,Je.current);$r(t,r),u=ja(null,t,s,e,u,r);var f=Pa();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(s)?(f=!0,es(t)):f=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ka(t),u.updater=ms,t.stateNode=u,u._reactInternals=t,Ra(t,s,e,r),t=Ha(null,t,s,!0,f,r)):(t.tag=0,De&&f&&fa(t),rt(null,t,u,r),t=t.child),t;case 16:s=t.elementType;e:{switch(vs(e,t),e=t.pendingProps,u=s._init,s=u(s._payload),t.type=s,u=t.tag=hm(s),e=It(s,e),u){case 0:t=Oa(null,t,s,e,r);break e;case 1:t=Kd(null,t,s,e,r);break e;case 11:t=Ud(null,t,s,e,r);break e;case 14:t=Yd(null,t,s,It(s.type,e),r);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:It(s,u),Oa(e,t,s,u,r);case 1:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:It(s,u),Kd(e,t,s,u,r);case 3:e:{if(Gd(t),e===null)throw Error(i(387));s=t.pendingProps,f=t.memoizedState,u=f.element,fd(e,t),us(t,s,null,r);var w=t.memoizedState;if(s=w.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){u=Hr(Error(i(423)),t),t=qd(e,t,s,r,u);break e}else if(s!==u){u=Hr(Error(i(424)),t),t=qd(e,t,s,r,u);break e}else for(vt=En(t.stateNode.containerInfo.firstChild),yt=t,De=!0,zt=null,r=cd(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Dr(),s===u){t=an(e,t,r);break e}rt(e,t,s,r)}t=t.child}return t;case 5:return gd(t),e===null&&ga(t),s=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,w=u.children,sa(s,u)?w=null:f!==null&&sa(s,f)&&(t.flags|=32),Zd(e,t),rt(e,t,w,r),t.child;case 6:return e===null&&ga(t),null;case 13:return Jd(e,t,r);case 4:return _a(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Rr(t,null,s,r):rt(e,t,s,r),t.child;case 11:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:It(s,u),Ud(e,t,s,u,r);case 7:return rt(e,t,t.pendingProps,r),t.child;case 8:return rt(e,t,t.pendingProps.children,r),t.child;case 12:return rt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,u=t.pendingProps,f=t.memoizedProps,w=u.value,ze(ss,s._currentValue),s._currentValue=w,f!==null)if(Tt(f.value,w)){if(f.children===u.children&&!it.current){t=an(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var j=f.dependencies;if(j!==null){w=f.child;for(var I=j.firstContext;I!==null;){if(I.context===s){if(f.tag===1){I=ln(-1,r&-r),I.tag=2;var Z=f.updateQueue;if(Z!==null){Z=Z.shared;var re=Z.pending;re===null?I.next=I:(I.next=re.next,re.next=I),Z.pending=I}}f.lanes|=r,I=f.alternate,I!==null&&(I.lanes|=r),wa(f.return,r,t),j.lanes|=r;break}I=I.next}}else if(f.tag===10)w=f.type===t.type?null:f.child;else if(f.tag===18){if(w=f.return,w===null)throw Error(i(341));w.lanes|=r,j=w.alternate,j!==null&&(j.lanes|=r),wa(w,r,t),w=f.sibling}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===t){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}rt(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,s=t.pendingProps.children,$r(t,r),u=Ct(u),s=s(u),t.flags|=1,rt(e,t,s,r),t.child;case 14:return s=t.type,u=It(s,t.pendingProps),u=It(s.type,u),Yd(e,t,s,u,r);case 15:return Xd(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:It(s,u),vs(e,t),t.tag=1,st(s)?(e=!0,es(t)):e=!1,$r(t,r),$d(t,s,u),Ra(t,s,u,r),Ha(null,t,s,!0,e,r);case 19:return tf(e,t,r);case 22:return Qd(e,t,r)}throw Error(i(156,t.tag))};function Cf(e,t){return Pi(e,t)}function fm(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,r,s){return new fm(e,t,r,s)}function su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hm(e){if(typeof e=="function")return su(e)?1:0;if(e!=null){if(e=e.$$typeof,e===q)return 11;if(e===F)return 14}return 2}function Rn(e,t){var r=e.alternate;return r===null?(r=jt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function js(e,t,r,s,u,f){var w=2;if(s=e,typeof e=="function")su(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case H:return sr(r.children,u,f,t);case Q:w=8,u|=8;break;case G:return e=jt(12,r,t,u|2),e.elementType=G,e.lanes=f,e;case K:return e=jt(13,r,t,u),e.elementType=K,e.lanes=f,e;case P:return e=jt(19,r,t,u),e.elementType=P,e.lanes=f,e;case B:return Ps(r,u,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ie:w=10;break e;case X:w=9;break e;case q:w=11;break e;case F:w=14;break e;case A:w=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=jt(w,r,t,u),t.elementType=e,t.type=s,t.lanes=f,t}function sr(e,t,r,s){return e=jt(7,e,s,t),e.lanes=r,e}function Ps(e,t,r,s){return e=jt(22,e,s,t),e.elementType=B,e.lanes=r,e.stateNode={isHidden:!1},e}function lu(e,t,r){return e=jt(6,e,null,t),e.lanes=r,e}function au(e,t,r){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pm(e,t,r,s,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yo(0),this.expirationTimes=yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yo(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function uu(e,t,r,s,u,f,w,j,I){return e=new pm(e,t,r,j,I),t===1?(t=1,f===!0&&(t|=8)):t=0,f=jt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ka(f),e}function gm(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Mf(e){if(!e)return Mn;e=e._reactInternals;e:{if(Bt(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(st(r))return ed(e,r,t)}return t}function bf(e,t,r,s,u,f,w,j,I){return e=uu(r,s,!0,e,u,f,w,j,I),e.context=Mf(null),r=e.current,s=ot(),u=Ln(r),f=ln(s,u),f.callback=t??null,Pn(r,f,u),e.current.lanes=u,Qn(e,u,s),ut(e,s),e}function Ts(e,t,r,s){var u=t.current,f=ot(),w=Ln(u);return r=Mf(r),t.context===null?t.context=r:t.pendingContext=r,t=ln(f,w),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Pn(u,t,w),e!==null&&(Rt(e,u,w,f),as(e,u,w)),w}function zs(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cu(e,t){jf(e,t),(e=e.alternate)&&jf(e,t)}function mm(){return null}var Pf=typeof reportError=="function"?reportError:function(e){console.error(e)};function du(e){this._internalRoot=e}Is.prototype.render=du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Ts(e,t,null,null)},Is.prototype.unmount=du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rr(function(){Ts(null,e,null,null)}),t[tn]=null}};function Is(e){this._internalRoot=e}Is.prototype.unstable_scheduleHydration=function(e){if(e){var t=fc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<kn.length&&t!==0&&t<kn[r].priority;r++);kn.splice(r,0,e),r===0&&gc(e)}};function fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ls(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tf(){}function ym(e,t,r,s,u){if(u){if(typeof s=="function"){var f=s;s=function(){var Z=zs(w);f.call(Z)}}var w=bf(t,s,e,0,null,!1,!1,"",Tf);return e._reactRootContainer=w,e[tn]=w.current,To(e.nodeType===8?e.parentNode:e),rr(),w}for(;u=e.lastChild;)e.removeChild(u);if(typeof s=="function"){var j=s;s=function(){var Z=zs(I);j.call(Z)}}var I=uu(e,0,!1,null,null,!1,!1,"",Tf);return e._reactRootContainer=I,e[tn]=I.current,To(e.nodeType===8?e.parentNode:e),rr(function(){Ts(t,I,r,s)}),I}function Ds(e,t,r,s,u){var f=r._reactRootContainer;if(f){var w=f;if(typeof u=="function"){var j=u;u=function(){var I=zs(w);j.call(I)}}Ts(t,w,e,u)}else w=ym(r,t,e,u,s);return zs(w)}cc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=vn(t.pendingLanes);r!==0&&(Rl(t,r|1),ut(t,$e()),(Ce&6)===0&&(Vr=$e()+500,bn()))}break;case 13:rr(function(){var s=sn(e,1);if(s!==null){var u=ot();Rt(s,e,1,u)}}),cu(e,1)}},Al=function(e){if(e.tag===13){var t=sn(e,134217728);if(t!==null){var r=ot();Rt(t,e,134217728,r)}cu(e,134217728)}},dc=function(e){if(e.tag===13){var t=Ln(e),r=sn(e,t);if(r!==null){var s=ot();Rt(r,e,t,s)}cu(e,t)}},fc=function(){return je},hc=function(e,t){var r=je;try{return je=e,t()}finally{je=r}},ao=function(e,t,r){switch(t){case"input":if(Ve(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var u=qi(s);if(!u)throw Error(i(90));xe(s),Ve(s,u)}}}break;case"textarea":gr(e,r);break;case"select":t=r.value,t!=null&&kt(e,!!r.multiple,t,!1)}},Ei=ru,Ci=rr;var vm={usingClientEntryPoint:!1,Events:[Lo,Pr,qi,_i,Ni,ru]},Qo={findFiberByHostInstance:Zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xm={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bi(e),e===null?null:e.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||mm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{Xn=Rs.inject(xm),_t=Rs}catch{}}return ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vm,ct.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fu(t))throw Error(i(200));return gm(e,t,null,r)},ct.createRoot=function(e,t){if(!fu(e))throw Error(i(299));var r=!1,s="",u=Pf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=uu(e,1,!1,null,null,r,!1,s,u),e[tn]=t.current,To(e.nodeType===8?e.parentNode:e),new du(t)},ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=bi(t),e=e===null?null:e.stateNode,e},ct.flushSync=function(e){return rr(e)},ct.hydrate=function(e,t,r){if(!Ls(t))throw Error(i(200));return Ds(null,e,t,!0,r)},ct.hydrateRoot=function(e,t,r){if(!fu(e))throw Error(i(405));var s=r!=null&&r.hydratedSources||null,u=!1,f="",w=Pf;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),t=bf(t,null,e,1,r??null,u,!1,f,w),e[tn]=t.current,To(e),s)for(e=0;e<s.length;e++)r=s[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new Is(t)},ct.render=function(e,t,r){if(!Ls(t))throw Error(i(200));return Ds(null,e,t,!1,r)},ct.unmountComponentAtNode=function(e){if(!Ls(e))throw Error(i(40));return e._reactRootContainer?(rr(function(){Ds(null,null,e,!1,function(){e._reactRootContainer=null,e[tn]=null})}),!0):!1},ct.unstable_batchedUpdates=ru,ct.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Ls(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Ds(e,t,r,!1,s)},ct.version="18.3.1-next-f1338f8080-20240426",ct}var Of;function Jh(){if(Of)return gu.exports;Of=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),gu.exports=Cm(),gu.exports}var Hf;function Mm(){if(Hf)return As;Hf=1;var n=Jh();return As.createRoot=n.createRoot,As.hydrateRoot=n.hydrateRoot,As}var bm=Mm();function Ue(n){if(typeof n=="string"||typeof n=="number")return""+n;let o="";if(Array.isArray(n))for(let i=0,l;i<n.length;i++)(l=Ue(n[i]))!==""&&(o+=(o&&" ")+l);else for(let i in n)n[i]&&(o+=(o&&" ")+i);return o}var jm={value:()=>{}};function ul(){for(var n=0,o=arguments.length,i={},l;n<o;++n){if(!(l=arguments[n]+"")||l in i||/[\s.]/.test(l))throw new Error("illegal type: "+l);i[l]=[]}return new Xs(i)}function Xs(n){this._=n}function Pm(n,o){return n.trim().split(/^|\s+/).map(function(i){var l="",a=i.indexOf(".");if(a>=0&&(l=i.slice(a+1),i=i.slice(0,a)),i&&!o.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:l}})}Xs.prototype=ul.prototype={constructor:Xs,on:function(n,o){var i=this._,l=Pm(n+"",i),a,c=-1,d=l.length;if(arguments.length<2){for(;++c<d;)if((a=(n=l[c]).type)&&(a=Tm(i[a],n.name)))return a;return}if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++c<d;)if(a=(n=l[c]).type)i[a]=Ff(i[a],n.name,o);else if(o==null)for(a in i)i[a]=Ff(i[a],n.name,null);return this},copy:function(){var n={},o=this._;for(var i in o)n[i]=o[i].slice();return new Xs(n)},call:function(n,o){if((a=arguments.length-2)>0)for(var i=new Array(a),l=0,a,c;l<a;++l)i[l]=arguments[l+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(c=this._[n],l=0,a=c.length;l<a;++l)c[l].value.apply(o,i)},apply:function(n,o,i){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var l=this._[n],a=0,c=l.length;a<c;++a)l[a].value.apply(o,i)}};function Tm(n,o){for(var i=0,l=n.length,a;i<l;++i)if((a=n[i]).name===o)return a.value}function Ff(n,o,i){for(var l=0,a=n.length;l<a;++l)if(n[l].name===o){n[l]=jm,n=n.slice(0,l).concat(n.slice(l+1));break}return i!=null&&n.push({name:o,value:i}),n}var Tu="http://www.w3.org/1999/xhtml";const Bf={svg:"http://www.w3.org/2000/svg",xhtml:Tu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function cl(n){var o=n+="",i=o.indexOf(":");return i>=0&&(o=n.slice(0,i))!=="xmlns"&&(n=n.slice(i+1)),Bf.hasOwnProperty(o)?{space:Bf[o],local:n}:n}function zm(n){return function(){var o=this.ownerDocument,i=this.namespaceURI;return i===Tu&&o.documentElement.namespaceURI===Tu?o.createElement(n):o.createElementNS(i,n)}}function Im(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function ep(n){var o=cl(n);return(o.local?Im:zm)(o)}function Lm(){}function Yu(n){return n==null?Lm:function(){return this.querySelector(n)}}function Dm(n){typeof n!="function"&&(n=Yu(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,h=l[a]=new Array(d),p,g,y=0;y<d;++y)(p=c[y])&&(g=n.call(p,p.__data__,y,c))&&("__data__"in p&&(g.__data__=p.__data__),h[y]=g);return new St(l,this._parents)}function Rm(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function Am(){return[]}function tp(n){return n==null?Am:function(){return this.querySelectorAll(n)}}function $m(n){return function(){return Rm(n.apply(this,arguments))}}function Om(n){typeof n=="function"?n=$m(n):n=tp(n);for(var o=this._groups,i=o.length,l=[],a=[],c=0;c<i;++c)for(var d=o[c],h=d.length,p,g=0;g<h;++g)(p=d[g])&&(l.push(n.call(p,p.__data__,g,d)),a.push(p));return new St(l,a)}function np(n){return function(){return this.matches(n)}}function rp(n){return function(o){return o.matches(n)}}var Hm=Array.prototype.find;function Fm(n){return function(){return Hm.call(this.children,n)}}function Bm(){return this.firstElementChild}function Vm(n){return this.select(n==null?Bm:Fm(typeof n=="function"?n:rp(n)))}var Wm=Array.prototype.filter;function Um(){return Array.from(this.children)}function Ym(n){return function(){return Wm.call(this.children,n)}}function Xm(n){return this.selectAll(n==null?Um:Ym(typeof n=="function"?n:rp(n)))}function Qm(n){typeof n!="function"&&(n=np(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,h=l[a]=[],p,g=0;g<d;++g)(p=c[g])&&n.call(p,p.__data__,g,c)&&h.push(p);return new St(l,this._parents)}function op(n){return new Array(n.length)}function Zm(){return new St(this._enter||this._groups.map(op),this._parents)}function qs(n,o){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=o}qs.prototype={constructor:qs,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,o){return this._parent.insertBefore(n,o)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function Km(n){return function(){return n}}function Gm(n,o,i,l,a,c){for(var d=0,h,p=o.length,g=c.length;d<g;++d)(h=o[d])?(h.__data__=c[d],l[d]=h):i[d]=new qs(n,c[d]);for(;d<p;++d)(h=o[d])&&(a[d]=h)}function qm(n,o,i,l,a,c,d){var h,p,g=new Map,y=o.length,v=c.length,x=new Array(y),k;for(h=0;h<y;++h)(p=o[h])&&(x[h]=k=d.call(p,p.__data__,h,o)+"",g.has(k)?a[h]=p:g.set(k,p));for(h=0;h<v;++h)k=d.call(n,c[h],h,c)+"",(p=g.get(k))?(l[h]=p,p.__data__=c[h],g.delete(k)):i[h]=new qs(n,c[h]);for(h=0;h<y;++h)(p=o[h])&&g.get(x[h])===p&&(a[h]=p)}function Jm(n){return n.__data__}function ey(n,o){if(!arguments.length)return Array.from(this,Jm);var i=o?qm:Gm,l=this._parents,a=this._groups;typeof n!="function"&&(n=Km(n));for(var c=a.length,d=new Array(c),h=new Array(c),p=new Array(c),g=0;g<c;++g){var y=l[g],v=a[g],x=v.length,k=ty(n.call(y,y&&y.__data__,g,l)),_=k.length,b=h[g]=new Array(_),C=d[g]=new Array(_),N=p[g]=new Array(x);i(y,v,b,C,N,k,o);for(var T=0,S=0,M,O;T<_;++T)if(M=b[T]){for(T>=S&&(S=T+1);!(O=C[S])&&++S<_;);M._next=O||null}}return d=new St(d,l),d._enter=h,d._exit=p,d}function ty(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function ny(){return new St(this._exit||this._groups.map(op),this._parents)}function ry(n,o,i){var l=this.enter(),a=this,c=this.exit();return typeof n=="function"?(l=n(l),l&&(l=l.selection())):l=l.append(n+""),o!=null&&(a=o(a),a&&(a=a.selection())),i==null?c.remove():i(c),l&&a?l.merge(a).order():a}function oy(n){for(var o=n.selection?n.selection():n,i=this._groups,l=o._groups,a=i.length,c=l.length,d=Math.min(a,c),h=new Array(a),p=0;p<d;++p)for(var g=i[p],y=l[p],v=g.length,x=h[p]=new Array(v),k,_=0;_<v;++_)(k=g[_]||y[_])&&(x[_]=k);for(;p<a;++p)h[p]=i[p];return new St(h,this._parents)}function iy(){for(var n=this._groups,o=-1,i=n.length;++o<i;)for(var l=n[o],a=l.length-1,c=l[a],d;--a>=0;)(d=l[a])&&(c&&d.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(d,c),c=d);return this}function sy(n){n||(n=ly);function o(v,x){return v&&x?n(v.__data__,x.__data__):!v-!x}for(var i=this._groups,l=i.length,a=new Array(l),c=0;c<l;++c){for(var d=i[c],h=d.length,p=a[c]=new Array(h),g,y=0;y<h;++y)(g=d[y])&&(p[y]=g);p.sort(o)}return new St(a,this._parents).order()}function ly(n,o){return n<o?-1:n>o?1:n>=o?0:NaN}function ay(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function uy(){return Array.from(this)}function cy(){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,c=l.length;a<c;++a){var d=l[a];if(d)return d}return null}function dy(){let n=0;for(const o of this)++n;return n}function fy(){return!this.node()}function hy(n){for(var o=this._groups,i=0,l=o.length;i<l;++i)for(var a=o[i],c=0,d=a.length,h;c<d;++c)(h=a[c])&&n.call(h,h.__data__,c,a);return this}function py(n){return function(){this.removeAttribute(n)}}function gy(n){return function(){this.removeAttributeNS(n.space,n.local)}}function my(n,o){return function(){this.setAttribute(n,o)}}function yy(n,o){return function(){this.setAttributeNS(n.space,n.local,o)}}function vy(n,o){return function(){var i=o.apply(this,arguments);i==null?this.removeAttribute(n):this.setAttribute(n,i)}}function xy(n,o){return function(){var i=o.apply(this,arguments);i==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,i)}}function wy(n,o){var i=cl(n);if(arguments.length<2){var l=this.node();return i.local?l.getAttributeNS(i.space,i.local):l.getAttribute(i)}return this.each((o==null?i.local?gy:py:typeof o=="function"?i.local?xy:vy:i.local?yy:my)(i,o))}function ip(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Sy(n){return function(){this.style.removeProperty(n)}}function ky(n,o,i){return function(){this.style.setProperty(n,o,i)}}function _y(n,o,i){return function(){var l=o.apply(this,arguments);l==null?this.style.removeProperty(n):this.style.setProperty(n,l,i)}}function Ny(n,o,i){return arguments.length>1?this.each((o==null?Sy:typeof o=="function"?_y:ky)(n,o,i??"")):Gr(this.node(),n)}function Gr(n,o){return n.style.getPropertyValue(o)||ip(n).getComputedStyle(n,null).getPropertyValue(o)}function Ey(n){return function(){delete this[n]}}function Cy(n,o){return function(){this[n]=o}}function My(n,o){return function(){var i=o.apply(this,arguments);i==null?delete this[n]:this[n]=i}}function by(n,o){return arguments.length>1?this.each((o==null?Ey:typeof o=="function"?My:Cy)(n,o)):this.node()[n]}function sp(n){return n.trim().split(/^|\s+/)}function Xu(n){return n.classList||new lp(n)}function lp(n){this._node=n,this._names=sp(n.getAttribute("class")||"")}lp.prototype={add:function(n){var o=this._names.indexOf(n);o<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var o=this._names.indexOf(n);o>=0&&(this._names.splice(o,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function ap(n,o){for(var i=Xu(n),l=-1,a=o.length;++l<a;)i.add(o[l])}function up(n,o){for(var i=Xu(n),l=-1,a=o.length;++l<a;)i.remove(o[l])}function jy(n){return function(){ap(this,n)}}function Py(n){return function(){up(this,n)}}function Ty(n,o){return function(){(o.apply(this,arguments)?ap:up)(this,n)}}function zy(n,o){var i=sp(n+"");if(arguments.length<2){for(var l=Xu(this.node()),a=-1,c=i.length;++a<c;)if(!l.contains(i[a]))return!1;return!0}return this.each((typeof o=="function"?Ty:o?jy:Py)(i,o))}function Iy(){this.textContent=""}function Ly(n){return function(){this.textContent=n}}function Dy(n){return function(){var o=n.apply(this,arguments);this.textContent=o??""}}function Ry(n){return arguments.length?this.each(n==null?Iy:(typeof n=="function"?Dy:Ly)(n)):this.node().textContent}function Ay(){this.innerHTML=""}function $y(n){return function(){this.innerHTML=n}}function Oy(n){return function(){var o=n.apply(this,arguments);this.innerHTML=o??""}}function Hy(n){return arguments.length?this.each(n==null?Ay:(typeof n=="function"?Oy:$y)(n)):this.node().innerHTML}function Fy(){this.nextSibling&&this.parentNode.appendChild(this)}function By(){return this.each(Fy)}function Vy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wy(){return this.each(Vy)}function Uy(n){var o=typeof n=="function"?n:ep(n);return this.select(function(){return this.appendChild(o.apply(this,arguments))})}function Yy(){return null}function Xy(n,o){var i=typeof n=="function"?n:ep(n),l=o==null?Yy:typeof o=="function"?o:Yu(o);return this.select(function(){return this.insertBefore(i.apply(this,arguments),l.apply(this,arguments)||null)})}function Qy(){var n=this.parentNode;n&&n.removeChild(this)}function Zy(){return this.each(Qy)}function Ky(){var n=this.cloneNode(!1),o=this.parentNode;return o?o.insertBefore(n,this.nextSibling):n}function Gy(){var n=this.cloneNode(!0),o=this.parentNode;return o?o.insertBefore(n,this.nextSibling):n}function qy(n){return this.select(n?Gy:Ky)}function Jy(n){return arguments.length?this.property("__data__",n):this.node().__data__}function ev(n){return function(o){n.call(this,o,this.__data__)}}function tv(n){return n.trim().split(/^|\s+/).map(function(o){var i="",l=o.indexOf(".");return l>=0&&(i=o.slice(l+1),o=o.slice(0,l)),{type:o,name:i}})}function nv(n){return function(){var o=this.__on;if(o){for(var i=0,l=-1,a=o.length,c;i<a;++i)c=o[i],(!n.type||c.type===n.type)&&c.name===n.name?this.removeEventListener(c.type,c.listener,c.options):o[++l]=c;++l?o.length=l:delete this.__on}}}function rv(n,o,i){return function(){var l=this.__on,a,c=ev(o);if(l){for(var d=0,h=l.length;d<h;++d)if((a=l[d]).type===n.type&&a.name===n.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=c,a.options=i),a.value=o;return}}this.addEventListener(n.type,c,i),a={type:n.type,name:n.name,value:o,listener:c,options:i},l?l.push(a):this.__on=[a]}}function ov(n,o,i){var l=tv(n+""),a,c=l.length,d;if(arguments.length<2){var h=this.node().__on;if(h){for(var p=0,g=h.length,y;p<g;++p)for(a=0,y=h[p];a<c;++a)if((d=l[a]).type===y.type&&d.name===y.name)return y.value}return}for(h=o?rv:nv,a=0;a<c;++a)this.each(h(l[a],o,i));return this}function cp(n,o,i){var l=ip(n),a=l.CustomEvent;typeof a=="function"?a=new a(o,i):(a=l.document.createEvent("Event"),i?(a.initEvent(o,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(o,!1,!1)),n.dispatchEvent(a)}function iv(n,o){return function(){return cp(this,n,o)}}function sv(n,o){return function(){return cp(this,n,o.apply(this,arguments))}}function lv(n,o){return this.each((typeof o=="function"?sv:iv)(n,o))}function*av(){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var l=n[o],a=0,c=l.length,d;a<c;++a)(d=l[a])&&(yield d)}var dp=[null];function St(n,o){this._groups=n,this._parents=o}function fi(){return new St([[document.documentElement]],dp)}function uv(){return this}St.prototype=fi.prototype={constructor:St,select:Dm,selectAll:Om,selectChild:Vm,selectChildren:Xm,filter:Qm,data:ey,enter:Zm,exit:ny,join:ry,merge:oy,selection:uv,order:iy,sort:sy,call:ay,nodes:uy,node:cy,size:dy,empty:fy,each:hy,attr:wy,style:Ny,property:by,classed:zy,text:Ry,html:Hy,raise:By,lower:Wy,append:Uy,insert:Xy,remove:Zy,clone:qy,datum:Jy,on:ov,dispatch:lv,[Symbol.iterator]:av};function wt(n){return typeof n=="string"?new St([[document.querySelector(n)]],[document.documentElement]):new St([[n]],dp)}function cv(n){let o;for(;o=n.sourceEvent;)n=o;return n}function At(n,o){if(n=cv(n),o===void 0&&(o=n.currentTarget),o){var i=o.ownerSVGElement||o;if(i.createSVGPoint){var l=i.createSVGPoint();return l.x=n.clientX,l.y=n.clientY,l=l.matrixTransform(o.getScreenCTM().inverse()),[l.x,l.y]}if(o.getBoundingClientRect){var a=o.getBoundingClientRect();return[n.clientX-a.left-o.clientLeft,n.clientY-a.top-o.clientTop]}}return[n.pageX,n.pageY]}const dv={passive:!1},ni={capture:!0,passive:!1};function vu(n){n.stopImmediatePropagation()}function Zr(n){n.preventDefault(),n.stopImmediatePropagation()}function fp(n){var o=n.document.documentElement,i=wt(n).on("dragstart.drag",Zr,ni);"onselectstart"in o?i.on("selectstart.drag",Zr,ni):(o.__noselect=o.style.MozUserSelect,o.style.MozUserSelect="none")}function hp(n,o){var i=n.document.documentElement,l=wt(n).on("dragstart.drag",null);o&&(l.on("click.drag",Zr,ni),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in i?l.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const $s=n=>()=>n;function zu(n,{sourceEvent:o,subject:i,target:l,identifier:a,active:c,x:d,y:h,dx:p,dy:g,dispatch:y}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:h,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:y}})}zu.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function fv(n){return!n.ctrlKey&&!n.button}function hv(){return this.parentNode}function pv(n,o){return o??{x:n.x,y:n.y}}function gv(){return navigator.maxTouchPoints||"ontouchstart"in this}function pp(){var n=fv,o=hv,i=pv,l=gv,a={},c=ul("start","drag","end"),d=0,h,p,g,y,v=0;function x(M){M.on("mousedown.drag",k).filter(l).on("touchstart.drag",C).on("touchmove.drag",N,dv).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function k(M,O){if(!(y||!n.call(this,M,O))){var D=S(this,o.call(this,M,O),M,O,"mouse");D&&(wt(M.view).on("mousemove.drag",_,ni).on("mouseup.drag",b,ni),fp(M.view),vu(M),g=!1,h=M.clientX,p=M.clientY,D("start",M))}}function _(M){if(Zr(M),!g){var O=M.clientX-h,D=M.clientY-p;g=O*O+D*D>v}a.mouse("drag",M)}function b(M){wt(M.view).on("mousemove.drag mouseup.drag",null),hp(M.view,g),Zr(M),a.mouse("end",M)}function C(M,O){if(n.call(this,M,O)){var D=M.changedTouches,H=o.call(this,M,O),Q=D.length,G,ie;for(G=0;G<Q;++G)(ie=S(this,H,M,O,D[G].identifier,D[G]))&&(vu(M),ie("start",M,D[G]))}}function N(M){var O=M.changedTouches,D=O.length,H,Q;for(H=0;H<D;++H)(Q=a[O[H].identifier])&&(Zr(M),Q("drag",M,O[H]))}function T(M){var O=M.changedTouches,D=O.length,H,Q;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),H=0;H<D;++H)(Q=a[O[H].identifier])&&(vu(M),Q("end",M,O[H]))}function S(M,O,D,H,Q,G){var ie=c.copy(),X=At(G||D,O),q,K,P;if((P=i.call(M,new zu("beforestart",{sourceEvent:D,target:x,identifier:Q,active:d,x:X[0],y:X[1],dx:0,dy:0,dispatch:ie}),H))!=null)return q=P.x-X[0]||0,K=P.y-X[1]||0,function F(A,B,z){var $=X,V;switch(A){case"start":a[Q]=F,V=d++;break;case"end":delete a[Q],--d;case"drag":X=At(z||B,O),V=d;break}ie.call(A,M,new zu(A,{sourceEvent:B,subject:P,target:x,identifier:Q,active:V,x:X[0]+q,y:X[1]+K,dx:X[0]-$[0],dy:X[1]-$[1],dispatch:ie}),H)}}return x.filter=function(M){return arguments.length?(n=typeof M=="function"?M:$s(!!M),x):n},x.container=function(M){return arguments.length?(o=typeof M=="function"?M:$s(M),x):o},x.subject=function(M){return arguments.length?(i=typeof M=="function"?M:$s(M),x):i},x.touchable=function(M){return arguments.length?(l=typeof M=="function"?M:$s(!!M),x):l},x.on=function(){var M=c.on.apply(c,arguments);return M===c?x:M},x.clickDistance=function(M){return arguments.length?(v=(M=+M)*M,x):Math.sqrt(v)},x}function Qu(n,o,i){n.prototype=o.prototype=i,i.constructor=n}function gp(n,o){var i=Object.create(n.prototype);for(var l in o)i[l]=o[l];return i}function hi(){}var ri=.7,Js=1/ri,Kr="\\s*([+-]?\\d+)\\s*",oi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mv=/^#([0-9a-f]{3,8})$/,yv=new RegExp(`^rgb\\(${Kr},${Kr},${Kr}\\)$`),vv=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),xv=new RegExp(`^rgba\\(${Kr},${Kr},${Kr},${oi}\\)$`),wv=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${oi}\\)$`),Sv=new RegExp(`^hsl\\(${oi},${Qt},${Qt}\\)$`),kv=new RegExp(`^hsla\\(${oi},${Qt},${Qt},${oi}\\)$`),Vf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qu(hi,dr,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Wf,formatHex:Wf,formatHex8:_v,formatHsl:Nv,formatRgb:Uf,toString:Uf});function Wf(){return this.rgb().formatHex()}function _v(){return this.rgb().formatHex8()}function Nv(){return mp(this).formatHsl()}function Uf(){return this.rgb().formatRgb()}function dr(n){var o,i;return n=(n+"").trim().toLowerCase(),(o=mv.exec(n))?(i=o[1].length,o=parseInt(o[1],16),i===6?Yf(o):i===3?new dt(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):i===8?Os(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):i===4?Os(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=yv.exec(n))?new dt(o[1],o[2],o[3],1):(o=vv.exec(n))?new dt(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=xv.exec(n))?Os(o[1],o[2],o[3],o[4]):(o=wv.exec(n))?Os(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=Sv.exec(n))?Zf(o[1],o[2]/100,o[3]/100,1):(o=kv.exec(n))?Zf(o[1],o[2]/100,o[3]/100,o[4]):Vf.hasOwnProperty(n)?Yf(Vf[n]):n==="transparent"?new dt(NaN,NaN,NaN,0):null}function Yf(n){return new dt(n>>16&255,n>>8&255,n&255,1)}function Os(n,o,i,l){return l<=0&&(n=o=i=NaN),new dt(n,o,i,l)}function Ev(n){return n instanceof hi||(n=dr(n)),n?(n=n.rgb(),new dt(n.r,n.g,n.b,n.opacity)):new dt}function Iu(n,o,i,l){return arguments.length===1?Ev(n):new dt(n,o,i,l??1)}function dt(n,o,i,l){this.r=+n,this.g=+o,this.b=+i,this.opacity=+l}Qu(dt,Iu,gp(hi,{brighter(n){return n=n==null?Js:Math.pow(Js,n),new dt(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?ri:Math.pow(ri,n),new dt(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new dt(ur(this.r),ur(this.g),ur(this.b),el(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xf,formatHex:Xf,formatHex8:Cv,formatRgb:Qf,toString:Qf}));function Xf(){return`#${ar(this.r)}${ar(this.g)}${ar(this.b)}`}function Cv(){return`#${ar(this.r)}${ar(this.g)}${ar(this.b)}${ar((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qf(){const n=el(this.opacity);return`${n===1?"rgb(":"rgba("}${ur(this.r)}, ${ur(this.g)}, ${ur(this.b)}${n===1?")":`, ${n})`}`}function el(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function ur(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function ar(n){return n=ur(n),(n<16?"0":"")+n.toString(16)}function Zf(n,o,i,l){return l<=0?n=o=i=NaN:i<=0||i>=1?n=o=NaN:o<=0&&(n=NaN),new $t(n,o,i,l)}function mp(n){if(n instanceof $t)return new $t(n.h,n.s,n.l,n.opacity);if(n instanceof hi||(n=dr(n)),!n)return new $t;if(n instanceof $t)return n;n=n.rgb();var o=n.r/255,i=n.g/255,l=n.b/255,a=Math.min(o,i,l),c=Math.max(o,i,l),d=NaN,h=c-a,p=(c+a)/2;return h?(o===c?d=(i-l)/h+(i<l)*6:i===c?d=(l-o)/h+2:d=(o-i)/h+4,h/=p<.5?c+a:2-c-a,d*=60):h=p>0&&p<1?0:d,new $t(d,h,p,n.opacity)}function Mv(n,o,i,l){return arguments.length===1?mp(n):new $t(n,o,i,l??1)}function $t(n,o,i,l){this.h=+n,this.s=+o,this.l=+i,this.opacity=+l}Qu($t,Mv,gp(hi,{brighter(n){return n=n==null?Js:Math.pow(Js,n),new $t(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?ri:Math.pow(ri,n),new $t(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,o=isNaN(n)||isNaN(this.s)?0:this.s,i=this.l,l=i+(i<.5?i:1-i)*o,a=2*i-l;return new dt(xu(n>=240?n-240:n+120,a,l),xu(n,a,l),xu(n<120?n+240:n-120,a,l),this.opacity)},clamp(){return new $t(Kf(this.h),Hs(this.s),Hs(this.l),el(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=el(this.opacity);return`${n===1?"hsl(":"hsla("}${Kf(this.h)}, ${Hs(this.s)*100}%, ${Hs(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Kf(n){return n=(n||0)%360,n<0?n+360:n}function Hs(n){return Math.max(0,Math.min(1,n||0))}function xu(n,o,i){return(n<60?o+(i-o)*n/60:n<180?i:n<240?o+(i-o)*(240-n)/60:o)*255}const Zu=n=>()=>n;function bv(n,o){return function(i){return n+i*o}}function jv(n,o,i){return n=Math.pow(n,i),o=Math.pow(o,i)-n,i=1/i,function(l){return Math.pow(n+l*o,i)}}function Pv(n){return(n=+n)==1?yp:function(o,i){return i-o?jv(o,i,n):Zu(isNaN(o)?i:o)}}function yp(n,o){var i=o-n;return i?bv(n,i):Zu(isNaN(n)?o:n)}const tl=(function n(o){var i=Pv(o);function l(a,c){var d=i((a=Iu(a)).r,(c=Iu(c)).r),h=i(a.g,c.g),p=i(a.b,c.b),g=yp(a.opacity,c.opacity);return function(y){return a.r=d(y),a.g=h(y),a.b=p(y),a.opacity=g(y),a+""}}return l.gamma=n,l})(1);function Tv(n,o){o||(o=[]);var i=n?Math.min(o.length,n.length):0,l=o.slice(),a;return function(c){for(a=0;a<i;++a)l[a]=n[a]*(1-c)+o[a]*c;return l}}function zv(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Iv(n,o){var i=o?o.length:0,l=n?Math.min(i,n.length):0,a=new Array(l),c=new Array(i),d;for(d=0;d<l;++d)a[d]=ei(n[d],o[d]);for(;d<i;++d)c[d]=o[d];return function(h){for(d=0;d<l;++d)c[d]=a[d](h);return c}}function Lv(n,o){var i=new Date;return n=+n,o=+o,function(l){return i.setTime(n*(1-l)+o*l),i}}function Xt(n,o){return n=+n,o=+o,function(i){return n*(1-i)+o*i}}function Dv(n,o){var i={},l={},a;(n===null||typeof n!="object")&&(n={}),(o===null||typeof o!="object")&&(o={});for(a in o)a in n?i[a]=ei(n[a],o[a]):l[a]=o[a];return function(c){for(a in i)l[a]=i[a](c);return l}}var Lu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wu=new RegExp(Lu.source,"g");function Rv(n){return function(){return n}}function Av(n){return function(o){return n(o)+""}}function vp(n,o){var i=Lu.lastIndex=wu.lastIndex=0,l,a,c,d=-1,h=[],p=[];for(n=n+"",o=o+"";(l=Lu.exec(n))&&(a=wu.exec(o));)(c=a.index)>i&&(c=o.slice(i,c),h[d]?h[d]+=c:h[++d]=c),(l=l[0])===(a=a[0])?h[d]?h[d]+=a:h[++d]=a:(h[++d]=null,p.push({i:d,x:Xt(l,a)})),i=wu.lastIndex;return i<o.length&&(c=o.slice(i),h[d]?h[d]+=c:h[++d]=c),h.length<2?p[0]?Av(p[0].x):Rv(o):(o=p.length,function(g){for(var y=0,v;y<o;++y)h[(v=p[y]).i]=v.x(g);return h.join("")})}function ei(n,o){var i=typeof o,l;return o==null||i==="boolean"?Zu(o):(i==="number"?Xt:i==="string"?(l=dr(o))?(o=l,tl):vp:o instanceof dr?tl:o instanceof Date?Lv:zv(o)?Tv:Array.isArray(o)?Iv:typeof o.valueOf!="function"&&typeof o.toString!="function"||isNaN(o)?Dv:Xt)(n,o)}var Gf=180/Math.PI,Du={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xp(n,o,i,l,a,c){var d,h,p;return(d=Math.sqrt(n*n+o*o))&&(n/=d,o/=d),(p=n*i+o*l)&&(i-=n*p,l-=o*p),(h=Math.sqrt(i*i+l*l))&&(i/=h,l/=h,p/=h),n*l<o*i&&(n=-n,o=-o,p=-p,d=-d),{translateX:a,translateY:c,rotate:Math.atan2(o,n)*Gf,skewX:Math.atan(p)*Gf,scaleX:d,scaleY:h}}var Fs;function $v(n){const o=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return o.isIdentity?Du:xp(o.a,o.b,o.c,o.d,o.e,o.f)}function Ov(n){return n==null||(Fs||(Fs=document.createElementNS("http://www.w3.org/2000/svg","g")),Fs.setAttribute("transform",n),!(n=Fs.transform.baseVal.consolidate()))?Du:(n=n.matrix,xp(n.a,n.b,n.c,n.d,n.e,n.f))}function wp(n,o,i,l){function a(g){return g.length?g.pop()+" ":""}function c(g,y,v,x,k,_){if(g!==v||y!==x){var b=k.push("translate(",null,o,null,i);_.push({i:b-4,x:Xt(g,v)},{i:b-2,x:Xt(y,x)})}else(v||x)&&k.push("translate("+v+o+x+i)}function d(g,y,v,x){g!==y?(g-y>180?y+=360:y-g>180&&(g+=360),x.push({i:v.push(a(v)+"rotate(",null,l)-2,x:Xt(g,y)})):y&&v.push(a(v)+"rotate("+y+l)}function h(g,y,v,x){g!==y?x.push({i:v.push(a(v)+"skewX(",null,l)-2,x:Xt(g,y)}):y&&v.push(a(v)+"skewX("+y+l)}function p(g,y,v,x,k,_){if(g!==v||y!==x){var b=k.push(a(k)+"scale(",null,",",null,")");_.push({i:b-4,x:Xt(g,v)},{i:b-2,x:Xt(y,x)})}else(v!==1||x!==1)&&k.push(a(k)+"scale("+v+","+x+")")}return function(g,y){var v=[],x=[];return g=n(g),y=n(y),c(g.translateX,g.translateY,y.translateX,y.translateY,v,x),d(g.rotate,y.rotate,v,x),h(g.skewX,y.skewX,v,x),p(g.scaleX,g.scaleY,y.scaleX,y.scaleY,v,x),g=y=null,function(k){for(var _=-1,b=x.length,C;++_<b;)v[(C=x[_]).i]=C.x(k);return v.join("")}}}var Hv=wp($v,"px, ","px)","deg)"),Fv=wp(Ov,", ",")",")"),Bv=1e-12;function qf(n){return((n=Math.exp(n))+1/n)/2}function Vv(n){return((n=Math.exp(n))-1/n)/2}function Wv(n){return((n=Math.exp(2*n))-1)/(n+1)}const Qs=(function n(o,i,l){function a(c,d){var h=c[0],p=c[1],g=c[2],y=d[0],v=d[1],x=d[2],k=y-h,_=v-p,b=k*k+_*_,C,N;if(b<Bv)N=Math.log(x/g)/o,C=function(H){return[h+H*k,p+H*_,g*Math.exp(o*H*N)]};else{var T=Math.sqrt(b),S=(x*x-g*g+l*b)/(2*g*i*T),M=(x*x-g*g-l*b)/(2*x*i*T),O=Math.log(Math.sqrt(S*S+1)-S),D=Math.log(Math.sqrt(M*M+1)-M);N=(D-O)/o,C=function(H){var Q=H*N,G=qf(O),ie=g/(i*T)*(G*Wv(o*Q+O)-Vv(O));return[h+ie*k,p+ie*_,g*G/qf(o*Q+O)]}}return C.duration=N*1e3*o/Math.SQRT2,C}return a.rho=function(c){var d=Math.max(.001,+c),h=d*d,p=h*h;return n(d,h,p)},a})(Math.SQRT2,2,4);var qr=0,qo=0,Ko=0,Sp=1e3,nl,Jo,rl=0,fr=0,dl=0,ii=typeof performance=="object"&&performance.now?performance:Date,kp=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Ku(){return fr||(kp(Uv),fr=ii.now()+dl)}function Uv(){fr=0}function ol(){this._call=this._time=this._next=null}ol.prototype=_p.prototype={constructor:ol,restart:function(n,o,i){if(typeof n!="function")throw new TypeError("callback is not a function");i=(i==null?Ku():+i)+(o==null?0:+o),!this._next&&Jo!==this&&(Jo?Jo._next=this:nl=this,Jo=this),this._call=n,this._time=i,Ru()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ru())}};function _p(n,o,i){var l=new ol;return l.restart(n,o,i),l}function Yv(){Ku(),++qr;for(var n=nl,o;n;)(o=fr-n._time)>=0&&n._call.call(void 0,o),n=n._next;--qr}function Jf(){fr=(rl=ii.now())+dl,qr=qo=0;try{Yv()}finally{qr=0,Qv(),fr=0}}function Xv(){var n=ii.now(),o=n-rl;o>Sp&&(dl-=o,rl=n)}function Qv(){for(var n,o=nl,i,l=1/0;o;)o._call?(l>o._time&&(l=o._time),n=o,o=o._next):(i=o._next,o._next=null,o=n?n._next=i:nl=i);Jo=n,Ru(l)}function Ru(n){if(!qr){qo&&(qo=clearTimeout(qo));var o=n-fr;o>24?(n<1/0&&(qo=setTimeout(Jf,n-ii.now()-dl)),Ko&&(Ko=clearInterval(Ko))):(Ko||(rl=ii.now(),Ko=setInterval(Xv,Sp)),qr=1,kp(Jf))}}function eh(n,o,i){var l=new ol;return o=o==null?0:+o,l.restart(a=>{l.stop(),n(a+o)},o,i),l}var Zv=ul("start","end","cancel","interrupt"),Kv=[],Np=0,th=1,Au=2,Zs=3,nh=4,$u=5,Ks=6;function fl(n,o,i,l,a,c){var d=n.__transition;if(!d)n.__transition={};else if(i in d)return;Gv(n,i,{name:o,index:l,group:a,on:Zv,tween:Kv,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:Np})}function Gu(n,o){var i=Ft(n,o);if(i.state>Np)throw new Error("too late; already scheduled");return i}function Kt(n,o){var i=Ft(n,o);if(i.state>Zs)throw new Error("too late; already running");return i}function Ft(n,o){var i=n.__transition;if(!i||!(i=i[o]))throw new Error("transition not found");return i}function Gv(n,o,i){var l=n.__transition,a;l[o]=i,i.timer=_p(c,0,i.time);function c(g){i.state=th,i.timer.restart(d,i.delay,i.time),i.delay<=g&&d(g-i.delay)}function d(g){var y,v,x,k;if(i.state!==th)return p();for(y in l)if(k=l[y],k.name===i.name){if(k.state===Zs)return eh(d);k.state===nh?(k.state=Ks,k.timer.stop(),k.on.call("interrupt",n,n.__data__,k.index,k.group),delete l[y]):+y<o&&(k.state=Ks,k.timer.stop(),k.on.call("cancel",n,n.__data__,k.index,k.group),delete l[y])}if(eh(function(){i.state===Zs&&(i.state=nh,i.timer.restart(h,i.delay,i.time),h(g))}),i.state=Au,i.on.call("start",n,n.__data__,i.index,i.group),i.state===Au){for(i.state=Zs,a=new Array(x=i.tween.length),y=0,v=-1;y<x;++y)(k=i.tween[y].value.call(n,n.__data__,i.index,i.group))&&(a[++v]=k);a.length=v+1}}function h(g){for(var y=g<i.duration?i.ease.call(null,g/i.duration):(i.timer.restart(p),i.state=$u,1),v=-1,x=a.length;++v<x;)a[v].call(n,y);i.state===$u&&(i.on.call("end",n,n.__data__,i.index,i.group),p())}function p(){i.state=Ks,i.timer.stop(),delete l[o];for(var g in l)return;delete n.__transition}}function Gs(n,o){var i=n.__transition,l,a,c=!0,d;if(i){o=o==null?null:o+"";for(d in i){if((l=i[d]).name!==o){c=!1;continue}a=l.state>Au&&l.state<$u,l.state=Ks,l.timer.stop(),l.on.call(a?"interrupt":"cancel",n,n.__data__,l.index,l.group),delete i[d]}c&&delete n.__transition}}function qv(n){return this.each(function(){Gs(this,n)})}function Jv(n,o){var i,l;return function(){var a=Kt(this,n),c=a.tween;if(c!==i){l=i=c;for(var d=0,h=l.length;d<h;++d)if(l[d].name===o){l=l.slice(),l.splice(d,1);break}}a.tween=l}}function ex(n,o,i){var l,a;if(typeof i!="function")throw new Error;return function(){var c=Kt(this,n),d=c.tween;if(d!==l){a=(l=d).slice();for(var h={name:o,value:i},p=0,g=a.length;p<g;++p)if(a[p].name===o){a[p]=h;break}p===g&&a.push(h)}c.tween=a}}function tx(n,o){var i=this._id;if(n+="",arguments.length<2){for(var l=Ft(this.node(),i).tween,a=0,c=l.length,d;a<c;++a)if((d=l[a]).name===n)return d.value;return null}return this.each((o==null?Jv:ex)(i,n,o))}function qu(n,o,i){var l=n._id;return n.each(function(){var a=Kt(this,l);(a.value||(a.value={}))[o]=i.apply(this,arguments)}),function(a){return Ft(a,l).value[o]}}function Ep(n,o){var i;return(typeof o=="number"?Xt:o instanceof dr?tl:(i=dr(o))?(o=i,tl):vp)(n,o)}function nx(n){return function(){this.removeAttribute(n)}}function rx(n){return function(){this.removeAttributeNS(n.space,n.local)}}function ox(n,o,i){var l,a=i+"",c;return function(){var d=this.getAttribute(n);return d===a?null:d===l?c:c=o(l=d,i)}}function ix(n,o,i){var l,a=i+"",c;return function(){var d=this.getAttributeNS(n.space,n.local);return d===a?null:d===l?c:c=o(l=d,i)}}function sx(n,o,i){var l,a,c;return function(){var d,h=i(this),p;return h==null?void this.removeAttribute(n):(d=this.getAttribute(n),p=h+"",d===p?null:d===l&&p===a?c:(a=p,c=o(l=d,h)))}}function lx(n,o,i){var l,a,c;return function(){var d,h=i(this),p;return h==null?void this.removeAttributeNS(n.space,n.local):(d=this.getAttributeNS(n.space,n.local),p=h+"",d===p?null:d===l&&p===a?c:(a=p,c=o(l=d,h)))}}function ax(n,o){var i=cl(n),l=i==="transform"?Fv:Ep;return this.attrTween(n,typeof o=="function"?(i.local?lx:sx)(i,l,qu(this,"attr."+n,o)):o==null?(i.local?rx:nx)(i):(i.local?ix:ox)(i,l,o))}function ux(n,o){return function(i){this.setAttribute(n,o.call(this,i))}}function cx(n,o){return function(i){this.setAttributeNS(n.space,n.local,o.call(this,i))}}function dx(n,o){var i,l;function a(){var c=o.apply(this,arguments);return c!==l&&(i=(l=c)&&cx(n,c)),i}return a._value=o,a}function fx(n,o){var i,l;function a(){var c=o.apply(this,arguments);return c!==l&&(i=(l=c)&&ux(n,c)),i}return a._value=o,a}function hx(n,o){var i="attr."+n;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(o==null)return this.tween(i,null);if(typeof o!="function")throw new Error;var l=cl(n);return this.tween(i,(l.local?dx:fx)(l,o))}function px(n,o){return function(){Gu(this,n).delay=+o.apply(this,arguments)}}function gx(n,o){return o=+o,function(){Gu(this,n).delay=o}}function mx(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?px:gx)(o,n)):Ft(this.node(),o).delay}function yx(n,o){return function(){Kt(this,n).duration=+o.apply(this,arguments)}}function vx(n,o){return o=+o,function(){Kt(this,n).duration=o}}function xx(n){var o=this._id;return arguments.length?this.each((typeof n=="function"?yx:vx)(o,n)):Ft(this.node(),o).duration}function wx(n,o){if(typeof o!="function")throw new Error;return function(){Kt(this,n).ease=o}}function Sx(n){var o=this._id;return arguments.length?this.each(wx(o,n)):Ft(this.node(),o).ease}function kx(n,o){return function(){var i=o.apply(this,arguments);if(typeof i!="function")throw new Error;Kt(this,n).ease=i}}function _x(n){if(typeof n!="function")throw new Error;return this.each(kx(this._id,n))}function Nx(n){typeof n!="function"&&(n=np(n));for(var o=this._groups,i=o.length,l=new Array(i),a=0;a<i;++a)for(var c=o[a],d=c.length,h=l[a]=[],p,g=0;g<d;++g)(p=c[g])&&n.call(p,p.__data__,g,c)&&h.push(p);return new hn(l,this._parents,this._name,this._id)}function Ex(n){if(n._id!==this._id)throw new Error;for(var o=this._groups,i=n._groups,l=o.length,a=i.length,c=Math.min(l,a),d=new Array(l),h=0;h<c;++h)for(var p=o[h],g=i[h],y=p.length,v=d[h]=new Array(y),x,k=0;k<y;++k)(x=p[k]||g[k])&&(v[k]=x);for(;h<l;++h)d[h]=o[h];return new hn(d,this._parents,this._name,this._id)}function Cx(n){return(n+"").trim().split(/^|\s+/).every(function(o){var i=o.indexOf(".");return i>=0&&(o=o.slice(0,i)),!o||o==="start"})}function Mx(n,o,i){var l,a,c=Cx(o)?Gu:Kt;return function(){var d=c(this,n),h=d.on;h!==l&&(a=(l=h).copy()).on(o,i),d.on=a}}function bx(n,o){var i=this._id;return arguments.length<2?Ft(this.node(),i).on.on(n):this.each(Mx(i,n,o))}function jx(n){return function(){var o=this.parentNode;for(var i in this.__transition)if(+i!==n)return;o&&o.removeChild(this)}}function Px(){return this.on("end.remove",jx(this._id))}function Tx(n){var o=this._name,i=this._id;typeof n!="function"&&(n=Yu(n));for(var l=this._groups,a=l.length,c=new Array(a),d=0;d<a;++d)for(var h=l[d],p=h.length,g=c[d]=new Array(p),y,v,x=0;x<p;++x)(y=h[x])&&(v=n.call(y,y.__data__,x,h))&&("__data__"in y&&(v.__data__=y.__data__),g[x]=v,fl(g[x],o,i,x,g,Ft(y,i)));return new hn(c,this._parents,o,i)}function zx(n){var o=this._name,i=this._id;typeof n!="function"&&(n=tp(n));for(var l=this._groups,a=l.length,c=[],d=[],h=0;h<a;++h)for(var p=l[h],g=p.length,y,v=0;v<g;++v)if(y=p[v]){for(var x=n.call(y,y.__data__,v,p),k,_=Ft(y,i),b=0,C=x.length;b<C;++b)(k=x[b])&&fl(k,o,i,b,x,_);c.push(x),d.push(y)}return new hn(c,d,o,i)}var Ix=fi.prototype.constructor;function Lx(){return new Ix(this._groups,this._parents)}function Dx(n,o){var i,l,a;return function(){var c=Gr(this,n),d=(this.style.removeProperty(n),Gr(this,n));return c===d?null:c===i&&d===l?a:a=o(i=c,l=d)}}function Cp(n){return function(){this.style.removeProperty(n)}}function Rx(n,o,i){var l,a=i+"",c;return function(){var d=Gr(this,n);return d===a?null:d===l?c:c=o(l=d,i)}}function Ax(n,o,i){var l,a,c;return function(){var d=Gr(this,n),h=i(this),p=h+"";return h==null&&(p=h=(this.style.removeProperty(n),Gr(this,n))),d===p?null:d===l&&p===a?c:(a=p,c=o(l=d,h))}}function $x(n,o){var i,l,a,c="style."+o,d="end."+c,h;return function(){var p=Kt(this,n),g=p.on,y=p.value[c]==null?h||(h=Cp(o)):void 0;(g!==i||a!==y)&&(l=(i=g).copy()).on(d,a=y),p.on=l}}function Ox(n,o,i){var l=(n+="")=="transform"?Hv:Ep;return o==null?this.styleTween(n,Dx(n,l)).on("end.style."+n,Cp(n)):typeof o=="function"?this.styleTween(n,Ax(n,l,qu(this,"style."+n,o))).each($x(this._id,n)):this.styleTween(n,Rx(n,l,o),i).on("end.style."+n,null)}function Hx(n,o,i){return function(l){this.style.setProperty(n,o.call(this,l),i)}}function Fx(n,o,i){var l,a;function c(){var d=o.apply(this,arguments);return d!==a&&(l=(a=d)&&Hx(n,d,i)),l}return c._value=o,c}function Bx(n,o,i){var l="style."+(n+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(o==null)return this.tween(l,null);if(typeof o!="function")throw new Error;return this.tween(l,Fx(n,o,i??""))}function Vx(n){return function(){this.textContent=n}}function Wx(n){return function(){var o=n(this);this.textContent=o??""}}function Ux(n){return this.tween("text",typeof n=="function"?Wx(qu(this,"text",n)):Vx(n==null?"":n+""))}function Yx(n){return function(o){this.textContent=n.call(this,o)}}function Xx(n){var o,i;function l(){var a=n.apply(this,arguments);return a!==i&&(o=(i=a)&&Yx(a)),o}return l._value=n,l}function Qx(n){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;return this.tween(o,Xx(n))}function Zx(){for(var n=this._name,o=this._id,i=Mp(),l=this._groups,a=l.length,c=0;c<a;++c)for(var d=l[c],h=d.length,p,g=0;g<h;++g)if(p=d[g]){var y=Ft(p,o);fl(p,n,i,g,d,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new hn(l,this._parents,n,i)}function Kx(){var n,o,i=this,l=i._id,a=i.size();return new Promise(function(c,d){var h={value:d},p={value:function(){--a===0&&c()}};i.each(function(){var g=Kt(this,l),y=g.on;y!==n&&(o=(n=y).copy(),o._.cancel.push(h),o._.interrupt.push(h),o._.end.push(p)),g.on=o}),a===0&&c()})}var Gx=0;function hn(n,o,i,l){this._groups=n,this._parents=o,this._name=i,this._id=l}function Mp(){return++Gx}var cn=fi.prototype;hn.prototype={constructor:hn,select:Tx,selectAll:zx,selectChild:cn.selectChild,selectChildren:cn.selectChildren,filter:Nx,merge:Ex,selection:Lx,transition:Zx,call:cn.call,nodes:cn.nodes,node:cn.node,size:cn.size,empty:cn.empty,each:cn.each,on:bx,attr:ax,attrTween:hx,style:Ox,styleTween:Bx,text:Ux,textTween:Qx,remove:Px,tween:tx,delay:mx,duration:xx,ease:Sx,easeVarying:_x,end:Kx,[Symbol.iterator]:cn[Symbol.iterator]};function qx(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Jx={time:null,delay:0,duration:250,ease:qx};function e1(n,o){for(var i;!(i=n.__transition)||!(i=i[o]);)if(!(n=n.parentNode))throw new Error(`transition ${o} not found`);return i}function t1(n){var o,i;n instanceof hn?(o=n._id,n=n._name):(o=Mp(),(i=Jx).time=Ku(),n=n==null?null:n+"");for(var l=this._groups,a=l.length,c=0;c<a;++c)for(var d=l[c],h=d.length,p,g=0;g<h;++g)(p=d[g])&&fl(p,n,o,g,d,i||e1(p,o));return new hn(l,this._parents,n,o)}fi.prototype.interrupt=qv;fi.prototype.transition=t1;const Bs=n=>()=>n;function n1(n,{sourceEvent:o,target:i,transform:l,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:a}})}function dn(n,o,i){this.k=n,this.x=o,this.y=i}dn.prototype={constructor:dn,scale:function(n){return n===1?this:new dn(this.k*n,this.x,this.y)},translate:function(n,o){return n===0&o===0?this:new dn(this.k,this.x+this.k*n,this.y+this.k*o)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hl=new dn(1,0,0);bp.prototype=dn.prototype;function bp(n){for(;!n.__zoom;)if(!(n=n.parentNode))return hl;return n.__zoom}function Su(n){n.stopImmediatePropagation()}function Go(n){n.preventDefault(),n.stopImmediatePropagation()}function r1(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function o1(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function rh(){return this.__zoom||hl}function i1(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function s1(){return navigator.maxTouchPoints||"ontouchstart"in this}function l1(n,o,i){var l=n.invertX(o[0][0])-i[0][0],a=n.invertX(o[1][0])-i[1][0],c=n.invertY(o[0][1])-i[0][1],d=n.invertY(o[1][1])-i[1][1];return n.translate(a>l?(l+a)/2:Math.min(0,l)||Math.max(0,a),d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d))}function jp(){var n=r1,o=o1,i=l1,l=i1,a=s1,c=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],h=250,p=Qs,g=ul("start","zoom","end"),y,v,x,k=500,_=150,b=0,C=10;function N(P){P.property("__zoom",rh).on("wheel.zoom",Q,{passive:!1}).on("mousedown.zoom",G).on("dblclick.zoom",ie).filter(a).on("touchstart.zoom",X).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(P,F,A,B){var z=P.selection?P.selection():P;z.property("__zoom",rh),P!==z?O(P,F,A,B):z.interrupt().each(function(){D(this,arguments).event(B).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},N.scaleBy=function(P,F,A,B){N.scaleTo(P,function(){var z=this.__zoom.k,$=typeof F=="function"?F.apply(this,arguments):F;return z*$},A,B)},N.scaleTo=function(P,F,A,B){N.transform(P,function(){var z=o.apply(this,arguments),$=this.__zoom,V=A==null?M(z):typeof A=="function"?A.apply(this,arguments):A,E=$.invert(V),L=typeof F=="function"?F.apply(this,arguments):F;return i(S(T($,L),V,E),z,d)},A,B)},N.translateBy=function(P,F,A,B){N.transform(P,function(){return i(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof A=="function"?A.apply(this,arguments):A),o.apply(this,arguments),d)},null,B)},N.translateTo=function(P,F,A,B,z){N.transform(P,function(){var $=o.apply(this,arguments),V=this.__zoom,E=B==null?M($):typeof B=="function"?B.apply(this,arguments):B;return i(hl.translate(E[0],E[1]).scale(V.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof A=="function"?-A.apply(this,arguments):-A),$,d)},B,z)};function T(P,F){return F=Math.max(c[0],Math.min(c[1],F)),F===P.k?P:new dn(F,P.x,P.y)}function S(P,F,A){var B=F[0]-A[0]*P.k,z=F[1]-A[1]*P.k;return B===P.x&&z===P.y?P:new dn(P.k,B,z)}function M(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function O(P,F,A,B){P.on("start.zoom",function(){D(this,arguments).event(B).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(B).end()}).tween("zoom",function(){var z=this,$=arguments,V=D(z,$).event(B),E=o.apply(z,$),L=A==null?M(E):typeof A=="function"?A.apply(z,$):A,J=Math.max(E[1][0]-E[0][0],E[1][1]-E[0][1]),te=z.__zoom,le=typeof F=="function"?F.apply(z,$):F,ce=p(te.invert(L).concat(J/te.k),le.invert(L).concat(J/le.k));return function(ue){if(ue===1)ue=le;else{var ee=ce(ue),ae=J/ee[2];ue=new dn(ae,L[0]-ee[0]*ae,L[1]-ee[1]*ae)}V.zoom(null,ue)}})}function D(P,F,A){return!A&&P.__zooming||new H(P,F)}function H(P,F){this.that=P,this.args=F,this.active=0,this.sourceEvent=null,this.extent=o.apply(P,F),this.taps=0}H.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,F){return this.mouse&&P!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var F=wt(this.that).datum();g.call(P,this.that,new n1(P,{sourceEvent:this.sourceEvent,target:N,transform:this.that.__zoom,dispatch:g}),F)}};function Q(P,...F){if(!n.apply(this,arguments))return;var A=D(this,F).event(P),B=this.__zoom,z=Math.max(c[0],Math.min(c[1],B.k*Math.pow(2,l.apply(this,arguments)))),$=At(P);if(A.wheel)(A.mouse[0][0]!==$[0]||A.mouse[0][1]!==$[1])&&(A.mouse[1]=B.invert(A.mouse[0]=$)),clearTimeout(A.wheel);else{if(B.k===z)return;A.mouse=[$,B.invert($)],Gs(this),A.start()}Go(P),A.wheel=setTimeout(V,_),A.zoom("mouse",i(S(T(B,z),A.mouse[0],A.mouse[1]),A.extent,d));function V(){A.wheel=null,A.end()}}function G(P,...F){if(x||!n.apply(this,arguments))return;var A=P.currentTarget,B=D(this,F,!0).event(P),z=wt(P.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",J,!0),$=At(P,A),V=P.clientX,E=P.clientY;fp(P.view),Su(P),B.mouse=[$,this.__zoom.invert($)],Gs(this),B.start();function L(te){if(Go(te),!B.moved){var le=te.clientX-V,ce=te.clientY-E;B.moved=le*le+ce*ce>b}B.event(te).zoom("mouse",i(S(B.that.__zoom,B.mouse[0]=At(te,A),B.mouse[1]),B.extent,d))}function J(te){z.on("mousemove.zoom mouseup.zoom",null),hp(te.view,B.moved),Go(te),B.event(te).end()}}function ie(P,...F){if(n.apply(this,arguments)){var A=this.__zoom,B=At(P.changedTouches?P.changedTouches[0]:P,this),z=A.invert(B),$=A.k*(P.shiftKey?.5:2),V=i(S(T(A,$),B,z),o.apply(this,F),d);Go(P),h>0?wt(this).transition().duration(h).call(O,V,B,P):wt(this).call(N.transform,V,B,P)}}function X(P,...F){if(n.apply(this,arguments)){var A=P.touches,B=A.length,z=D(this,F,P.changedTouches.length===B).event(P),$,V,E,L;for(Su(P),V=0;V<B;++V)E=A[V],L=At(E,this),L=[L,this.__zoom.invert(L),E.identifier],z.touch0?!z.touch1&&z.touch0[2]!==L[2]&&(z.touch1=L,z.taps=0):(z.touch0=L,$=!0,z.taps=1+!!y);y&&(y=clearTimeout(y)),$&&(z.taps<2&&(v=L[0],y=setTimeout(function(){y=null},k)),Gs(this),z.start())}}function q(P,...F){if(this.__zooming){var A=D(this,F).event(P),B=P.changedTouches,z=B.length,$,V,E,L;for(Go(P),$=0;$<z;++$)V=B[$],E=At(V,this),A.touch0&&A.touch0[2]===V.identifier?A.touch0[0]=E:A.touch1&&A.touch1[2]===V.identifier&&(A.touch1[0]=E);if(V=A.that.__zoom,A.touch1){var J=A.touch0[0],te=A.touch0[1],le=A.touch1[0],ce=A.touch1[1],ue=(ue=le[0]-J[0])*ue+(ue=le[1]-J[1])*ue,ee=(ee=ce[0]-te[0])*ee+(ee=ce[1]-te[1])*ee;V=T(V,Math.sqrt(ue/ee)),E=[(J[0]+le[0])/2,(J[1]+le[1])/2],L=[(te[0]+ce[0])/2,(te[1]+ce[1])/2]}else if(A.touch0)E=A.touch0[0],L=A.touch0[1];else return;A.zoom("touch",i(S(V,E,L),A.extent,d))}}function K(P,...F){if(this.__zooming){var A=D(this,F).event(P),B=P.changedTouches,z=B.length,$,V;for(Su(P),x&&clearTimeout(x),x=setTimeout(function(){x=null},k),$=0;$<z;++$)V=B[$],A.touch0&&A.touch0[2]===V.identifier?delete A.touch0:A.touch1&&A.touch1[2]===V.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(V=At(V,this),Math.hypot(v[0]-V[0],v[1]-V[1])<C)){var E=wt(this).on("dblclick.zoom");E&&E.apply(this,arguments)}}}return N.wheelDelta=function(P){return arguments.length?(l=typeof P=="function"?P:Bs(+P),N):l},N.filter=function(P){return arguments.length?(n=typeof P=="function"?P:Bs(!!P),N):n},N.touchable=function(P){return arguments.length?(a=typeof P=="function"?P:Bs(!!P),N):a},N.extent=function(P){return arguments.length?(o=typeof P=="function"?P:Bs([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),N):o},N.scaleExtent=function(P){return arguments.length?(c[0]=+P[0],c[1]=+P[1],N):[c[0],c[1]]},N.translateExtent=function(P){return arguments.length?(d[0][0]=+P[0][0],d[1][0]=+P[1][0],d[0][1]=+P[0][1],d[1][1]=+P[1][1],N):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},N.constrain=function(P){return arguments.length?(i=P,N):i},N.duration=function(P){return arguments.length?(h=+P,N):h},N.interpolate=function(P){return arguments.length?(p=P,N):p},N.on=function(){var P=g.on.apply(g,arguments);return P===g?N:P},N.clickDistance=function(P){return arguments.length?(b=(P=+P)*P,N):Math.sqrt(b)},N.tapDistance=function(P){return arguments.length?(C=+P,N):C},N}const Zt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,{id:o,sourceHandle:i,targetHandle:l})=>`Couldn't create edge for ${n} handle id: "${n==="source"?i:l}", edge id: ${o}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(n="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${n}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},si=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Pp=["Enter"," ","Escape"],Tp={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:n,x:o,y:i})=>`Moved selected node ${n}. New position, x: ${o}, y: ${i}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Jr;(function(n){n.Strict="strict",n.Loose="loose"})(Jr||(Jr={}));var cr;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(cr||(cr={}));var li;(function(n){n.Partial="partial",n.Full="full"})(li||(li={}));const zp={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Hn;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(Hn||(Hn={}));var il;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(il||(il={}));var pe;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(pe||(pe={}));const oh={[pe.Left]:pe.Right,[pe.Right]:pe.Left,[pe.Top]:pe.Bottom,[pe.Bottom]:pe.Top};function Ip(n){return n===null?null:n?"valid":"invalid"}const Lp=n=>"id"in n&&"source"in n&&"target"in n,a1=n=>"id"in n&&"position"in n&&!("source"in n)&&!("target"in n),Ju=n=>"id"in n&&"internals"in n&&!("source"in n)&&!("target"in n),pi=(n,o=[0,0])=>{const{width:i,height:l}=pn(n),a=n.origin??o,c=i*a[0],d=l*a[1];return{x:n.position.x-c,y:n.position.y-d}},u1=(n,o={nodeOrigin:[0,0]})=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const i=n.reduce((l,a)=>{const c=typeof a=="string";let d=!o.nodeLookup&&!c?a:void 0;o.nodeLookup&&(d=c?o.nodeLookup.get(a):Ju(a)?a:o.nodeLookup.get(a.id));const h=d?sl(d,o.nodeOrigin):{x:0,y:0,x2:0,y2:0};return pl(l,h)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return gl(i)},gi=(n,o={})=>{let i={x:1/0,y:1/0,x2:-1/0,y2:-1/0},l=!1;return n.forEach(a=>{(o.filter===void 0||o.filter(a))&&(i=pl(i,sl(a)),l=!0)}),l?gl(i):{x:0,y:0,width:0,height:0}},ec=(n,o,[i,l,a]=[0,0,1],c=!1,d=!1)=>{const h={...yi(o,[i,l,a]),width:o.width/a,height:o.height/a},p=[];for(const g of n.values()){const{measured:y,selectable:v=!0,hidden:x=!1}=g;if(d&&!v||x)continue;const k=y.width??g.width??g.initialWidth??null,_=y.height??g.height??g.initialHeight??null,b=ai(h,to(g)),C=(k??0)*(_??0),N=c&&b>0;(!g.internals.handleBounds||N||b>=C||g.dragging)&&p.push(g)}return p},c1=(n,o)=>{const i=new Set;return n.forEach(l=>{i.add(l.id)}),o.filter(l=>i.has(l.source)||i.has(l.target))};function d1(n,o){const i=new Map,l=o?.nodes?new Set(o.nodes.map(a=>a.id)):null;return n.forEach(a=>{a.measured.width&&a.measured.height&&(o?.includeHiddenNodes||!a.hidden)&&(!l||l.has(a.id))&&i.set(a.id,a)}),i}async function f1({nodes:n,width:o,height:i,panZoom:l,minZoom:a,maxZoom:c},d){if(n.size===0)return Promise.resolve(!0);const h=d1(n,d),p=gi(h),g=tc(p,o,i,d?.minZoom??a,d?.maxZoom??c,d?.padding??.1);return await l.setViewport(g,{duration:d?.duration,ease:d?.ease,interpolate:d?.interpolate}),Promise.resolve(!0)}function Dp({nodeId:n,nextPosition:o,nodeLookup:i,nodeOrigin:l=[0,0],nodeExtent:a,onError:c}){const d=i.get(n),h=d.parentId?i.get(d.parentId):void 0,{x:p,y:g}=h?h.internals.positionAbsolute:{x:0,y:0},y=d.origin??l;let v=d.extent||a;if(d.extent==="parent"&&!d.expandParent)if(!h)c?.("005",Zt.error005());else{const k=h.measured.width,_=h.measured.height;k&&_&&(v=[[p,g],[p+k,g+_]])}else h&&no(d.extent)&&(v=[[d.extent[0][0]+p,d.extent[0][1]+g],[d.extent[1][0]+p,d.extent[1][1]+g]]);const x=no(v)?hr(o,v,d.measured):o;return(d.measured.width===void 0||d.measured.height===void 0)&&c?.("015",Zt.error015()),{position:{x:x.x-p+(d.measured.width??0)*y[0],y:x.y-g+(d.measured.height??0)*y[1]},positionAbsolute:x}}async function h1({nodesToRemove:n=[],edgesToRemove:o=[],nodes:i,edges:l,onBeforeDelete:a}){const c=new Set(n.map(x=>x.id)),d=[];for(const x of i){if(x.deletable===!1)continue;const k=c.has(x.id),_=!k&&x.parentId&&d.find(b=>b.id===x.parentId);(k||_)&&d.push(x)}const h=new Set(o.map(x=>x.id)),p=l.filter(x=>x.deletable!==!1),y=c1(d,p);for(const x of p)h.has(x.id)&&!y.find(_=>_.id===x.id)&&y.push(x);if(!a)return{edges:y,nodes:d};const v=await a({nodes:d,edges:y});return typeof v=="boolean"?v?{edges:y,nodes:d}:{edges:[],nodes:[]}:v}const eo=(n,o=0,i=1)=>Math.min(Math.max(n,o),i),hr=(n={x:0,y:0},o,i)=>({x:eo(n.x,o[0][0],o[1][0]-(i?.width??0)),y:eo(n.y,o[0][1],o[1][1]-(i?.height??0))});function Rp(n,o,i){const{width:l,height:a}=pn(i),{x:c,y:d}=i.internals.positionAbsolute;return hr(n,[[c,d],[c+l,d+a]],o)}const ih=(n,o,i)=>n<o?eo(Math.abs(n-o),1,o)/o:n>i?-eo(Math.abs(n-i),1,o)/o:0,Ap=(n,o,i=15,l=40)=>{const a=ih(n.x,l,o.width-l)*i,c=ih(n.y,l,o.height-l)*i;return[a,c]},pl=(n,o)=>({x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x2,o.x2),y2:Math.max(n.y2,o.y2)}),Ou=({x:n,y:o,width:i,height:l})=>({x:n,y:o,x2:n+i,y2:o+l}),gl=({x:n,y:o,x2:i,y2:l})=>({x:n,y:o,width:i-n,height:l-o}),to=(n,o=[0,0])=>{const{x:i,y:l}=Ju(n)?n.internals.positionAbsolute:pi(n,o);return{x:i,y:l,width:n.measured?.width??n.width??n.initialWidth??0,height:n.measured?.height??n.height??n.initialHeight??0}},sl=(n,o=[0,0])=>{const{x:i,y:l}=Ju(n)?n.internals.positionAbsolute:pi(n,o);return{x:i,y:l,x2:i+(n.measured?.width??n.width??n.initialWidth??0),y2:l+(n.measured?.height??n.height??n.initialHeight??0)}},$p=(n,o)=>gl(pl(Ou(n),Ou(o))),ai=(n,o)=>{const i=Math.max(0,Math.min(n.x+n.width,o.x+o.width)-Math.max(n.x,o.x)),l=Math.max(0,Math.min(n.y+n.height,o.y+o.height)-Math.max(n.y,o.y));return Math.ceil(i*l)},sh=n=>Ot(n.width)&&Ot(n.height)&&Ot(n.x)&&Ot(n.y),Ot=n=>!isNaN(n)&&isFinite(n),p1=(n,o)=>{},mi=(n,o=[1,1])=>({x:o[0]*Math.round(n.x/o[0]),y:o[1]*Math.round(n.y/o[1])}),yi=({x:n,y:o},[i,l,a],c=!1,d=[1,1])=>{const h={x:(n-i)/a,y:(o-l)/a};return c?mi(h,d):h},ll=({x:n,y:o},[i,l,a])=>({x:n*a+i,y:o*a+l});function Ur(n,o){if(typeof n=="number")return Math.floor((o-o/(1+n))*.5);if(typeof n=="string"&&n.endsWith("px")){const i=parseFloat(n);if(!Number.isNaN(i))return Math.floor(i)}if(typeof n=="string"&&n.endsWith("%")){const i=parseFloat(n);if(!Number.isNaN(i))return Math.floor(o*i*.01)}return console.error(`[React Flow] The padding value "${n}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function g1(n,o,i){if(typeof n=="string"||typeof n=="number"){const l=Ur(n,i),a=Ur(n,o);return{top:l,right:a,bottom:l,left:a,x:a*2,y:l*2}}if(typeof n=="object"){const l=Ur(n.top??n.y??0,i),a=Ur(n.bottom??n.y??0,i),c=Ur(n.left??n.x??0,o),d=Ur(n.right??n.x??0,o);return{top:l,right:d,bottom:a,left:c,x:c+d,y:l+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function m1(n,o,i,l,a,c){const{x:d,y:h}=ll(n,[o,i,l]),{x:p,y:g}=ll({x:n.x+n.width,y:n.y+n.height},[o,i,l]),y=a-p,v=c-g;return{left:Math.floor(d),top:Math.floor(h),right:Math.floor(y),bottom:Math.floor(v)}}const tc=(n,o,i,l,a,c)=>{const d=g1(c,o,i),h=(o-d.x)/n.width,p=(i-d.y)/n.height,g=Math.min(h,p),y=eo(g,l,a),v=n.x+n.width/2,x=n.y+n.height/2,k=o/2-v*y,_=i/2-x*y,b=m1(n,k,_,y,o,i),C={left:Math.min(b.left-d.left,0),top:Math.min(b.top-d.top,0),right:Math.min(b.right-d.right,0),bottom:Math.min(b.bottom-d.bottom,0)};return{x:k-C.left+C.right,y:_-C.top+C.bottom,zoom:y}},ui=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function no(n){return n!=null&&n!=="parent"}function pn(n){return{width:n.measured?.width??n.width??n.initialWidth??0,height:n.measured?.height??n.height??n.initialHeight??0}}function Op(n){return(n.measured?.width??n.width??n.initialWidth)!==void 0&&(n.measured?.height??n.height??n.initialHeight)!==void 0}function Hp(n,o={width:0,height:0},i,l,a){const c={...n},d=l.get(i);if(d){const h=d.origin||a;c.x+=d.internals.positionAbsolute.x-(o.width??0)*h[0],c.y+=d.internals.positionAbsolute.y-(o.height??0)*h[1]}return c}function lh(n,o){if(n.size!==o.size)return!1;for(const i of n)if(!o.has(i))return!1;return!0}function y1(){let n,o;return{promise:new Promise((l,a)=>{n=l,o=a}),resolve:n,reject:o}}function v1(n){return{...Tp,...n||{}}}function ti(n,{snapGrid:o=[0,0],snapToGrid:i=!1,transform:l,containerBounds:a}){const{x:c,y:d}=Ht(n),h=yi({x:c-(a?.left??0),y:d-(a?.top??0)},l),{x:p,y:g}=i?mi(h,o):h;return{xSnapped:p,ySnapped:g,...h}}const nc=n=>({width:n.offsetWidth,height:n.offsetHeight}),Fp=n=>n?.getRootNode?.()||window?.document,x1=["INPUT","SELECT","TEXTAREA"];function Bp(n){const o=n.composedPath?.()?.[0]||n.target;return o?.nodeType!==1?!1:x1.includes(o.nodeName)||o.hasAttribute("contenteditable")||!!o.closest(".nokey")}const Vp=n=>"clientX"in n,Ht=(n,o)=>{const i=Vp(n),l=i?n.clientX:n.touches?.[0].clientX,a=i?n.clientY:n.touches?.[0].clientY;return{x:l-(o?.left??0),y:a-(o?.top??0)}},ah=(n,o,i,l,a)=>{const c=o.querySelectorAll(`.${n}`);return!c||!c.length?null:Array.from(c).map(d=>{const h=d.getBoundingClientRect();return{id:d.getAttribute("data-handleid"),type:n,nodeId:a,position:d.getAttribute("data-handlepos"),x:(h.left-i.left)/l,y:(h.top-i.top)/l,...nc(d)}})};function Wp({sourceX:n,sourceY:o,targetX:i,targetY:l,sourceControlX:a,sourceControlY:c,targetControlX:d,targetControlY:h}){const p=n*.125+a*.375+d*.375+i*.125,g=o*.125+c*.375+h*.375+l*.125,y=Math.abs(p-n),v=Math.abs(g-o);return[p,g,y,v]}function Vs(n,o){return n>=0?.5*n:o*25*Math.sqrt(-n)}function uh({pos:n,x1:o,y1:i,x2:l,y2:a,c}){switch(n){case pe.Left:return[o-Vs(o-l,c),i];case pe.Right:return[o+Vs(l-o,c),i];case pe.Top:return[o,i-Vs(i-a,c)];case pe.Bottom:return[o,i+Vs(a-i,c)]}}function Up({sourceX:n,sourceY:o,sourcePosition:i=pe.Bottom,targetX:l,targetY:a,targetPosition:c=pe.Top,curvature:d=.25}){const[h,p]=uh({pos:i,x1:n,y1:o,x2:l,y2:a,c:d}),[g,y]=uh({pos:c,x1:l,y1:a,x2:n,y2:o,c:d}),[v,x,k,_]=Wp({sourceX:n,sourceY:o,targetX:l,targetY:a,sourceControlX:h,sourceControlY:p,targetControlX:g,targetControlY:y});return[`M${n},${o} C${h},${p} ${g},${y} ${l},${a}`,v,x,k,_]}function Yp({sourceX:n,sourceY:o,targetX:i,targetY:l}){const a=Math.abs(i-n)/2,c=i<n?i+a:i-a,d=Math.abs(l-o)/2,h=l<o?l+d:l-d;return[c,h,a,d]}function w1({sourceNode:n,targetNode:o,selected:i=!1,zIndex:l=0,elevateOnSelect:a=!1,zIndexMode:c="basic"}){if(c==="manual")return l;const d=a&&i?l+1e3:l,h=Math.max(n.parentId||a&&n.selected?n.internals.z:0,o.parentId||a&&o.selected?o.internals.z:0);return d+h}function S1({sourceNode:n,targetNode:o,width:i,height:l,transform:a}){const c=pl(sl(n),sl(o));c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d={x:-a[0]/a[2],y:-a[1]/a[2],width:i/a[2],height:l/a[2]};return ai(d,gl(c))>0}const k1=({source:n,sourceHandle:o,target:i,targetHandle:l})=>`xy-edge__${n}${o||""}-${i}${l||""}`,_1=(n,o)=>o.some(i=>i.source===n.source&&i.target===n.target&&(i.sourceHandle===n.sourceHandle||!i.sourceHandle&&!n.sourceHandle)&&(i.targetHandle===n.targetHandle||!i.targetHandle&&!n.targetHandle)),Hu=(n,o,i={})=>{if(!n.source||!n.target)return o;const l=i.getEdgeId||k1;let a;return Lp(n)?a={...n}:a={...n,id:l(n)},_1(a,o)?o:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,o.concat(a))};function Xp({sourceX:n,sourceY:o,targetX:i,targetY:l}){const[a,c,d,h]=Yp({sourceX:n,sourceY:o,targetX:i,targetY:l});return[`M ${n},${o}L ${i},${l}`,a,c,d,h]}const ch={[pe.Left]:{x:-1,y:0},[pe.Right]:{x:1,y:0},[pe.Top]:{x:0,y:-1},[pe.Bottom]:{x:0,y:1}},N1=({source:n,sourcePosition:o=pe.Bottom,target:i})=>o===pe.Left||o===pe.Right?n.x<i.x?{x:1,y:0}:{x:-1,y:0}:n.y<i.y?{x:0,y:1}:{x:0,y:-1},dh=(n,o)=>Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2));function E1({source:n,sourcePosition:o=pe.Bottom,target:i,targetPosition:l=pe.Top,center:a,offset:c,stepPosition:d}){const h=ch[o],p=ch[l],g={x:n.x+h.x*c,y:n.y+h.y*c},y={x:i.x+p.x*c,y:i.y+p.y*c},v=N1({source:g,sourcePosition:o,target:y}),x=v.x!==0?"x":"y",k=v[x];let _=[],b,C;const N={x:0,y:0},T={x:0,y:0},[,,S,M]=Yp({sourceX:n.x,sourceY:n.y,targetX:i.x,targetY:i.y});if(h[x]*p[x]===-1){x==="x"?(b=a.x??g.x+(y.x-g.x)*d,C=a.y??(g.y+y.y)/2):(b=a.x??(g.x+y.x)/2,C=a.y??g.y+(y.y-g.y)*d);const D=[{x:b,y:g.y},{x:b,y:y.y}],H=[{x:g.x,y:C},{x:y.x,y:C}];h[x]===k?_=x==="x"?D:H:_=x==="x"?H:D}else{const D=[{x:g.x,y:y.y}],H=[{x:y.x,y:g.y}];if(x==="x"?_=h.x===k?H:D:_=h.y===k?D:H,o===l){const q=Math.abs(n[x]-i[x]);if(q<=c){const K=Math.min(c-1,c-q);h[x]===k?N[x]=(g[x]>n[x]?-1:1)*K:T[x]=(y[x]>i[x]?-1:1)*K}}if(o!==l){const q=x==="x"?"y":"x",K=h[x]===p[q],P=g[q]>y[q],F=g[q]<y[q];(h[x]===1&&(!K&&P||K&&F)||h[x]!==1&&(!K&&F||K&&P))&&(_=x==="x"?D:H)}const Q={x:g.x+N.x,y:g.y+N.y},G={x:y.x+T.x,y:y.y+T.y},ie=Math.max(Math.abs(Q.x-_[0].x),Math.abs(G.x-_[0].x)),X=Math.max(Math.abs(Q.y-_[0].y),Math.abs(G.y-_[0].y));ie>=X?(b=(Q.x+G.x)/2,C=_[0].y):(b=_[0].x,C=(Q.y+G.y)/2)}return[[n,{x:g.x+N.x,y:g.y+N.y},..._,{x:y.x+T.x,y:y.y+T.y},i],b,C,S,M]}function C1(n,o,i,l){const a=Math.min(dh(n,o)/2,dh(o,i)/2,l),{x:c,y:d}=o;if(n.x===c&&c===i.x||n.y===d&&d===i.y)return`L${c} ${d}`;if(n.y===d){const g=n.x<i.x?-1:1,y=n.y<i.y?1:-1;return`L ${c+a*g},${d}Q ${c},${d} ${c},${d+a*y}`}const h=n.x<i.x?1:-1,p=n.y<i.y?-1:1;return`L ${c},${d+a*p}Q ${c},${d} ${c+a*h},${d}`}function Fu({sourceX:n,sourceY:o,sourcePosition:i=pe.Bottom,targetX:l,targetY:a,targetPosition:c=pe.Top,borderRadius:d=5,centerX:h,centerY:p,offset:g=20,stepPosition:y=.5}){const[v,x,k,_,b]=E1({source:{x:n,y:o},sourcePosition:i,target:{x:l,y:a},targetPosition:c,center:{x:h,y:p},offset:g,stepPosition:y});return[v.reduce((N,T,S)=>{let M="";return S>0&&S<v.length-1?M=C1(v[S-1],T,v[S+1],d):M=`${S===0?"M":"L"}${T.x} ${T.y}`,N+=M,N},""),x,k,_,b]}function fh(n){return n&&!!(n.internals.handleBounds||n.handles?.length)&&!!(n.measured.width||n.width||n.initialWidth)}function M1(n){const{sourceNode:o,targetNode:i}=n;if(!fh(o)||!fh(i))return null;const l=o.internals.handleBounds||hh(o.handles),a=i.internals.handleBounds||hh(i.handles),c=ph(l?.source??[],n.sourceHandle),d=ph(n.connectionMode===Jr.Strict?a?.target??[]:(a?.target??[]).concat(a?.source??[]),n.targetHandle);if(!c||!d)return n.onError?.("008",Zt.error008(c?"target":"source",{id:n.id,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle})),null;const h=c?.position||pe.Bottom,p=d?.position||pe.Top,g=pr(o,c,h),y=pr(i,d,p);return{sourceX:g.x,sourceY:g.y,targetX:y.x,targetY:y.y,sourcePosition:h,targetPosition:p}}function hh(n){if(!n)return null;const o=[],i=[];for(const l of n)l.width=l.width??1,l.height=l.height??1,l.type==="source"?o.push(l):l.type==="target"&&i.push(l);return{source:o,target:i}}function pr(n,o,i=pe.Left,l=!1){const a=(o?.x??0)+n.internals.positionAbsolute.x,c=(o?.y??0)+n.internals.positionAbsolute.y,{width:d,height:h}=o??pn(n);if(l)return{x:a+d/2,y:c+h/2};switch(o?.position??i){case pe.Top:return{x:a+d/2,y:c};case pe.Right:return{x:a+d,y:c+h/2};case pe.Bottom:return{x:a+d/2,y:c+h};case pe.Left:return{x:a,y:c+h/2}}}function ph(n,o){return n&&(o?n.find(i=>i.id===o):n[0])||null}function Bu(n,o){return n?typeof n=="string"?n:`${o?`${o}__`:""}${Object.keys(n).sort().map(l=>`${l}=${n[l]}`).join("&")}`:""}function b1(n,{id:o,defaultColor:i,defaultMarkerStart:l,defaultMarkerEnd:a}){const c=new Set;return n.reduce((d,h)=>([h.markerStart||l,h.markerEnd||a].forEach(p=>{if(p&&typeof p=="object"){const g=Bu(p,o);c.has(g)||(d.push({id:g,color:p.color||i,...p}),c.add(g))}}),d),[]).sort((d,h)=>d.id.localeCompare(h.id))}const Qp=1e3,j1=10,rc={nodeOrigin:[0,0],nodeExtent:si,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},P1={...rc,checkEquality:!0};function oc(n,o){const i={...n};for(const l in o)o[l]!==void 0&&(i[l]=o[l]);return i}function T1(n,o,i){const l=oc(rc,i);for(const a of n.values())if(a.parentId)sc(a,n,o,l);else{const c=pi(a,l.nodeOrigin),d=no(a.extent)?a.extent:l.nodeExtent,h=hr(c,d,pn(a));a.internals.positionAbsolute=h}}function z1(n,o){if(!n.handles)return n.measured?o?.internals.handleBounds:void 0;const i=[],l=[];for(const a of n.handles){const c={id:a.id,width:a.width??1,height:a.height??1,nodeId:n.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?i.push(c):a.type==="target"&&l.push(c)}return{source:i,target:l}}function ic(n){return n==="manual"}function Vu(n,o,i,l={}){const a=oc(P1,l),c={i:0},d=new Map(o),h=a?.elevateNodesOnSelect&&!ic(a.zIndexMode)?Qp:0;let p=n.length>0;o.clear(),i.clear();for(const g of n){let y=d.get(g.id);if(a.checkEquality&&g===y?.internals.userNode)o.set(g.id,y);else{const v=pi(g,a.nodeOrigin),x=no(g.extent)?g.extent:a.nodeExtent,k=hr(v,x,pn(g));y={...a.defaults,...g,measured:{width:g.measured?.width,height:g.measured?.height},internals:{positionAbsolute:k,handleBounds:z1(g,y),z:Zp(g,h,a.zIndexMode),userNode:g}},o.set(g.id,y)}(y.measured===void 0||y.measured.width===void 0||y.measured.height===void 0)&&!y.hidden&&(p=!1),g.parentId&&sc(y,o,i,l,c)}return p}function I1(n,o){if(!n.parentId)return;const i=o.get(n.parentId);i?i.set(n.id,n):o.set(n.parentId,new Map([[n.id,n]]))}function sc(n,o,i,l,a){const{elevateNodesOnSelect:c,nodeOrigin:d,nodeExtent:h,zIndexMode:p}=oc(rc,l),g=n.parentId,y=o.get(g);if(!y){console.warn(`Parent node ${g} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}I1(n,i),a&&!y.parentId&&y.internals.rootParentIndex===void 0&&p==="auto"&&(y.internals.rootParentIndex=++a.i,y.internals.z=y.internals.z+a.i*j1),a&&y.internals.rootParentIndex!==void 0&&(a.i=y.internals.rootParentIndex);const v=c&&!ic(p)?Qp:0,{x,y:k,z:_}=L1(n,y,d,h,v,p),{positionAbsolute:b}=n.internals,C=x!==b.x||k!==b.y;(C||_!==n.internals.z)&&o.set(n.id,{...n,internals:{...n.internals,positionAbsolute:C?{x,y:k}:b,z:_}})}function Zp(n,o,i){const l=Ot(n.zIndex)?n.zIndex:0;return ic(i)?l:l+(n.selected?o:0)}function L1(n,o,i,l,a,c){const{x:d,y:h}=o.internals.positionAbsolute,p=pn(n),g=pi(n,i),y=no(n.extent)?hr(g,n.extent,p):g;let v=hr({x:d+y.x,y:h+y.y},l,p);n.extent==="parent"&&(v=Rp(v,p,o));const x=Zp(n,a,c),k=o.internals.z??0;return{x:v.x,y:v.y,z:k>=x?k+1:x}}function lc(n,o,i,l=[0,0]){const a=[],c=new Map;for(const d of n){const h=o.get(d.parentId);if(!h)continue;const p=c.get(d.parentId)?.expandedRect??to(h),g=$p(p,d.rect);c.set(d.parentId,{expandedRect:g,parent:h})}return c.size>0&&c.forEach(({expandedRect:d,parent:h},p)=>{const g=h.internals.positionAbsolute,y=pn(h),v=h.origin??l,x=d.x<g.x?Math.round(Math.abs(g.x-d.x)):0,k=d.y<g.y?Math.round(Math.abs(g.y-d.y)):0,_=Math.max(y.width,Math.round(d.width)),b=Math.max(y.height,Math.round(d.height)),C=(_-y.width)*v[0],N=(b-y.height)*v[1];(x>0||k>0||C||N)&&(a.push({id:p,type:"position",position:{x:h.position.x-x+C,y:h.position.y-k+N}}),i.get(p)?.forEach(T=>{n.some(S=>S.id===T.id)||a.push({id:T.id,type:"position",position:{x:T.position.x+x,y:T.position.y+k}})})),(y.width<d.width||y.height<d.height||x||k)&&a.push({id:p,type:"dimensions",setAttributes:!0,dimensions:{width:_+(x?v[0]*x-C:0),height:b+(k?v[1]*k-N:0)}})}),a}function D1(n,o,i,l,a,c,d){const h=l?.querySelector(".xyflow__viewport");let p=!1;if(!h)return{changes:[],updatedInternals:p};const g=[],y=window.getComputedStyle(h),{m22:v}=new window.DOMMatrixReadOnly(y.transform),x=[];for(const k of n.values()){const _=o.get(k.id);if(!_)continue;if(_.hidden){o.set(_.id,{..._,internals:{..._.internals,handleBounds:void 0}}),p=!0;continue}const b=nc(k.nodeElement),C=_.measured.width!==b.width||_.measured.height!==b.height;if(!!(b.width&&b.height&&(C||!_.internals.handleBounds||k.force))){const T=k.nodeElement.getBoundingClientRect(),S=no(_.extent)?_.extent:c;let{positionAbsolute:M}=_.internals;_.parentId&&_.extent==="parent"?M=Rp(M,b,o.get(_.parentId)):S&&(M=hr(M,S,b));const O={..._,measured:b,internals:{..._.internals,positionAbsolute:M,handleBounds:{source:ah("source",k.nodeElement,T,v,_.id),target:ah("target",k.nodeElement,T,v,_.id)}}};o.set(_.id,O),_.parentId&&sc(O,o,i,{nodeOrigin:a,zIndexMode:d}),p=!0,C&&(g.push({id:_.id,type:"dimensions",dimensions:b}),_.expandParent&&_.parentId&&x.push({id:_.id,parentId:_.parentId,rect:to(O,a)}))}}if(x.length>0){const k=lc(x,o,i,a);g.push(...k)}return{changes:g,updatedInternals:p}}async function R1({delta:n,panZoom:o,transform:i,translateExtent:l,width:a,height:c}){if(!o||!n.x&&!n.y)return Promise.resolve(!1);const d=await o.setViewportConstrained({x:i[0]+n.x,y:i[1]+n.y,zoom:i[2]},[[0,0],[a,c]],l),h=!!d&&(d.x!==i[0]||d.y!==i[1]||d.k!==i[2]);return Promise.resolve(h)}function gh(n,o,i,l,a,c){let d=a;const h=l.get(d)||new Map;l.set(d,h.set(i,o)),d=`${a}-${n}`;const p=l.get(d)||new Map;if(l.set(d,p.set(i,o)),c){d=`${a}-${n}-${c}`;const g=l.get(d)||new Map;l.set(d,g.set(i,o))}}function Kp(n,o,i){n.clear(),o.clear();for(const l of i){const{source:a,target:c,sourceHandle:d=null,targetHandle:h=null}=l,p={edgeId:l.id,source:a,target:c,sourceHandle:d,targetHandle:h},g=`${a}-${d}--${c}-${h}`,y=`${c}-${h}--${a}-${d}`;gh("source",p,y,n,a,d),gh("target",p,g,n,c,h),o.set(l.id,l)}}function Gp(n,o){if(!n.parentId)return!1;const i=o.get(n.parentId);return i?i.selected?!0:Gp(i,o):!1}function mh(n,o,i){let l=n;do{if(l?.matches?.(o))return!0;if(l===i)return!1;l=l?.parentElement}while(l);return!1}function A1(n,o,i,l){const a=new Map;for(const[c,d]of n)if((d.selected||d.id===l)&&(!d.parentId||!Gp(d,n))&&(d.draggable||o&&typeof d.draggable>"u")){const h=n.get(c);h&&a.set(c,{id:c,position:h.position||{x:0,y:0},distance:{x:i.x-h.internals.positionAbsolute.x,y:i.y-h.internals.positionAbsolute.y},extent:h.extent,parentId:h.parentId,origin:h.origin,expandParent:h.expandParent,internals:{positionAbsolute:h.internals.positionAbsolute||{x:0,y:0}},measured:{width:h.measured.width??0,height:h.measured.height??0}})}return a}function ku({nodeId:n,dragItems:o,nodeLookup:i,dragging:l=!0}){const a=[];for(const[d,h]of o){const p=i.get(d)?.internals.userNode;p&&a.push({...p,position:h.position,dragging:l})}if(!n)return[a[0],a];const c=i.get(n)?.internals.userNode;return[c?{...c,position:o.get(n)?.position||c.position,dragging:l}:a[0],a]}function $1({dragItems:n,snapGrid:o,x:i,y:l}){const a=n.values().next().value;if(!a)return null;const c={x:i-a.distance.x,y:l-a.distance.y},d=mi(c,o);return{x:d.x-c.x,y:d.y-c.y}}function O1({onNodeMouseDown:n,getStoreItems:o,onDragStart:i,onDrag:l,onDragStop:a}){let c={x:null,y:null},d=0,h=new Map,p=!1,g={x:0,y:0},y=null,v=!1,x=null,k=!1,_=!1,b=null;function C({noDragClassName:T,handleSelector:S,domNode:M,isSelectable:O,nodeId:D,nodeClickDistance:H=0}){x=wt(M);function Q({x:q,y:K}){const{nodeLookup:P,nodeExtent:F,snapGrid:A,snapToGrid:B,nodeOrigin:z,onNodeDrag:$,onSelectionDrag:V,onError:E,updateNodePositions:L}=o();c={x:q,y:K};let J=!1;const te=h.size>1,le=te&&F?Ou(gi(h)):null,ce=te&&B?$1({dragItems:h,snapGrid:A,x:q,y:K}):null;for(const[ue,ee]of h){if(!P.has(ue))continue;let ae={x:q-ee.distance.x,y:K-ee.distance.y};B&&(ae=ce?{x:Math.round(ae.x+ce.x),y:Math.round(ae.y+ce.y)}:mi(ae,A));let we=null;if(te&&F&&!ee.extent&&le){const{positionAbsolute:Se}=ee.internals,Me=Se.x-le.x+F[0][0],Te=Se.x+ee.measured.width-le.x2+F[1][0],Pe=Se.y-le.y+F[0][1],Ve=Se.y+ee.measured.height-le.y2+F[1][1];we=[[Me,Pe],[Te,Ve]]}const{position:_e,positionAbsolute:xe}=Dp({nodeId:ue,nextPosition:ae,nodeLookup:P,nodeExtent:we||F,nodeOrigin:z,onError:E});J=J||ee.position.x!==_e.x||ee.position.y!==_e.y,ee.position=_e,ee.internals.positionAbsolute=xe}if(_=_||J,!!J&&(L(h,!0),b&&(l||$||!D&&V))){const[ue,ee]=ku({nodeId:D,dragItems:h,nodeLookup:P});l?.(b,h,ue,ee),$?.(b,ue,ee),D||V?.(b,ee)}}async function G(){if(!y)return;const{transform:q,panBy:K,autoPanSpeed:P,autoPanOnNodeDrag:F}=o();if(!F){p=!1,cancelAnimationFrame(d);return}const[A,B]=Ap(g,y,P);(A!==0||B!==0)&&(c.x=(c.x??0)-A/q[2],c.y=(c.y??0)-B/q[2],await K({x:A,y:B})&&Q(c)),d=requestAnimationFrame(G)}function ie(q){const{nodeLookup:K,multiSelectionActive:P,nodesDraggable:F,transform:A,snapGrid:B,snapToGrid:z,selectNodesOnDrag:$,onNodeDragStart:V,onSelectionDragStart:E,unselectNodesAndEdges:L}=o();v=!0,(!$||!O)&&!P&&D&&(K.get(D)?.selected||L()),O&&$&&D&&n?.(D);const J=ti(q.sourceEvent,{transform:A,snapGrid:B,snapToGrid:z,containerBounds:y});if(c=J,h=A1(K,F,J,D),h.size>0&&(i||V||!D&&E)){const[te,le]=ku({nodeId:D,dragItems:h,nodeLookup:K});i?.(q.sourceEvent,h,te,le),V?.(q.sourceEvent,te,le),D||E?.(q.sourceEvent,le)}}const X=pp().clickDistance(H).on("start",q=>{const{domNode:K,nodeDragThreshold:P,transform:F,snapGrid:A,snapToGrid:B}=o();y=K?.getBoundingClientRect()||null,k=!1,_=!1,b=q.sourceEvent,P===0&&ie(q),c=ti(q.sourceEvent,{transform:F,snapGrid:A,snapToGrid:B,containerBounds:y}),g=Ht(q.sourceEvent,y)}).on("drag",q=>{const{autoPanOnNodeDrag:K,transform:P,snapGrid:F,snapToGrid:A,nodeDragThreshold:B,nodeLookup:z}=o(),$=ti(q.sourceEvent,{transform:P,snapGrid:F,snapToGrid:A,containerBounds:y});if(b=q.sourceEvent,(q.sourceEvent.type==="touchmove"&&q.sourceEvent.touches.length>1||D&&!z.has(D))&&(k=!0),!k){if(!p&&K&&v&&(p=!0,G()),!v){const V=Ht(q.sourceEvent,y),E=V.x-g.x,L=V.y-g.y;Math.sqrt(E*E+L*L)>B&&ie(q)}(c.x!==$.xSnapped||c.y!==$.ySnapped)&&h&&v&&(g=Ht(q.sourceEvent,y),Q($))}}).on("end",q=>{if(!(!v||k)&&(p=!1,v=!1,cancelAnimationFrame(d),h.size>0)){const{nodeLookup:K,updateNodePositions:P,onNodeDragStop:F,onSelectionDragStop:A}=o();if(_&&(P(h,!1),_=!1),a||F||!D&&A){const[B,z]=ku({nodeId:D,dragItems:h,nodeLookup:K,dragging:!1});a?.(q.sourceEvent,h,B,z),F?.(q.sourceEvent,B,z),D||A?.(q.sourceEvent,z)}}}).filter(q=>{const K=q.target;return!q.button&&(!T||!mh(K,`.${T}`,M))&&(!S||mh(K,S,M))});x.call(X)}function N(){x?.on(".drag",null)}return{update:C,destroy:N}}function H1(n,o,i){const l=[],a={x:n.x-i,y:n.y-i,width:i*2,height:i*2};for(const c of o.values())ai(a,to(c))>0&&l.push(c);return l}const F1=250;function B1(n,o,i,l){let a=[],c=1/0;const d=H1(n,i,o+F1);for(const h of d){const p=[...h.internals.handleBounds?.source??[],...h.internals.handleBounds?.target??[]];for(const g of p){if(l.nodeId===g.nodeId&&l.type===g.type&&l.id===g.id)continue;const{x:y,y:v}=pr(h,g,g.position,!0),x=Math.sqrt(Math.pow(y-n.x,2)+Math.pow(v-n.y,2));x>o||(x<c?(a=[{...g,x:y,y:v}],c=x):x===c&&a.push({...g,x:y,y:v}))}}if(!a.length)return null;if(a.length>1){const h=l.type==="source"?"target":"source";return a.find(p=>p.type===h)??a[0]}return a[0]}function qp(n,o,i,l,a,c=!1){const d=l.get(n);if(!d)return null;const h=a==="strict"?d.internals.handleBounds?.[o]:[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]],p=(i?h?.find(g=>g.id===i):h?.[0])??null;return p&&c?{...p,...pr(d,p,p.position,!0)}:p}function Jp(n,o){return n||(o?.classList.contains("target")?"target":o?.classList.contains("source")?"source":null)}function V1(n,o){let i=null;return o?i=!0:n&&!o&&(i=!1),i}const e0=()=>!0;function W1(n,{connectionMode:o,connectionRadius:i,handleId:l,nodeId:a,edgeUpdaterType:c,isTarget:d,domNode:h,nodeLookup:p,lib:g,autoPanOnConnect:y,flowId:v,panBy:x,cancelConnection:k,onConnectStart:_,onConnect:b,onConnectEnd:C,isValidConnection:N=e0,onReconnectEnd:T,updateConnection:S,getTransform:M,getFromHandle:O,autoPanSpeed:D,dragThreshold:H=1,handleDomNode:Q}){const G=Fp(n.target);let ie=0,X;const{x:q,y:K}=Ht(n),P=Jp(c,Q),F=h?.getBoundingClientRect();let A=!1;if(!F||!P)return;const B=qp(a,P,l,p,o);if(!B)return;let z=Ht(n,F),$=!1,V=null,E=!1,L=null;function J(){if(!y||!F)return;const[_e,xe]=Ap(z,F,D);x({x:_e,y:xe}),ie=requestAnimationFrame(J)}const te={...B,nodeId:a,type:P,position:B.position},le=p.get(a);let ue={inProgress:!0,isValid:null,from:pr(le,te,pe.Left,!0),fromHandle:te,fromPosition:te.position,fromNode:le,to:z,toHandle:null,toPosition:oh[te.position],toNode:null,pointer:z};function ee(){A=!0,S(ue),_?.(n,{nodeId:a,handleId:l,handleType:P})}H===0&&ee();function ae(_e){if(!A){const{x:Ve,y:Pt}=Ht(_e),ht=Ve-q,pt=Pt-K;if(!(ht*ht+pt*pt>H*H))return;ee()}if(!O()||!te){we(_e);return}const xe=M();z=Ht(_e,F),X=B1(yi(z,xe,!1,[1,1]),i,p,te),$||(J(),$=!0);const Se=t0(_e,{handle:X,connectionMode:o,fromNodeId:a,fromHandleId:l,fromType:d?"target":"source",isValidConnection:N,doc:G,lib:g,flowId:v,nodeLookup:p});L=Se.handleDomNode,V=Se.connection,E=V1(!!X,Se.isValid);const Me=p.get(a),Te=Me?pr(Me,te,pe.Left,!0):ue.from,Pe={...ue,from:Te,isValid:E,to:Se.toHandle&&E?ll({x:Se.toHandle.x,y:Se.toHandle.y},xe):z,toHandle:Se.toHandle,toPosition:E&&Se.toHandle?Se.toHandle.position:oh[te.position],toNode:Se.toHandle?p.get(Se.toHandle.nodeId):null,pointer:z};S(Pe),ue=Pe}function we(_e){if(!("touches"in _e&&_e.touches.length>0)){if(A){(X||L)&&V&&E&&b?.(V);const{inProgress:xe,...Se}=ue,Me={...Se,toPosition:ue.toHandle?ue.toPosition:null};C?.(_e,Me),c&&T?.(_e,Me)}k(),cancelAnimationFrame(ie),$=!1,E=!1,V=null,L=null,G.removeEventListener("mousemove",ae),G.removeEventListener("mouseup",we),G.removeEventListener("touchmove",ae),G.removeEventListener("touchend",we)}}G.addEventListener("mousemove",ae),G.addEventListener("mouseup",we),G.addEventListener("touchmove",ae),G.addEventListener("touchend",we)}function t0(n,{handle:o,connectionMode:i,fromNodeId:l,fromHandleId:a,fromType:c,doc:d,lib:h,flowId:p,isValidConnection:g=e0,nodeLookup:y}){const v=c==="target",x=o?d.querySelector(`.${h}-flow__handle[data-id="${p}-${o?.nodeId}-${o?.id}-${o?.type}"]`):null,{x:k,y:_}=Ht(n),b=d.elementFromPoint(k,_),C=b?.classList.contains(`${h}-flow__handle`)?b:x,N={handleDomNode:C,isValid:!1,connection:null,toHandle:null};if(C){const T=Jp(void 0,C),S=C.getAttribute("data-nodeid"),M=C.getAttribute("data-handleid"),O=C.classList.contains("connectable"),D=C.classList.contains("connectableend");if(!S||!T)return N;const H={source:v?S:l,sourceHandle:v?M:a,target:v?l:S,targetHandle:v?a:M};N.connection=H;const G=O&&D&&(i===Jr.Strict?v&&T==="source"||!v&&T==="target":S!==l||M!==a);N.isValid=G&&g(H),N.toHandle=qp(S,T,M,y,i,!0)}return N}const Wu={onPointerDown:W1,isValid:t0};function U1({domNode:n,panZoom:o,getTransform:i,getViewScale:l}){const a=wt(n);function c({translateExtent:h,width:p,height:g,zoomStep:y=1,pannable:v=!0,zoomable:x=!0,inversePan:k=!1}){const _=S=>{if(S.sourceEvent.type!=="wheel"||!o)return;const M=i(),O=S.sourceEvent.ctrlKey&&ui()?10:1,D=-S.sourceEvent.deltaY*(S.sourceEvent.deltaMode===1?.05:S.sourceEvent.deltaMode?1:.002)*y,H=M[2]*Math.pow(2,D*O);o.scaleTo(H)};let b=[0,0];const C=S=>{(S.sourceEvent.type==="mousedown"||S.sourceEvent.type==="touchstart")&&(b=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY])},N=S=>{const M=i();if(S.sourceEvent.type!=="mousemove"&&S.sourceEvent.type!=="touchmove"||!o)return;const O=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY],D=[O[0]-b[0],O[1]-b[1]];b=O;const H=l()*Math.max(M[2],Math.log(M[2]))*(k?-1:1),Q={x:M[0]-D[0]*H,y:M[1]-D[1]*H},G=[[0,0],[p,g]];o.setViewportConstrained({x:Q.x,y:Q.y,zoom:M[2]},G,h)},T=jp().on("start",C).on("zoom",v?N:null).on("zoom.wheel",x?_:null);a.call(T,{})}function d(){a.on("zoom",null)}return{update:c,destroy:d,pointer:At}}const ml=n=>({x:n.x,y:n.y,zoom:n.k}),_u=({x:n,y:o,zoom:i})=>hl.translate(n,o).scale(i),Xr=(n,o)=>n.target.closest(`.${o}`),n0=(n,o)=>o===2&&Array.isArray(n)&&n.includes(2),Y1=n=>((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2,Nu=(n,o=0,i=Y1,l=()=>{})=>{const a=typeof o=="number"&&o>0;return a||l(),a?n.transition().duration(o).ease(i).on("end",l):n},r0=n=>{const o=n.ctrlKey&&ui()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*o};function X1({zoomPanValues:n,noWheelClassName:o,d3Selection:i,d3Zoom:l,panOnScrollMode:a,panOnScrollSpeed:c,zoomOnPinch:d,onPanZoomStart:h,onPanZoom:p,onPanZoomEnd:g}){return y=>{if(Xr(y,o))return y.ctrlKey&&y.preventDefault(),!1;y.preventDefault(),y.stopImmediatePropagation();const v=i.property("__zoom").k||1;if(y.ctrlKey&&d){const C=At(y),N=r0(y),T=v*Math.pow(2,N);l.scaleTo(i,T,C,y);return}const x=y.deltaMode===1?20:1;let k=a===cr.Vertical?0:y.deltaX*x,_=a===cr.Horizontal?0:y.deltaY*x;!ui()&&y.shiftKey&&a!==cr.Vertical&&(k=y.deltaY*x,_=0),l.translateBy(i,-(k/v)*c,-(_/v)*c,{internal:!0});const b=ml(i.property("__zoom"));clearTimeout(n.panScrollTimeout),n.isPanScrolling?(p?.(y,b),n.panScrollTimeout=setTimeout(()=>{g?.(y,b),n.isPanScrolling=!1},150)):(n.isPanScrolling=!0,h?.(y,b))}}function Q1({noWheelClassName:n,preventScrolling:o,d3ZoomHandler:i}){return function(l,a){const c=l.type==="wheel",d=!o&&c&&!l.ctrlKey,h=Xr(l,n);if(l.ctrlKey&&c&&h&&l.preventDefault(),d||h)return null;l.preventDefault(),i.call(this,l,a)}}function Z1({zoomPanValues:n,onDraggingChange:o,onPanZoomStart:i}){return l=>{if(l.sourceEvent?.internal)return;const a=ml(l.transform);n.mouseButton=l.sourceEvent?.button||0,n.isZoomingOrPanning=!0,n.prevViewport=a,l.sourceEvent?.type==="mousedown"&&o(!0),i&&i?.(l.sourceEvent,a)}}function K1({zoomPanValues:n,panOnDrag:o,onPaneContextMenu:i,onTransformChange:l,onPanZoom:a}){return c=>{n.usedRightMouseButton=!!(i&&n0(o,n.mouseButton??0)),c.sourceEvent?.sync||l([c.transform.x,c.transform.y,c.transform.k]),a&&!c.sourceEvent?.internal&&a?.(c.sourceEvent,ml(c.transform))}}function G1({zoomPanValues:n,panOnDrag:o,panOnScroll:i,onDraggingChange:l,onPanZoomEnd:a,onPaneContextMenu:c}){return d=>{if(!d.sourceEvent?.internal&&(n.isZoomingOrPanning=!1,c&&n0(o,n.mouseButton??0)&&!n.usedRightMouseButton&&d.sourceEvent&&c(d.sourceEvent),n.usedRightMouseButton=!1,l(!1),a)){const h=ml(d.transform);n.prevViewport=h,clearTimeout(n.timerId),n.timerId=setTimeout(()=>{a?.(d.sourceEvent,h)},i?150:0)}}}function q1({zoomActivationKeyPressed:n,zoomOnScroll:o,zoomOnPinch:i,panOnDrag:l,panOnScroll:a,zoomOnDoubleClick:c,userSelectionActive:d,noWheelClassName:h,noPanClassName:p,lib:g,connectionInProgress:y}){return v=>{const x=n||o,k=i&&v.ctrlKey,_=v.type==="wheel";if(v.button===1&&v.type==="mousedown"&&(Xr(v,`${g}-flow__node`)||Xr(v,`${g}-flow__edge`)))return!0;if(!l&&!x&&!a&&!c&&!i||d||y&&!_||Xr(v,h)&&_||Xr(v,p)&&(!_||a&&_&&!n)||!i&&v.ctrlKey&&_)return!1;if(!i&&v.type==="touchstart"&&v.touches?.length>1)return v.preventDefault(),!1;if(!x&&!a&&!k&&_||!l&&(v.type==="mousedown"||v.type==="touchstart")||Array.isArray(l)&&!l.includes(v.button)&&v.type==="mousedown")return!1;const b=Array.isArray(l)&&l.includes(v.button)||!v.button||v.button<=1;return(!v.ctrlKey||_)&&b}}function J1({domNode:n,minZoom:o,maxZoom:i,translateExtent:l,viewport:a,onPanZoom:c,onPanZoomStart:d,onPanZoomEnd:h,onDraggingChange:p}){const g={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},y=n.getBoundingClientRect(),v=jp().scaleExtent([o,i]).translateExtent(l),x=wt(n).call(v);T({x:a.x,y:a.y,zoom:eo(a.zoom,o,i)},[[0,0],[y.width,y.height]],l);const k=x.on("wheel.zoom"),_=x.on("dblclick.zoom");v.wheelDelta(r0);function b(X,q){return x?new Promise(K=>{v?.interpolate(q?.interpolate==="linear"?ei:Qs).transform(Nu(x,q?.duration,q?.ease,()=>K(!0)),X)}):Promise.resolve(!1)}function C({noWheelClassName:X,noPanClassName:q,onPaneContextMenu:K,userSelectionActive:P,panOnScroll:F,panOnDrag:A,panOnScrollMode:B,panOnScrollSpeed:z,preventScrolling:$,zoomOnPinch:V,zoomOnScroll:E,zoomOnDoubleClick:L,zoomActivationKeyPressed:J,lib:te,onTransformChange:le,connectionInProgress:ce,paneClickDistance:ue,selectionOnDrag:ee}){P&&!g.isZoomingOrPanning&&N();const ae=F&&!J&&!P;v.clickDistance(ee?1/0:!Ot(ue)||ue<0?0:ue);const we=ae?X1({zoomPanValues:g,noWheelClassName:X,d3Selection:x,d3Zoom:v,panOnScrollMode:B,panOnScrollSpeed:z,zoomOnPinch:V,onPanZoomStart:d,onPanZoom:c,onPanZoomEnd:h}):Q1({noWheelClassName:X,preventScrolling:$,d3ZoomHandler:k});if(x.on("wheel.zoom",we,{passive:!1}),!P){const xe=Z1({zoomPanValues:g,onDraggingChange:p,onPanZoomStart:d});v.on("start",xe);const Se=K1({zoomPanValues:g,panOnDrag:A,onPaneContextMenu:!!K,onPanZoom:c,onTransformChange:le});v.on("zoom",Se);const Me=G1({zoomPanValues:g,panOnDrag:A,panOnScroll:F,onPaneContextMenu:K,onPanZoomEnd:h,onDraggingChange:p});v.on("end",Me)}const _e=q1({zoomActivationKeyPressed:J,panOnDrag:A,zoomOnScroll:E,panOnScroll:F,zoomOnDoubleClick:L,zoomOnPinch:V,userSelectionActive:P,noPanClassName:q,noWheelClassName:X,lib:te,connectionInProgress:ce});v.filter(_e),L?x.on("dblclick.zoom",_):x.on("dblclick.zoom",null)}function N(){v.on("zoom",null)}async function T(X,q,K){const P=_u(X),F=v?.constrain()(P,q,K);return F&&await b(F),new Promise(A=>A(F))}async function S(X,q){const K=_u(X);return await b(K,q),new Promise(P=>P(K))}function M(X){if(x){const q=_u(X),K=x.property("__zoom");(K.k!==X.zoom||K.x!==X.x||K.y!==X.y)&&v?.transform(x,q,null,{sync:!0})}}function O(){const X=x?bp(x.node()):{x:0,y:0,k:1};return{x:X.x,y:X.y,zoom:X.k}}function D(X,q){return x?new Promise(K=>{v?.interpolate(q?.interpolate==="linear"?ei:Qs).scaleTo(Nu(x,q?.duration,q?.ease,()=>K(!0)),X)}):Promise.resolve(!1)}function H(X,q){return x?new Promise(K=>{v?.interpolate(q?.interpolate==="linear"?ei:Qs).scaleBy(Nu(x,q?.duration,q?.ease,()=>K(!0)),X)}):Promise.resolve(!1)}function Q(X){v?.scaleExtent(X)}function G(X){v?.translateExtent(X)}function ie(X){const q=!Ot(X)||X<0?0:X;v?.clickDistance(q)}return{update:C,destroy:N,setViewport:S,setViewportConstrained:T,getViewport:O,scaleTo:D,scaleBy:H,setScaleExtent:Q,setTranslateExtent:G,syncViewport:M,setClickDistance:ie}}var ro;(function(n){n.Line="line",n.Handle="handle"})(ro||(ro={}));function ew({width:n,prevWidth:o,height:i,prevHeight:l,affectsX:a,affectsY:c}){const d=n-o,h=i-l,p=[d>0?1:d<0?-1:0,h>0?1:h<0?-1:0];return d&&a&&(p[0]=p[0]*-1),h&&c&&(p[1]=p[1]*-1),p}function yh(n){const o=n.includes("right")||n.includes("left"),i=n.includes("bottom")||n.includes("top"),l=n.includes("left"),a=n.includes("top");return{isHorizontal:o,isVertical:i,affectsX:l,affectsY:a}}function $n(n,o){return Math.max(0,o-n)}function On(n,o){return Math.max(0,n-o)}function Ws(n,o,i){return Math.max(0,o-n,n-i)}function vh(n,o){return n?!o:o}function tw(n,o,i,l,a,c,d,h){let{affectsX:p,affectsY:g}=o;const{isHorizontal:y,isVertical:v}=o,x=y&&v,{xSnapped:k,ySnapped:_}=i,{minWidth:b,maxWidth:C,minHeight:N,maxHeight:T}=l,{x:S,y:M,width:O,height:D,aspectRatio:H}=n;let Q=Math.floor(y?k-n.pointerX:0),G=Math.floor(v?_-n.pointerY:0);const ie=O+(p?-Q:Q),X=D+(g?-G:G),q=-c[0]*O,K=-c[1]*D;let P=Ws(ie,b,C),F=Ws(X,N,T);if(d){let z=0,$=0;p&&Q<0?z=$n(S+Q+q,d[0][0]):!p&&Q>0&&(z=On(S+ie+q,d[1][0])),g&&G<0?$=$n(M+G+K,d[0][1]):!g&&G>0&&($=On(M+X+K,d[1][1])),P=Math.max(P,z),F=Math.max(F,$)}if(h){let z=0,$=0;p&&Q>0?z=On(S+Q,h[0][0]):!p&&Q<0&&(z=$n(S+ie,h[1][0])),g&&G>0?$=On(M+G,h[0][1]):!g&&G<0&&($=$n(M+X,h[1][1])),P=Math.max(P,z),F=Math.max(F,$)}if(a){if(y){const z=Ws(ie/H,N,T)*H;if(P=Math.max(P,z),d){let $=0;!p&&!g||p&&!g&&x?$=On(M+K+ie/H,d[1][1])*H:$=$n(M+K+(p?Q:-Q)/H,d[0][1])*H,P=Math.max(P,$)}if(h){let $=0;!p&&!g||p&&!g&&x?$=$n(M+ie/H,h[1][1])*H:$=On(M+(p?Q:-Q)/H,h[0][1])*H,P=Math.max(P,$)}}if(v){const z=Ws(X*H,b,C)/H;if(F=Math.max(F,z),d){let $=0;!p&&!g||g&&!p&&x?$=On(S+X*H+q,d[1][0])/H:$=$n(S+(g?G:-G)*H+q,d[0][0])/H,F=Math.max(F,$)}if(h){let $=0;!p&&!g||g&&!p&&x?$=$n(S+X*H,h[1][0])/H:$=On(S+(g?G:-G)*H,h[0][0])/H,F=Math.max(F,$)}}}G=G+(G<0?F:-F),Q=Q+(Q<0?P:-P),a&&(x?ie>X*H?G=(vh(p,g)?-Q:Q)/H:Q=(vh(p,g)?-G:G)*H:y?(G=Q/H,g=p):(Q=G*H,p=g));const A=p?S+Q:S,B=g?M+G:M;return{width:O+(p?-Q:Q),height:D+(g?-G:G),x:c[0]*Q*(p?-1:1)+A,y:c[1]*G*(g?-1:1)+B}}const o0={width:0,height:0,x:0,y:0},nw={...o0,pointerX:0,pointerY:0,aspectRatio:1};function rw(n){return[[0,0],[n.measured.width,n.measured.height]]}function ow(n,o,i){const l=o.position.x+n.position.x,a=o.position.y+n.position.y,c=n.measured.width??0,d=n.measured.height??0,h=i[0]*c,p=i[1]*d;return[[l-h,a-p],[l+c-h,a+d-p]]}function iw({domNode:n,nodeId:o,getStoreItems:i,onChange:l,onEnd:a}){const c=wt(n);let d={controlDirection:yh("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function h({controlPosition:g,boundaries:y,keepAspectRatio:v,resizeDirection:x,onResizeStart:k,onResize:_,onResizeEnd:b,shouldResize:C}){let N={...o0},T={...nw};d={boundaries:y,resizeDirection:x,keepAspectRatio:v,controlDirection:yh(g)};let S,M=null,O=[],D,H,Q,G=!1;const ie=pp().on("start",X=>{const{nodeLookup:q,transform:K,snapGrid:P,snapToGrid:F,nodeOrigin:A,paneDomNode:B}=i();if(S=q.get(o),!S)return;M=B?.getBoundingClientRect()??null;const{xSnapped:z,ySnapped:$}=ti(X.sourceEvent,{transform:K,snapGrid:P,snapToGrid:F,containerBounds:M});N={width:S.measured.width??0,height:S.measured.height??0,x:S.position.x??0,y:S.position.y??0},T={...N,pointerX:z,pointerY:$,aspectRatio:N.width/N.height},D=void 0,S.parentId&&(S.extent==="parent"||S.expandParent)&&(D=q.get(S.parentId),H=D&&S.extent==="parent"?rw(D):void 0),O=[],Q=void 0;for(const[V,E]of q)if(E.parentId===o&&(O.push({id:V,position:{...E.position},extent:E.extent}),E.extent==="parent"||E.expandParent)){const L=ow(E,S,E.origin??A);Q?Q=[[Math.min(L[0][0],Q[0][0]),Math.min(L[0][1],Q[0][1])],[Math.max(L[1][0],Q[1][0]),Math.max(L[1][1],Q[1][1])]]:Q=L}k?.(X,{...N})}).on("drag",X=>{const{transform:q,snapGrid:K,snapToGrid:P,nodeOrigin:F}=i(),A=ti(X.sourceEvent,{transform:q,snapGrid:K,snapToGrid:P,containerBounds:M}),B=[];if(!S)return;const{x:z,y:$,width:V,height:E}=N,L={},J=S.origin??F,{width:te,height:le,x:ce,y:ue}=tw(T,d.controlDirection,A,d.boundaries,d.keepAspectRatio,J,H,Q),ee=te!==V,ae=le!==E,we=ce!==z&&ee,_e=ue!==$&&ae;if(!we&&!_e&&!ee&&!ae)return;if((we||_e||J[0]===1||J[1]===1)&&(L.x=we?ce:N.x,L.y=_e?ue:N.y,N.x=L.x,N.y=L.y,O.length>0)){const Te=ce-z,Pe=ue-$;for(const Ve of O)Ve.position={x:Ve.position.x-Te+J[0]*(te-V),y:Ve.position.y-Pe+J[1]*(le-E)},B.push(Ve)}if((ee||ae)&&(L.width=ee&&(!d.resizeDirection||d.resizeDirection==="horizontal")?te:N.width,L.height=ae&&(!d.resizeDirection||d.resizeDirection==="vertical")?le:N.height,N.width=L.width,N.height=L.height),D&&S.expandParent){const Te=J[0]*(L.width??0);L.x&&L.x<Te&&(N.x=Te,T.x=T.x-(L.x-Te));const Pe=J[1]*(L.height??0);L.y&&L.y<Pe&&(N.y=Pe,T.y=T.y-(L.y-Pe))}const xe=ew({width:N.width,prevWidth:V,height:N.height,prevHeight:E,affectsX:d.controlDirection.affectsX,affectsY:d.controlDirection.affectsY}),Se={...N,direction:xe};C?.(X,Se)!==!1&&(G=!0,_?.(X,Se),l(L,B))}).on("end",X=>{G&&(b?.(X,{...N}),a?.({...N}),G=!1)});c.call(ie)}function p(){c.on(".drag",null)}return{update:h,destroy:p}}var Eu={exports:{}},Cu={},Mu={exports:{}},bu={};var xh;function sw(){if(xh)return bu;xh=1;var n=di();function o(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var i=typeof Object.is=="function"?Object.is:o,l=n.useState,a=n.useEffect,c=n.useLayoutEffect,d=n.useDebugValue;function h(v,x){var k=x(),_=l({inst:{value:k,getSnapshot:x}}),b=_[0].inst,C=_[1];return c(function(){b.value=k,b.getSnapshot=x,p(b)&&C({inst:b})},[v,k,x]),a(function(){return p(b)&&C({inst:b}),v(function(){p(b)&&C({inst:b})})},[v]),d(k),k}function p(v){var x=v.getSnapshot;v=v.value;try{var k=x();return!i(v,k)}catch{return!0}}function g(v,x){return x()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:h;return bu.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,bu}var wh;function lw(){return wh||(wh=1,Mu.exports=sw()),Mu.exports}var Sh;function aw(){if(Sh)return Cu;Sh=1;var n=di(),o=lw();function i(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var l=typeof Object.is=="function"?Object.is:i,a=o.useSyncExternalStore,c=n.useRef,d=n.useEffect,h=n.useMemo,p=n.useDebugValue;return Cu.useSyncExternalStoreWithSelector=function(g,y,v,x,k){var _=c(null);if(_.current===null){var b={hasValue:!1,value:null};_.current=b}else b=_.current;_=h(function(){function N(D){if(!T){if(T=!0,S=D,D=x(D),k!==void 0&&b.hasValue){var H=b.value;if(k(H,D))return M=H}return M=D}if(H=M,l(S,D))return H;var Q=x(D);return k!==void 0&&k(H,Q)?(S=D,H):(S=D,M=Q)}var T=!1,S,M,O=v===void 0?null:v;return[function(){return N(y())},O===null?void 0:function(){return N(O())}]},[y,v,x,k]);var C=a(g,_[0],_[1]);return d(function(){b.hasValue=!0,b.value=C},[C]),p(C),C},Cu}var kh;function uw(){return kh||(kh=1,Eu.exports=aw()),Eu.exports}var cw=uw();const dw=Gh(cw),fw={},_h=n=>{let o;const i=new Set,l=(y,v)=>{const x=typeof y=="function"?y(o):y;if(!Object.is(x,o)){const k=o;o=v??(typeof x!="object"||x===null)?x:Object.assign({},o,x),i.forEach(_=>_(o,k))}},a=()=>o,p={setState:l,getState:a,getInitialState:()=>g,subscribe:y=>(i.add(y),()=>i.delete(y)),destroy:()=>{(fw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},g=o=n(l,a,p);return p},hw=n=>n?_h(n):_h,{useDebugValue:pw}=qh,{useSyncExternalStoreWithSelector:gw}=dw,mw=n=>n;function i0(n,o=mw,i){const l=gw(n.subscribe,n.getState,n.getServerState||n.getInitialState,o,i);return pw(l),l}const Nh=(n,o)=>{const i=hw(n),l=(a,c=o)=>i0(i,a,c);return Object.assign(l,i),l},yw=(n,o)=>n?Nh(n,o):Nh;function Re(n,o){if(Object.is(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;if(n instanceof Map&&o instanceof Map){if(n.size!==o.size)return!1;for(const[l,a]of n)if(!Object.is(a,o.get(l)))return!1;return!0}if(n instanceof Set&&o instanceof Set){if(n.size!==o.size)return!1;for(const l of n)if(!o.has(l))return!1;return!0}const i=Object.keys(n);if(i.length!==Object.keys(o).length)return!1;for(const l of i)if(!Object.prototype.hasOwnProperty.call(o,l)||!Object.is(n[l],o[l]))return!1;return!0}Jh();const yl=Y.createContext(null),vw=yl.Provider,s0=Zt.error001();function Ee(n,o){const i=Y.useContext(yl);if(i===null)throw new Error(s0);return i0(i,n,o)}function Ae(){const n=Y.useContext(yl);if(n===null)throw new Error(s0);return Y.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe}),[n])}const Eh={display:"none"},xw={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},l0="react-flow__node-desc",a0="react-flow__edge-desc",ww="react-flow__aria-live",Sw=n=>n.ariaLiveMessage,kw=n=>n.ariaLabelConfig;function _w({rfId:n}){const o=Ee(Sw);return m.jsx("div",{id:`${ww}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:xw,children:o})}function Nw({rfId:n,disableKeyboardA11y:o}){const i=Ee(kw);return m.jsxs(m.Fragment,{children:[m.jsx("div",{id:`${l0}-${n}`,style:Eh,children:o?i["node.a11yDescription.default"]:i["node.a11yDescription.keyboardDisabled"]}),m.jsx("div",{id:`${a0}-${n}`,style:Eh,children:i["edge.a11yDescription.default"]}),!o&&m.jsx(_w,{rfId:n})]})}const vi=Y.forwardRef(({position:n="top-left",children:o,className:i,style:l,...a},c)=>{const d=`${n}`.split("-");return m.jsx("div",{className:Ue(["react-flow__panel",i,...d]),style:l,ref:c,...a,children:o})});vi.displayName="Panel";function Ew({proOptions:n,position:o="bottom-right"}){return n?.hideAttribution?null:m.jsx(vi,{position:o,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:m.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Cw=n=>{const o=[],i=[];for(const[,l]of n.nodeLookup)l.selected&&o.push(l.internals.userNode);for(const[,l]of n.edgeLookup)l.selected&&i.push(l);return{selectedNodes:o,selectedEdges:i}},Us=n=>n.id;function Mw(n,o){return Re(n.selectedNodes.map(Us),o.selectedNodes.map(Us))&&Re(n.selectedEdges.map(Us),o.selectedEdges.map(Us))}function bw({onSelectionChange:n}){const o=Ae(),{selectedNodes:i,selectedEdges:l}=Ee(Cw,Mw);return Y.useEffect(()=>{const a={nodes:i,edges:l};n?.(a),o.getState().onSelectionChangeHandlers.forEach(c=>c(a))},[i,l,n]),null}const jw=n=>!!n.onSelectionChangeHandlers;function Pw({onSelectionChange:n}){const o=Ee(jw);return n||o?m.jsx(bw,{onSelectionChange:n}):null}const u0=[0,0],Tw={x:0,y:0,zoom:1},zw=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Ch=[...zw,"rfId"],Iw=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges}),Mh={translateExtent:si,nodeOrigin:u0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Lw(n){const{setNodes:o,setEdges:i,setMinZoom:l,setMaxZoom:a,setTranslateExtent:c,setNodeExtent:d,reset:h,setDefaultNodesAndEdges:p}=Ee(Iw,Re),g=Ae();Y.useEffect(()=>(p(n.defaultNodes,n.defaultEdges),()=>{y.current=Mh,h()}),[]);const y=Y.useRef(Mh);return Y.useEffect(()=>{for(const v of Ch){const x=n[v],k=y.current[v];x!==k&&(typeof n[v]>"u"||(v==="nodes"?o(x):v==="edges"?i(x):v==="minZoom"?l(x):v==="maxZoom"?a(x):v==="translateExtent"?c(x):v==="nodeExtent"?d(x):v==="ariaLabelConfig"?g.setState({ariaLabelConfig:v1(x)}):v==="fitView"?g.setState({fitViewQueued:x}):v==="fitViewOptions"?g.setState({fitViewOptions:x}):g.setState({[v]:x})))}y.current=n},Ch.map(v=>n[v])),null}function bh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Dw(n){const[o,i]=Y.useState(n==="system"?null:n);return Y.useEffect(()=>{if(n!=="system"){i(n);return}const l=bh(),a=()=>i(l?.matches?"dark":"light");return a(),l?.addEventListener("change",a),()=>{l?.removeEventListener("change",a)}},[n]),o!==null?o:bh()?.matches?"dark":"light"}const jh=typeof document<"u"?document:null;function ci(n=null,o={target:jh,actInsideInputWithModifier:!0}){const[i,l]=Y.useState(!1),a=Y.useRef(!1),c=Y.useRef(new Set([])),[d,h]=Y.useMemo(()=>{if(n!==null){const g=(Array.isArray(n)?n:[n]).filter(v=>typeof v=="string").map(v=>v.replace("+",`
`).replace(`

`,`
+`).split(`
`)),y=g.reduce((v,x)=>v.concat(...x),[]);return[g,y]}return[[],[]]},[n]);return Y.useEffect(()=>{const p=o?.target??jh,g=o?.actInsideInputWithModifier??!0;if(n!==null){const y=k=>{if(a.current=k.ctrlKey||k.metaKey||k.shiftKey||k.altKey,(!a.current||a.current&&!g)&&Bp(k))return!1;const b=Th(k.code,h);if(c.current.add(k[b]),Ph(d,c.current,!1)){const C=k.composedPath?.()?.[0]||k.target,N=C?.nodeName==="BUTTON"||C?.nodeName==="A";o.preventDefault!==!1&&(a.current||!N)&&k.preventDefault(),l(!0)}},v=k=>{const _=Th(k.code,h);Ph(d,c.current,!0)?(l(!1),c.current.clear()):c.current.delete(k[_]),k.key==="Meta"&&c.current.clear(),a.current=!1},x=()=>{c.current.clear(),l(!1)};return p?.addEventListener("keydown",y),p?.addEventListener("keyup",v),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{p?.removeEventListener("keydown",y),p?.removeEventListener("keyup",v),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[n,l]),i}function Ph(n,o,i){return n.filter(l=>i||l.length===o.size).some(l=>l.every(a=>o.has(a)))}function Th(n,o){return o.includes(n)?"code":"key"}const Rw=()=>{const n=Ae();return Y.useMemo(()=>({zoomIn:o=>{const{panZoom:i}=n.getState();return i?i.scaleBy(1.2,{duration:o?.duration}):Promise.resolve(!1)},zoomOut:o=>{const{panZoom:i}=n.getState();return i?i.scaleBy(1/1.2,{duration:o?.duration}):Promise.resolve(!1)},zoomTo:(o,i)=>{const{panZoom:l}=n.getState();return l?l.scaleTo(o,{duration:i?.duration}):Promise.resolve(!1)},getZoom:()=>n.getState().transform[2],setViewport:async(o,i)=>{const{transform:[l,a,c],panZoom:d}=n.getState();return d?(await d.setViewport({x:o.x??l,y:o.y??a,zoom:o.zoom??c},i),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[o,i,l]=n.getState().transform;return{x:o,y:i,zoom:l}},setCenter:async(o,i,l)=>n.getState().setCenter(o,i,l),fitBounds:async(o,i)=>{const{width:l,height:a,minZoom:c,maxZoom:d,panZoom:h}=n.getState(),p=tc(o,l,a,c,d,i?.padding??.1);return h?(await h.setViewport(p,{duration:i?.duration,ease:i?.ease,interpolate:i?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(o,i={})=>{const{transform:l,snapGrid:a,snapToGrid:c,domNode:d}=n.getState();if(!d)return o;const{x:h,y:p}=d.getBoundingClientRect(),g={x:o.x-h,y:o.y-p},y=i.snapGrid??a,v=i.snapToGrid??c;return yi(g,l,v,y)},flowToScreenPosition:o=>{const{transform:i,domNode:l}=n.getState();if(!l)return o;const{x:a,y:c}=l.getBoundingClientRect(),d=ll(o,i);return{x:d.x+a,y:d.y+c}}}),[])};function c0(n,o){const i=[],l=new Map,a=[];for(const c of n)if(c.type==="add"){a.push(c);continue}else if(c.type==="remove"||c.type==="replace")l.set(c.id,[c]);else{const d=l.get(c.id);d?d.push(c):l.set(c.id,[c])}for(const c of o){const d=l.get(c.id);if(!d){i.push(c);continue}if(d[0].type==="remove")continue;if(d[0].type==="replace"){i.push({...d[0].item});continue}const h={...c};for(const p of d)Aw(p,h);i.push(h)}return a.length&&a.forEach(c=>{c.index!==void 0?i.splice(c.index,0,{...c.item}):i.push({...c.item})}),i}function Aw(n,o){switch(n.type){case"select":{o.selected=n.selected;break}case"position":{typeof n.position<"u"&&(o.position=n.position),typeof n.dragging<"u"&&(o.dragging=n.dragging);break}case"dimensions":{typeof n.dimensions<"u"&&(o.measured={...n.dimensions},n.setAttributes&&((n.setAttributes===!0||n.setAttributes==="width")&&(o.width=n.dimensions.width),(n.setAttributes===!0||n.setAttributes==="height")&&(o.height=n.dimensions.height))),typeof n.resizing=="boolean"&&(o.resizing=n.resizing);break}}}function d0(n,o){return c0(n,o)}function f0(n,o){return c0(n,o)}function lr(n,o){return{id:n,type:"select",selected:o}}function Qr(n,o=new Set,i=!1){const l=[];for(const[a,c]of n){const d=o.has(a);!(c.selected===void 0&&!d)&&c.selected!==d&&(i&&(c.selected=d),l.push(lr(c.id,d)))}return l}function zh({items:n=[],lookup:o}){const i=[],l=new Map(n.map(a=>[a.id,a]));for(const[a,c]of n.entries()){const d=o.get(c.id),h=d?.internals?.userNode??d;h!==void 0&&h!==c&&i.push({id:c.id,item:c,type:"replace"}),h===void 0&&i.push({item:c,type:"add",index:a})}for(const[a]of o)l.get(a)===void 0&&i.push({id:a,type:"remove"});return i}function Ih(n){return{id:n.id,type:"remove"}}const Lh=n=>a1(n),$w=n=>Lp(n);function h0(n){return Y.forwardRef(n)}const Ow=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;function Dh(n){const[o,i]=Y.useState(BigInt(0)),[l]=Y.useState(()=>Hw(()=>i(a=>a+BigInt(1))));return Ow(()=>{const a=l.get();a.length&&(n(a),l.reset())},[o]),l}function Hw(n){let o=[];return{get:()=>o,reset:()=>{o=[]},push:i=>{o.push(i),n()}}}const p0=Y.createContext(null);function Fw({children:n}){const o=Ae(),i=Y.useCallback(h=>{const{nodes:p=[],setNodes:g,hasDefaultNodes:y,onNodesChange:v,nodeLookup:x,fitViewQueued:k,onNodesChangeMiddlewareMap:_}=o.getState();let b=p;for(const N of h)b=typeof N=="function"?N(b):N;let C=zh({items:b,lookup:x});for(const N of _.values())C=N(C);y&&g(b),C.length>0?v?.(C):k&&window.requestAnimationFrame(()=>{const{fitViewQueued:N,nodes:T,setNodes:S}=o.getState();N&&S(T)})},[]),l=Dh(i),a=Y.useCallback(h=>{const{edges:p=[],setEdges:g,hasDefaultEdges:y,onEdgesChange:v,edgeLookup:x}=o.getState();let k=p;for(const _ of h)k=typeof _=="function"?_(k):_;y?g(k):v&&v(zh({items:k,lookup:x}))},[]),c=Dh(a),d=Y.useMemo(()=>({nodeQueue:l,edgeQueue:c}),[]);return m.jsx(p0.Provider,{value:d,children:n})}function Bw(){const n=Y.useContext(p0);if(!n)throw new Error("useBatchContext must be used within a BatchProvider");return n}const Vw=n=>!!n.panZoom;function vl(){const n=Rw(),o=Ae(),i=Bw(),l=Ee(Vw),a=Y.useMemo(()=>{const c=v=>o.getState().nodeLookup.get(v),d=v=>{i.nodeQueue.push(v)},h=v=>{i.edgeQueue.push(v)},p=v=>{const{nodeLookup:x,nodeOrigin:k}=o.getState(),_=Lh(v)?v:x.get(v.id),b=_.parentId?Hp(_.position,_.measured,_.parentId,x,k):_.position,C={..._,position:b,width:_.measured?.width??_.width,height:_.measured?.height??_.height};return to(C)},g=(v,x,k={replace:!1})=>{d(_=>_.map(b=>{if(b.id===v){const C=typeof x=="function"?x(b):x;return k.replace&&Lh(C)?C:{...b,...C}}return b}))},y=(v,x,k={replace:!1})=>{h(_=>_.map(b=>{if(b.id===v){const C=typeof x=="function"?x(b):x;return k.replace&&$w(C)?C:{...b,...C}}return b}))};return{getNodes:()=>o.getState().nodes.map(v=>({...v})),getNode:v=>c(v)?.internals.userNode,getInternalNode:c,getEdges:()=>{const{edges:v=[]}=o.getState();return v.map(x=>({...x}))},getEdge:v=>o.getState().edgeLookup.get(v),setNodes:d,setEdges:h,addNodes:v=>{const x=Array.isArray(v)?v:[v];i.nodeQueue.push(k=>[...k,...x])},addEdges:v=>{const x=Array.isArray(v)?v:[v];i.edgeQueue.push(k=>[...k,...x])},toObject:()=>{const{nodes:v=[],edges:x=[],transform:k}=o.getState(),[_,b,C]=k;return{nodes:v.map(N=>({...N})),edges:x.map(N=>({...N})),viewport:{x:_,y:b,zoom:C}}},deleteElements:async({nodes:v=[],edges:x=[]})=>{const{nodes:k,edges:_,onNodesDelete:b,onEdgesDelete:C,triggerNodeChanges:N,triggerEdgeChanges:T,onDelete:S,onBeforeDelete:M}=o.getState(),{nodes:O,edges:D}=await h1({nodesToRemove:v,edgesToRemove:x,nodes:k,edges:_,onBeforeDelete:M}),H=D.length>0,Q=O.length>0;if(H){const G=D.map(Ih);C?.(D),T(G)}if(Q){const G=O.map(Ih);b?.(O),N(G)}return(Q||H)&&S?.({nodes:O,edges:D}),{deletedNodes:O,deletedEdges:D}},getIntersectingNodes:(v,x=!0,k)=>{const _=sh(v),b=_?v:p(v),C=k!==void 0;return b?(k||o.getState().nodes).filter(N=>{const T=o.getState().nodeLookup.get(N.id);if(T&&!_&&(N.id===v.id||!T.internals.positionAbsolute))return!1;const S=to(C?N:T),M=ai(S,b);return x&&M>0||M>=S.width*S.height||M>=b.width*b.height}):[]},isNodeIntersecting:(v,x,k=!0)=>{const b=sh(v)?v:p(v);if(!b)return!1;const C=ai(b,x);return k&&C>0||C>=x.width*x.height||C>=b.width*b.height},updateNode:g,updateNodeData:(v,x,k={replace:!1})=>{g(v,_=>{const b=typeof x=="function"?x(_):x;return k.replace?{..._,data:b}:{..._,data:{..._.data,...b}}},k)},updateEdge:y,updateEdgeData:(v,x,k={replace:!1})=>{y(v,_=>{const b=typeof x=="function"?x(_):x;return k.replace?{..._,data:b}:{..._,data:{..._.data,...b}}},k)},getNodesBounds:v=>{const{nodeLookup:x,nodeOrigin:k}=o.getState();return u1(v,{nodeLookup:x,nodeOrigin:k})},getHandleConnections:({type:v,id:x,nodeId:k})=>Array.from(o.getState().connectionLookup.get(`${k}-${v}${x?`-${x}`:""}`)?.values()??[]),getNodeConnections:({type:v,handleId:x,nodeId:k})=>Array.from(o.getState().connectionLookup.get(`${k}${v?x?`-${v}-${x}`:`-${v}`:""}`)?.values()??[]),fitView:async v=>{const x=o.getState().fitViewResolver??y1();return o.setState({fitViewQueued:!0,fitViewOptions:v,fitViewResolver:x}),i.nodeQueue.push(k=>[...k]),x.promise}}},[]);return Y.useMemo(()=>({...a,...n,viewportInitialized:l}),[l])}const Rh=n=>n.selected,Ww=typeof window<"u"?window:void 0;function Uw({deleteKeyCode:n,multiSelectionKeyCode:o}){const i=Ae(),{deleteElements:l}=vl(),a=ci(n,{actInsideInputWithModifier:!1}),c=ci(o,{target:Ww});Y.useEffect(()=>{if(a){const{edges:d,nodes:h}=i.getState();l({nodes:h.filter(Rh),edges:d.filter(Rh)}),i.setState({nodesSelectionActive:!1})}},[a]),Y.useEffect(()=>{i.setState({multiSelectionActive:c})},[c])}function Yw(n){const o=Ae();Y.useEffect(()=>{const i=()=>{if(!n.current||!(n.current.checkVisibility?.()??!0))return!1;const l=nc(n.current);(l.height===0||l.width===0)&&o.getState().onError?.("004",Zt.error004()),o.setState({width:l.width||500,height:l.height||500})};if(n.current){i(),window.addEventListener("resize",i);const l=new ResizeObserver(()=>i());return l.observe(n.current),()=>{window.removeEventListener("resize",i),l&&n.current&&l.unobserve(n.current)}}},[])}const xl={position:"absolute",width:"100%",height:"100%",top:0,left:0},Xw=n=>({userSelectionActive:n.userSelectionActive,lib:n.lib,connectionInProgress:n.connection.inProgress});function Qw({onPaneContextMenu:n,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:l=!1,panOnScrollSpeed:a=.5,panOnScrollMode:c=cr.Free,zoomOnDoubleClick:d=!0,panOnDrag:h=!0,defaultViewport:p,translateExtent:g,minZoom:y,maxZoom:v,zoomActivationKeyCode:x,preventScrolling:k=!0,children:_,noWheelClassName:b,noPanClassName:C,onViewportChange:N,isControlledViewport:T,paneClickDistance:S,selectionOnDrag:M}){const O=Ae(),D=Y.useRef(null),{userSelectionActive:H,lib:Q,connectionInProgress:G}=Ee(Xw,Re),ie=ci(x),X=Y.useRef();Yw(D);const q=Y.useCallback(K=>{N?.({x:K[0],y:K[1],zoom:K[2]}),T||O.setState({transform:K})},[N,T]);return Y.useEffect(()=>{if(D.current){X.current=J1({domNode:D.current,minZoom:y,maxZoom:v,translateExtent:g,viewport:p,onDraggingChange:A=>O.setState({paneDragging:A}),onPanZoomStart:(A,B)=>{const{onViewportChangeStart:z,onMoveStart:$}=O.getState();$?.(A,B),z?.(B)},onPanZoom:(A,B)=>{const{onViewportChange:z,onMove:$}=O.getState();$?.(A,B),z?.(B)},onPanZoomEnd:(A,B)=>{const{onViewportChangeEnd:z,onMoveEnd:$}=O.getState();$?.(A,B),z?.(B)}});const{x:K,y:P,zoom:F}=X.current.getViewport();return O.setState({panZoom:X.current,transform:[K,P,F],domNode:D.current.closest(".react-flow")}),()=>{X.current?.destroy()}}},[]),Y.useEffect(()=>{X.current?.update({onPaneContextMenu:n,zoomOnScroll:o,zoomOnPinch:i,panOnScroll:l,panOnScrollSpeed:a,panOnScrollMode:c,zoomOnDoubleClick:d,panOnDrag:h,zoomActivationKeyPressed:ie,preventScrolling:k,noPanClassName:C,userSelectionActive:H,noWheelClassName:b,lib:Q,onTransformChange:q,connectionInProgress:G,selectionOnDrag:M,paneClickDistance:S})},[n,o,i,l,a,c,d,h,ie,k,C,H,b,Q,q,G,M,S]),m.jsx("div",{className:"react-flow__renderer",ref:D,style:xl,children:_})}const Zw=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function Kw(){const{userSelectionActive:n,userSelectionRect:o}=Ee(Zw,Re);return n&&o?m.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:o.width,height:o.height,transform:`translate(${o.x}px, ${o.y}px)`}}):null}const ju=(n,o)=>i=>{i.target===o.current&&n?.(i)},Gw=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,connectionInProgress:n.connection.inProgress,dragging:n.paneDragging});function qw({isSelecting:n,selectionKeyPressed:o,selectionMode:i=li.Full,panOnDrag:l,paneClickDistance:a,selectionOnDrag:c,onSelectionStart:d,onSelectionEnd:h,onPaneClick:p,onPaneContextMenu:g,onPaneScroll:y,onPaneMouseEnter:v,onPaneMouseMove:x,onPaneMouseLeave:k,children:_}){const b=Ae(),{userSelectionActive:C,elementsSelectable:N,dragging:T,connectionInProgress:S}=Ee(Gw,Re),M=N&&(n||C),O=Y.useRef(null),D=Y.useRef(),H=Y.useRef(new Set),Q=Y.useRef(new Set),G=Y.useRef(!1),ie=z=>{if(G.current||S){G.current=!1;return}p?.(z),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},X=z=>{if(Array.isArray(l)&&l?.includes(2)){z.preventDefault();return}g?.(z)},q=y?z=>y(z):void 0,K=z=>{G.current&&(z.stopPropagation(),G.current=!1)},P=z=>{const{domNode:$}=b.getState();if(D.current=$?.getBoundingClientRect(),!D.current)return;const V=z.target===O.current;if(!V&&!!z.target.closest(".nokey")||!n||!(c&&V||o)||z.button!==0||!z.isPrimary)return;z.target?.setPointerCapture?.(z.pointerId),G.current=!1;const{x:J,y:te}=Ht(z.nativeEvent,D.current);b.setState({userSelectionRect:{width:0,height:0,startX:J,startY:te,x:J,y:te}}),V||(z.stopPropagation(),z.preventDefault())},F=z=>{const{userSelectionRect:$,transform:V,nodeLookup:E,edgeLookup:L,connectionLookup:J,triggerNodeChanges:te,triggerEdgeChanges:le,defaultEdgeOptions:ce,resetSelectedElements:ue}=b.getState();if(!D.current||!$)return;const{x:ee,y:ae}=Ht(z.nativeEvent,D.current),{startX:we,startY:_e}=$;if(!G.current){const Pe=o?0:a;if(Math.hypot(ee-we,ae-_e)<=Pe)return;ue(),d?.(z)}G.current=!0;const xe={startX:we,startY:_e,x:ee<we?ee:we,y:ae<_e?ae:_e,width:Math.abs(ee-we),height:Math.abs(ae-_e)},Se=H.current,Me=Q.current;H.current=new Set(ec(E,xe,V,i===li.Partial,!0).map(Pe=>Pe.id)),Q.current=new Set;const Te=ce?.selectable??!0;for(const Pe of H.current){const Ve=J.get(Pe);if(Ve)for(const{edgeId:Pt}of Ve.values()){const ht=L.get(Pt);ht&&(ht.selectable??Te)&&Q.current.add(Pt)}}if(!lh(Se,H.current)){const Pe=Qr(E,H.current,!0);te(Pe)}if(!lh(Me,Q.current)){const Pe=Qr(L,Q.current);le(Pe)}b.setState({userSelectionRect:xe,userSelectionActive:!0,nodesSelectionActive:!1})},A=z=>{z.button===0&&(z.target?.releasePointerCapture?.(z.pointerId),!C&&z.target===O.current&&b.getState().userSelectionRect&&ie?.(z),b.setState({userSelectionActive:!1,userSelectionRect:null}),G.current&&(h?.(z),b.setState({nodesSelectionActive:H.current.size>0})))},B=l===!0||Array.isArray(l)&&l.includes(0);return m.jsxs("div",{className:Ue(["react-flow__pane",{draggable:B,dragging:T,selection:n}]),onClick:M?void 0:ju(ie,O),onContextMenu:ju(X,O),onWheel:ju(q,O),onPointerEnter:M?void 0:v,onPointerMove:M?F:x,onPointerUp:M?A:void 0,onPointerDownCapture:M?P:void 0,onClickCapture:M?K:void 0,onPointerLeave:k,ref:O,style:xl,children:[_,m.jsx(Kw,{})]})}function Uu({id:n,store:o,unselect:i=!1,nodeRef:l}){const{addSelectedNodes:a,unselectNodesAndEdges:c,multiSelectionActive:d,nodeLookup:h,onError:p}=o.getState(),g=h.get(n);if(!g){p?.("012",Zt.error012(n));return}o.setState({nodesSelectionActive:!1}),g.selected?(i||g.selected&&d)&&(c({nodes:[g],edges:[]}),requestAnimationFrame(()=>l?.current?.blur())):a([n])}function g0({nodeRef:n,disabled:o=!1,noDragClassName:i,handleSelector:l,nodeId:a,isSelectable:c,nodeClickDistance:d}){const h=Ae(),[p,g]=Y.useState(!1),y=Y.useRef();return Y.useEffect(()=>{y.current=O1({getStoreItems:()=>h.getState(),onNodeMouseDown:v=>{Uu({id:v,store:h,nodeRef:n})},onDragStart:()=>{g(!0)},onDragStop:()=>{g(!1)}})},[]),Y.useEffect(()=>{if(o)y.current?.destroy();else if(n.current)return y.current?.update({noDragClassName:i,handleSelector:l,domNode:n.current,isSelectable:c,nodeId:a,nodeClickDistance:d}),()=>{y.current?.destroy()}},[i,l,o,c,n,a]),p}const Jw=n=>o=>o.selected&&(o.draggable||n&&typeof o.draggable>"u");function m0(){const n=Ae();return Y.useCallback(i=>{const{nodeExtent:l,snapToGrid:a,snapGrid:c,nodesDraggable:d,onError:h,updateNodePositions:p,nodeLookup:g,nodeOrigin:y}=n.getState(),v=new Map,x=Jw(d),k=a?c[0]:5,_=a?c[1]:5,b=i.direction.x*k*i.factor,C=i.direction.y*_*i.factor;for(const[,N]of g){if(!x(N))continue;let T={x:N.internals.positionAbsolute.x+b,y:N.internals.positionAbsolute.y+C};a&&(T=mi(T,c));const{position:S,positionAbsolute:M}=Dp({nodeId:N.id,nextPosition:T,nodeLookup:g,nodeExtent:l,nodeOrigin:y,onError:h});N.position=S,N.internals.positionAbsolute=M,v.set(N.id,N)}p(v)},[])}const ac=Y.createContext(null),e2=ac.Provider;ac.Consumer;const y0=()=>Y.useContext(ac),t2=n=>({connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName,rfId:n.rfId}),n2=(n,o,i)=>l=>{const{connectionClickStartHandle:a,connectionMode:c,connection:d}=l,{fromHandle:h,toHandle:p,isValid:g}=d,y=p?.nodeId===n&&p?.id===o&&p?.type===i;return{connectingFrom:h?.nodeId===n&&h?.id===o&&h?.type===i,connectingTo:y,clickConnecting:a?.nodeId===n&&a?.id===o&&a?.type===i,isPossibleEndHandle:c===Jr.Strict?h?.type!==i:n!==h?.nodeId||o!==h?.id,connectionInProcess:!!h,clickConnectionInProcess:!!a,valid:y&&g}};function r2({type:n="source",position:o=pe.Top,isValidConnection:i,isConnectable:l=!0,isConnectableStart:a=!0,isConnectableEnd:c=!0,id:d,onConnect:h,children:p,className:g,onMouseDown:y,onTouchStart:v,...x},k){const _=d||null,b=n==="target",C=Ae(),N=y0(),{connectOnClick:T,noPanClassName:S,rfId:M}=Ee(t2,Re),{connectingFrom:O,connectingTo:D,clickConnecting:H,isPossibleEndHandle:Q,connectionInProcess:G,clickConnectionInProcess:ie,valid:X}=Ee(n2(N,_,n),Re);N||C.getState().onError?.("010",Zt.error010());const q=F=>{const{defaultEdgeOptions:A,onConnect:B,hasDefaultEdges:z}=C.getState(),$={...A,...F};if(z){const{edges:V,setEdges:E}=C.getState();E(Hu($,V))}B?.($),h?.($)},K=F=>{if(!N)return;const A=Vp(F.nativeEvent);if(a&&(A&&F.button===0||!A)){const B=C.getState();Wu.onPointerDown(F.nativeEvent,{handleDomNode:F.currentTarget,autoPanOnConnect:B.autoPanOnConnect,connectionMode:B.connectionMode,connectionRadius:B.connectionRadius,domNode:B.domNode,nodeLookup:B.nodeLookup,lib:B.lib,isTarget:b,handleId:_,nodeId:N,flowId:B.rfId,panBy:B.panBy,cancelConnection:B.cancelConnection,onConnectStart:B.onConnectStart,onConnectEnd:B.onConnectEnd,updateConnection:B.updateConnection,onConnect:q,isValidConnection:i||B.isValidConnection,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,autoPanSpeed:B.autoPanSpeed,dragThreshold:B.connectionDragThreshold})}A?y?.(F):v?.(F)},P=F=>{const{onClickConnectStart:A,onClickConnectEnd:B,connectionClickStartHandle:z,connectionMode:$,isValidConnection:V,lib:E,rfId:L,nodeLookup:J,connection:te}=C.getState();if(!N||!z&&!a)return;if(!z){A?.(F.nativeEvent,{nodeId:N,handleId:_,handleType:n}),C.setState({connectionClickStartHandle:{nodeId:N,type:n,id:_}});return}const le=Fp(F.target),ce=i||V,{connection:ue,isValid:ee}=Wu.isValid(F.nativeEvent,{handle:{nodeId:N,id:_,type:n},connectionMode:$,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:ce,flowId:L,doc:le,lib:E,nodeLookup:J});ee&&ue&&q(ue);const ae=structuredClone(te);delete ae.inProgress,ae.toPosition=ae.toHandle?ae.toHandle.position:null,B?.(F,ae),C.setState({connectionClickStartHandle:null})};return m.jsx("div",{"data-handleid":_,"data-nodeid":N,"data-handlepos":o,"data-id":`${M}-${N}-${_}-${n}`,className:Ue(["react-flow__handle",`react-flow__handle-${o}`,"nodrag",S,g,{source:!b,target:b,connectable:l,connectablestart:a,connectableend:c,clickconnecting:H,connectingfrom:O,connectingto:D,valid:X,connectionindicator:l&&(!G||Q)&&(G||ie?c:a)}]),onMouseDown:K,onTouchStart:K,onClick:T?P:void 0,ref:k,...x,children:p})}const ft=Y.memo(h0(r2));function o2({data:n,isConnectable:o,sourcePosition:i=pe.Bottom}){return m.jsxs(m.Fragment,{children:[n?.label,m.jsx(ft,{type:"source",position:i,isConnectable:o})]})}function i2({data:n,isConnectable:o,targetPosition:i=pe.Top,sourcePosition:l=pe.Bottom}){return m.jsxs(m.Fragment,{children:[m.jsx(ft,{type:"target",position:i,isConnectable:o}),n?.label,m.jsx(ft,{type:"source",position:l,isConnectable:o})]})}function s2(){return null}function l2({data:n,isConnectable:o,targetPosition:i=pe.Top}){return m.jsxs(m.Fragment,{children:[m.jsx(ft,{type:"target",position:i,isConnectable:o}),n?.label]})}const al={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Ah={input:o2,default:i2,output:l2,group:s2};function a2(n){return n.internals.handleBounds===void 0?{width:n.width??n.initialWidth??n.style?.width,height:n.height??n.initialHeight??n.style?.height}:{width:n.width??n.style?.width,height:n.height??n.style?.height}}const u2=n=>{const{width:o,height:i,x:l,y:a}=gi(n.nodeLookup,{filter:c=>!!c.selected});return{width:Ot(o)?o:null,height:Ot(i)?i:null,userSelectionActive:n.userSelectionActive,transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]}) translate(${l}px,${a}px)`}};function c2({onSelectionContextMenu:n,noPanClassName:o,disableKeyboardA11y:i}){const l=Ae(),{width:a,height:c,transformString:d,userSelectionActive:h}=Ee(u2,Re),p=m0(),g=Y.useRef(null);if(Y.useEffect(()=>{i||g.current?.focus({preventScroll:!0})},[i]),g0({nodeRef:g}),h||!a||!c)return null;const y=n?x=>{const k=l.getState().nodes.filter(_=>_.selected);n(x,k)}:void 0,v=x=>{Object.prototype.hasOwnProperty.call(al,x.key)&&(x.preventDefault(),p({direction:al[x.key],factor:x.shiftKey?4:1}))};return m.jsx("div",{className:Ue(["react-flow__nodesselection","react-flow__container",o]),style:{transform:d},children:m.jsx("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:y,tabIndex:i?void 0:-1,onKeyDown:i?void 0:v,style:{width:a,height:c}})})}const $h=typeof window<"u"?window:void 0,d2=n=>({nodesSelectionActive:n.nodesSelectionActive,userSelectionActive:n.userSelectionActive});function v0({children:n,onPaneClick:o,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:d,paneClickDistance:h,deleteKeyCode:p,selectionKeyCode:g,selectionOnDrag:y,selectionMode:v,onSelectionStart:x,onSelectionEnd:k,multiSelectionKeyCode:_,panActivationKeyCode:b,zoomActivationKeyCode:C,elementsSelectable:N,zoomOnScroll:T,zoomOnPinch:S,panOnScroll:M,panOnScrollSpeed:O,panOnScrollMode:D,zoomOnDoubleClick:H,panOnDrag:Q,defaultViewport:G,translateExtent:ie,minZoom:X,maxZoom:q,preventScrolling:K,onSelectionContextMenu:P,noWheelClassName:F,noPanClassName:A,disableKeyboardA11y:B,onViewportChange:z,isControlledViewport:$}){const{nodesSelectionActive:V,userSelectionActive:E}=Ee(d2,Re),L=ci(g,{target:$h}),J=ci(b,{target:$h}),te=J||Q,le=J||M,ce=y&&te!==!0,ue=L||E||ce;return Uw({deleteKeyCode:p,multiSelectionKeyCode:_}),m.jsx(Qw,{onPaneContextMenu:c,elementsSelectable:N,zoomOnScroll:T,zoomOnPinch:S,panOnScroll:le,panOnScrollSpeed:O,panOnScrollMode:D,zoomOnDoubleClick:H,panOnDrag:!L&&te,defaultViewport:G,translateExtent:ie,minZoom:X,maxZoom:q,zoomActivationKeyCode:C,preventScrolling:K,noWheelClassName:F,noPanClassName:A,onViewportChange:z,isControlledViewport:$,paneClickDistance:h,selectionOnDrag:ce,children:m.jsxs(qw,{onSelectionStart:x,onSelectionEnd:k,onPaneClick:o,onPaneMouseEnter:i,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:d,panOnDrag:te,isSelecting:!!ue,selectionMode:v,selectionKeyPressed:L,paneClickDistance:h,selectionOnDrag:ce,children:[n,V&&m.jsx(c2,{onSelectionContextMenu:P,noPanClassName:A,disableKeyboardA11y:B})]})})}v0.displayName="FlowRenderer";const f2=Y.memo(v0),h2=n=>o=>n?ec(o.nodeLookup,{x:0,y:0,width:o.width,height:o.height},o.transform,!0).map(i=>i.id):Array.from(o.nodeLookup.keys());function p2(n){return Ee(Y.useCallback(h2(n),[n]),Re)}const g2=n=>n.updateNodeInternals;function m2(){const n=Ee(g2),[o]=Y.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(i=>{const l=new Map;i.forEach(a=>{const c=a.target.getAttribute("data-id");l.set(c,{id:c,nodeElement:a.target,force:!0})}),n(l)}));return Y.useEffect(()=>()=>{o?.disconnect()},[o]),o}function y2({node:n,nodeType:o,hasDimensions:i,resizeObserver:l}){const a=Ae(),c=Y.useRef(null),d=Y.useRef(null),h=Y.useRef(n.sourcePosition),p=Y.useRef(n.targetPosition),g=Y.useRef(o),y=i&&!!n.internals.handleBounds;return Y.useEffect(()=>{c.current&&!n.hidden&&(!y||d.current!==c.current)&&(d.current&&l?.unobserve(d.current),l?.observe(c.current),d.current=c.current)},[y,n.hidden]),Y.useEffect(()=>()=>{d.current&&(l?.unobserve(d.current),d.current=null)},[]),Y.useEffect(()=>{if(c.current){const v=g.current!==o,x=h.current!==n.sourcePosition,k=p.current!==n.targetPosition;(v||x||k)&&(g.current=o,h.current=n.sourcePosition,p.current=n.targetPosition,a.getState().updateNodeInternals(new Map([[n.id,{id:n.id,nodeElement:c.current,force:!0}]])))}},[n.id,o,n.sourcePosition,n.targetPosition]),c}function v2({id:n,onClick:o,onMouseEnter:i,onMouseMove:l,onMouseLeave:a,onContextMenu:c,onDoubleClick:d,nodesDraggable:h,elementsSelectable:p,nodesConnectable:g,nodesFocusable:y,resizeObserver:v,noDragClassName:x,noPanClassName:k,disableKeyboardA11y:_,rfId:b,nodeTypes:C,nodeClickDistance:N,onError:T}){const{node:S,internals:M,isParent:O}=Ee(ee=>{const ae=ee.nodeLookup.get(n),we=ee.parentLookup.has(n);return{node:ae,internals:ae.internals,isParent:we}},Re);let D=S.type||"default",H=C?.[D]||Ah[D];H===void 0&&(T?.("003",Zt.error003(D)),D="default",H=C?.default||Ah.default);const Q=!!(S.draggable||h&&typeof S.draggable>"u"),G=!!(S.selectable||p&&typeof S.selectable>"u"),ie=!!(S.connectable||g&&typeof S.connectable>"u"),X=!!(S.focusable||y&&typeof S.focusable>"u"),q=Ae(),K=Op(S),P=y2({node:S,nodeType:D,hasDimensions:K,resizeObserver:v}),F=g0({nodeRef:P,disabled:S.hidden||!Q,noDragClassName:x,handleSelector:S.dragHandle,nodeId:n,isSelectable:G,nodeClickDistance:N}),A=m0();if(S.hidden)return null;const B=pn(S),z=a2(S),$=G||Q||o||i||l||a,V=i?ee=>i(ee,{...M.userNode}):void 0,E=l?ee=>l(ee,{...M.userNode}):void 0,L=a?ee=>a(ee,{...M.userNode}):void 0,J=c?ee=>c(ee,{...M.userNode}):void 0,te=d?ee=>d(ee,{...M.userNode}):void 0,le=ee=>{const{selectNodesOnDrag:ae,nodeDragThreshold:we}=q.getState();G&&(!ae||!Q||we>0)&&Uu({id:n,store:q,nodeRef:P}),o&&o(ee,{...M.userNode})},ce=ee=>{if(!(Bp(ee.nativeEvent)||_)){if(Pp.includes(ee.key)&&G){const ae=ee.key==="Escape";Uu({id:n,store:q,unselect:ae,nodeRef:P})}else if(Q&&S.selected&&Object.prototype.hasOwnProperty.call(al,ee.key)){ee.preventDefault();const{ariaLabelConfig:ae}=q.getState();q.setState({ariaLiveMessage:ae["node.a11yDescription.ariaLiveMessage"]({direction:ee.key.replace("Arrow","").toLowerCase(),x:~~M.positionAbsolute.x,y:~~M.positionAbsolute.y})}),A({direction:al[ee.key],factor:ee.shiftKey?4:1})}}},ue=()=>{if(_||!P.current?.matches(":focus-visible"))return;const{transform:ee,width:ae,height:we,autoPanOnNodeFocus:_e,setCenter:xe}=q.getState();if(!_e)return;ec(new Map([[n,S]]),{x:0,y:0,width:ae,height:we},ee,!0).length>0||xe(S.position.x+B.width/2,S.position.y+B.height/2,{zoom:ee[2]})};return m.jsx("div",{className:Ue(["react-flow__node",`react-flow__node-${D}`,{[k]:Q},S.className,{selected:S.selected,selectable:G,parent:O,draggable:Q,dragging:F}]),ref:P,style:{zIndex:M.z,transform:`translate(${M.positionAbsolute.x}px,${M.positionAbsolute.y}px)`,pointerEvents:$?"all":"none",visibility:K?"visible":"hidden",...S.style,...z},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:V,onMouseMove:E,onMouseLeave:L,onContextMenu:J,onClick:le,onDoubleClick:te,onKeyDown:X?ce:void 0,tabIndex:X?0:void 0,onFocus:X?ue:void 0,role:S.ariaRole??(X?"group":void 0),"aria-roledescription":"node","aria-describedby":_?void 0:`${l0}-${b}`,"aria-label":S.ariaLabel,...S.domAttributes,children:m.jsx(e2,{value:n,children:m.jsx(H,{id:n,data:S.data,type:D,positionAbsoluteX:M.positionAbsolute.x,positionAbsoluteY:M.positionAbsolute.y,selected:S.selected??!1,selectable:G,draggable:Q,deletable:S.deletable??!0,isConnectable:ie,sourcePosition:S.sourcePosition,targetPosition:S.targetPosition,dragging:F,dragHandle:S.dragHandle,zIndex:M.z,parentId:S.parentId,...B})})})}var x2=Y.memo(v2);const w2=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,onError:n.onError});function x0(n){const{nodesDraggable:o,nodesConnectable:i,nodesFocusable:l,elementsSelectable:a,onError:c}=Ee(w2,Re),d=p2(n.onlyRenderVisibleElements),h=m2();return m.jsx("div",{className:"react-flow__nodes",style:xl,children:d.map(p=>m.jsx(x2,{id:p,nodeTypes:n.nodeTypes,nodeExtent:n.nodeExtent,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,resizeObserver:h,nodesDraggable:o,nodesConnectable:i,nodesFocusable:l,elementsSelectable:a,nodeClickDistance:n.nodeClickDistance,onError:c},p))})}x0.displayName="NodeRenderer";const S2=Y.memo(x0);function k2(n){return Ee(Y.useCallback(i=>{if(!n)return i.edges.map(a=>a.id);const l=[];if(i.width&&i.height)for(const a of i.edges){const c=i.nodeLookup.get(a.source),d=i.nodeLookup.get(a.target);c&&d&&S1({sourceNode:c,targetNode:d,width:i.width,height:i.height,transform:i.transform})&&l.push(a.id)}return l},[n]),Re)}const _2=({color:n="none",strokeWidth:o=1})=>{const i={strokeWidth:o,...n&&{stroke:n}};return m.jsx("polyline",{className:"arrow",style:i,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},N2=({color:n="none",strokeWidth:o=1})=>{const i={strokeWidth:o,...n&&{stroke:n,fill:n}};return m.jsx("polyline",{className:"arrowclosed",style:i,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Oh={[il.Arrow]:_2,[il.ArrowClosed]:N2};function E2(n){const o=Ae();return Y.useMemo(()=>Object.prototype.hasOwnProperty.call(Oh,n)?Oh[n]:(o.getState().onError?.("009",Zt.error009(n)),null),[n])}const C2=({id:n,type:o,color:i,width:l=12.5,height:a=12.5,markerUnits:c="strokeWidth",strokeWidth:d,orient:h="auto-start-reverse"})=>{const p=E2(o);return p?m.jsx("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${l}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:h,refX:"0",refY:"0",children:m.jsx(p,{color:i,strokeWidth:d})}):null},w0=({defaultColor:n,rfId:o})=>{const i=Ee(c=>c.edges),l=Ee(c=>c.defaultEdgeOptions),a=Y.useMemo(()=>b1(i,{id:o,defaultColor:n,defaultMarkerStart:l?.markerStart,defaultMarkerEnd:l?.markerEnd}),[i,l,o,n]);return a.length?m.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:m.jsx("defs",{children:a.map(c=>m.jsx(C2,{id:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,strokeWidth:c.strokeWidth,orient:c.orient},c.id))})}):null};w0.displayName="MarkerDefinitions";var M2=Y.memo(w0);function S0({x:n,y:o,label:i,labelStyle:l,labelShowBg:a=!0,labelBgStyle:c,labelBgPadding:d=[2,4],labelBgBorderRadius:h=2,children:p,className:g,...y}){const[v,x]=Y.useState({x:1,y:0,width:0,height:0}),k=Ue(["react-flow__edge-textwrapper",g]),_=Y.useRef(null);return Y.useEffect(()=>{if(_.current){const b=_.current.getBBox();x({x:b.x,y:b.y,width:b.width,height:b.height})}},[i]),i?m.jsxs("g",{transform:`translate(${n-v.width/2} ${o-v.height/2})`,className:k,visibility:v.width?"visible":"hidden",...y,children:[a&&m.jsx("rect",{width:v.width+2*d[0],x:-d[0],y:-d[1],height:v.height+2*d[1],className:"react-flow__edge-textbg",style:c,rx:h,ry:h}),m.jsx("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:_,style:l,children:i}),p]}):null}S0.displayName="EdgeText";const b2=Y.memo(S0);function wl({path:n,labelX:o,labelY:i,label:l,labelStyle:a,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,interactionWidth:g=20,...y}){return m.jsxs(m.Fragment,{children:[m.jsx("path",{...y,d:n,fill:"none",className:Ue(["react-flow__edge-path",y.className])}),g?m.jsx("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}):null,l&&Ot(o)&&Ot(i)?m.jsx(b2,{x:o,y:i,label:l,labelStyle:a,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p}):null]})}function Hh({pos:n,x1:o,y1:i,x2:l,y2:a}){return n===pe.Left||n===pe.Right?[.5*(o+l),i]:[o,.5*(i+a)]}function k0({sourceX:n,sourceY:o,sourcePosition:i=pe.Bottom,targetX:l,targetY:a,targetPosition:c=pe.Top}){const[d,h]=Hh({pos:i,x1:n,y1:o,x2:l,y2:a}),[p,g]=Hh({pos:c,x1:l,y1:a,x2:n,y2:o}),[y,v,x,k]=Wp({sourceX:n,sourceY:o,targetX:l,targetY:a,sourceControlX:d,sourceControlY:h,targetControlX:p,targetControlY:g});return[`M${n},${o} C${d},${h} ${p},${g} ${l},${a}`,y,v,x,k]}function _0(n){return Y.memo(({id:o,sourceX:i,sourceY:l,targetX:a,targetY:c,sourcePosition:d,targetPosition:h,label:p,labelStyle:g,labelShowBg:y,labelBgStyle:v,labelBgPadding:x,labelBgBorderRadius:k,style:_,markerEnd:b,markerStart:C,interactionWidth:N})=>{const[T,S,M]=k0({sourceX:i,sourceY:l,sourcePosition:d,targetX:a,targetY:c,targetPosition:h}),O=n.isInternal?void 0:o;return m.jsx(wl,{id:O,path:T,labelX:S,labelY:M,label:p,labelStyle:g,labelShowBg:y,labelBgStyle:v,labelBgPadding:x,labelBgBorderRadius:k,style:_,markerEnd:b,markerStart:C,interactionWidth:N})})}const j2=_0({isInternal:!1}),N0=_0({isInternal:!0});j2.displayName="SimpleBezierEdge";N0.displayName="SimpleBezierEdgeInternal";function E0(n){return Y.memo(({id:o,sourceX:i,sourceY:l,targetX:a,targetY:c,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:v,style:x,sourcePosition:k=pe.Bottom,targetPosition:_=pe.Top,markerEnd:b,markerStart:C,pathOptions:N,interactionWidth:T})=>{const[S,M,O]=Fu({sourceX:i,sourceY:l,sourcePosition:k,targetX:a,targetY:c,targetPosition:_,borderRadius:N?.borderRadius,offset:N?.offset,stepPosition:N?.stepPosition}),D=n.isInternal?void 0:o;return m.jsx(wl,{id:D,path:S,labelX:M,labelY:O,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:v,style:x,markerEnd:b,markerStart:C,interactionWidth:T})})}const C0=E0({isInternal:!1}),M0=E0({isInternal:!0});C0.displayName="SmoothStepEdge";M0.displayName="SmoothStepEdgeInternal";function b0(n){return Y.memo(({id:o,...i})=>{const l=n.isInternal?void 0:o;return m.jsx(C0,{...i,id:l,pathOptions:Y.useMemo(()=>({borderRadius:0,offset:i.pathOptions?.offset}),[i.pathOptions?.offset])})})}const P2=b0({isInternal:!1}),j0=b0({isInternal:!0});P2.displayName="StepEdge";j0.displayName="StepEdgeInternal";function P0(n){return Y.memo(({id:o,sourceX:i,sourceY:l,targetX:a,targetY:c,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:v,style:x,markerEnd:k,markerStart:_,interactionWidth:b})=>{const[C,N,T]=Xp({sourceX:i,sourceY:l,targetX:a,targetY:c}),S=n.isInternal?void 0:o;return m.jsx(wl,{id:S,path:C,labelX:N,labelY:T,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:v,style:x,markerEnd:k,markerStart:_,interactionWidth:b})})}const T2=P0({isInternal:!1}),T0=P0({isInternal:!0});T2.displayName="StraightEdge";T0.displayName="StraightEdgeInternal";function z0(n){return Y.memo(({id:o,sourceX:i,sourceY:l,targetX:a,targetY:c,sourcePosition:d=pe.Bottom,targetPosition:h=pe.Top,label:p,labelStyle:g,labelShowBg:y,labelBgStyle:v,labelBgPadding:x,labelBgBorderRadius:k,style:_,markerEnd:b,markerStart:C,pathOptions:N,interactionWidth:T})=>{const[S,M,O]=Up({sourceX:i,sourceY:l,sourcePosition:d,targetX:a,targetY:c,targetPosition:h,curvature:N?.curvature}),D=n.isInternal?void 0:o;return m.jsx(wl,{id:D,path:S,labelX:M,labelY:O,label:p,labelStyle:g,labelShowBg:y,labelBgStyle:v,labelBgPadding:x,labelBgBorderRadius:k,style:_,markerEnd:b,markerStart:C,interactionWidth:T})})}const z2=z0({isInternal:!1}),I0=z0({isInternal:!0});z2.displayName="BezierEdge";I0.displayName="BezierEdgeInternal";const Fh={default:I0,straight:T0,step:j0,smoothstep:M0,simplebezier:N0},Bh={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},I2=(n,o,i)=>i===pe.Left?n-o:i===pe.Right?n+o:n,L2=(n,o,i)=>i===pe.Top?n-o:i===pe.Bottom?n+o:n,Vh="react-flow__edgeupdater";function Wh({position:n,centerX:o,centerY:i,radius:l=10,onMouseDown:a,onMouseEnter:c,onMouseOut:d,type:h}){return m.jsx("circle",{onMouseDown:a,onMouseEnter:c,onMouseOut:d,className:Ue([Vh,`${Vh}-${h}`]),cx:I2(o,l,n),cy:L2(i,l,n),r:l,stroke:"transparent",fill:"transparent"})}function D2({isReconnectable:n,reconnectRadius:o,edge:i,sourceX:l,sourceY:a,targetX:c,targetY:d,sourcePosition:h,targetPosition:p,onReconnect:g,onReconnectStart:y,onReconnectEnd:v,setReconnecting:x,setUpdateHover:k}){const _=Ae(),b=(M,O)=>{if(M.button!==0)return;const{autoPanOnConnect:D,domNode:H,isValidConnection:Q,connectionMode:G,connectionRadius:ie,lib:X,onConnectStart:q,onConnectEnd:K,cancelConnection:P,nodeLookup:F,rfId:A,panBy:B,updateConnection:z}=_.getState(),$=O.type==="target",V=(J,te)=>{x(!1),v?.(J,i,O.type,te)},E=J=>g?.(i,J),L=(J,te)=>{x(!0),y?.(M,i,O.type),q?.(J,te)};Wu.onPointerDown(M.nativeEvent,{autoPanOnConnect:D,connectionMode:G,connectionRadius:ie,domNode:H,handleId:O.id,nodeId:O.nodeId,nodeLookup:F,isTarget:$,edgeUpdaterType:O.type,lib:X,flowId:A,cancelConnection:P,panBy:B,isValidConnection:Q,onConnect:E,onConnectStart:L,onConnectEnd:K,onReconnectEnd:V,updateConnection:z,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,dragThreshold:_.getState().connectionDragThreshold,handleDomNode:M.currentTarget})},C=M=>b(M,{nodeId:i.target,id:i.targetHandle??null,type:"target"}),N=M=>b(M,{nodeId:i.source,id:i.sourceHandle??null,type:"source"}),T=()=>k(!0),S=()=>k(!1);return m.jsxs(m.Fragment,{children:[(n===!0||n==="source")&&m.jsx(Wh,{position:h,centerX:l,centerY:a,radius:o,onMouseDown:C,onMouseEnter:T,onMouseOut:S,type:"source"}),(n===!0||n==="target")&&m.jsx(Wh,{position:p,centerX:c,centerY:d,radius:o,onMouseDown:N,onMouseEnter:T,onMouseOut:S,type:"target"})]})}function R2({id:n,edgesFocusable:o,edgesReconnectable:i,elementsSelectable:l,onClick:a,onDoubleClick:c,onContextMenu:d,onMouseEnter:h,onMouseMove:p,onMouseLeave:g,reconnectRadius:y,onReconnect:v,onReconnectStart:x,onReconnectEnd:k,rfId:_,edgeTypes:b,noPanClassName:C,onError:N,disableKeyboardA11y:T}){let S=Ee(xe=>xe.edgeLookup.get(n));const M=Ee(xe=>xe.defaultEdgeOptions);S=M?{...M,...S}:S;let O=S.type||"default",D=b?.[O]||Fh[O];D===void 0&&(N?.("011",Zt.error011(O)),O="default",D=b?.default||Fh.default);const H=!!(S.focusable||o&&typeof S.focusable>"u"),Q=typeof v<"u"&&(S.reconnectable||i&&typeof S.reconnectable>"u"),G=!!(S.selectable||l&&typeof S.selectable>"u"),ie=Y.useRef(null),[X,q]=Y.useState(!1),[K,P]=Y.useState(!1),F=Ae(),{zIndex:A,sourceX:B,sourceY:z,targetX:$,targetY:V,sourcePosition:E,targetPosition:L}=Ee(Y.useCallback(xe=>{const Se=xe.nodeLookup.get(S.source),Me=xe.nodeLookup.get(S.target);if(!Se||!Me)return{zIndex:S.zIndex,...Bh};const Te=M1({id:n,sourceNode:Se,targetNode:Me,sourceHandle:S.sourceHandle||null,targetHandle:S.targetHandle||null,connectionMode:xe.connectionMode,onError:N});return{zIndex:w1({selected:S.selected,zIndex:S.zIndex,sourceNode:Se,targetNode:Me,elevateOnSelect:xe.elevateEdgesOnSelect,zIndexMode:xe.zIndexMode}),...Te||Bh}},[S.source,S.target,S.sourceHandle,S.targetHandle,S.selected,S.zIndex]),Re),J=Y.useMemo(()=>S.markerStart?`url('#${Bu(S.markerStart,_)}')`:void 0,[S.markerStart,_]),te=Y.useMemo(()=>S.markerEnd?`url('#${Bu(S.markerEnd,_)}')`:void 0,[S.markerEnd,_]);if(S.hidden||B===null||z===null||$===null||V===null)return null;const le=xe=>{const{addSelectedEdges:Se,unselectNodesAndEdges:Me,multiSelectionActive:Te}=F.getState();G&&(F.setState({nodesSelectionActive:!1}),S.selected&&Te?(Me({nodes:[],edges:[S]}),ie.current?.blur()):Se([n])),a&&a(xe,S)},ce=c?xe=>{c(xe,{...S})}:void 0,ue=d?xe=>{d(xe,{...S})}:void 0,ee=h?xe=>{h(xe,{...S})}:void 0,ae=p?xe=>{p(xe,{...S})}:void 0,we=g?xe=>{g(xe,{...S})}:void 0,_e=xe=>{if(!T&&Pp.includes(xe.key)&&G){const{unselectNodesAndEdges:Se,addSelectedEdges:Me}=F.getState();xe.key==="Escape"?(ie.current?.blur(),Se({edges:[S]})):Me([n])}};return m.jsx("svg",{style:{zIndex:A},children:m.jsxs("g",{className:Ue(["react-flow__edge",`react-flow__edge-${O}`,S.className,C,{selected:S.selected,animated:S.animated,inactive:!G&&!a,updating:X,selectable:G}]),onClick:le,onDoubleClick:ce,onContextMenu:ue,onMouseEnter:ee,onMouseMove:ae,onMouseLeave:we,onKeyDown:H?_e:void 0,tabIndex:H?0:void 0,role:S.ariaRole??(H?"group":"img"),"aria-roledescription":"edge","data-id":n,"data-testid":`rf__edge-${n}`,"aria-label":S.ariaLabel===null?void 0:S.ariaLabel||`Edge from ${S.source} to ${S.target}`,"aria-describedby":H?`${a0}-${_}`:void 0,ref:ie,...S.domAttributes,children:[!K&&m.jsx(D,{id:n,source:S.source,target:S.target,type:S.type,selected:S.selected,animated:S.animated,selectable:G,deletable:S.deletable??!0,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,sourceX:B,sourceY:z,targetX:$,targetY:V,sourcePosition:E,targetPosition:L,data:S.data,style:S.style,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerStart:J,markerEnd:te,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth}),Q&&m.jsx(D2,{edge:S,isReconnectable:Q,reconnectRadius:y,onReconnect:v,onReconnectStart:x,onReconnectEnd:k,sourceX:B,sourceY:z,targetX:$,targetY:V,sourcePosition:E,targetPosition:L,setUpdateHover:q,setReconnecting:P})]})})}var A2=Y.memo(R2);const $2=n=>({edgesFocusable:n.edgesFocusable,edgesReconnectable:n.edgesReconnectable,elementsSelectable:n.elementsSelectable,connectionMode:n.connectionMode,onError:n.onError});function L0({defaultMarkerColor:n,onlyRenderVisibleElements:o,rfId:i,edgeTypes:l,noPanClassName:a,onReconnect:c,onEdgeContextMenu:d,onEdgeMouseEnter:h,onEdgeMouseMove:p,onEdgeMouseLeave:g,onEdgeClick:y,reconnectRadius:v,onEdgeDoubleClick:x,onReconnectStart:k,onReconnectEnd:_,disableKeyboardA11y:b}){const{edgesFocusable:C,edgesReconnectable:N,elementsSelectable:T,onError:S}=Ee($2,Re),M=k2(o);return m.jsxs("div",{className:"react-flow__edges",children:[m.jsx(M2,{defaultColor:n,rfId:i}),M.map(O=>m.jsx(A2,{id:O,edgesFocusable:C,edgesReconnectable:N,elementsSelectable:T,noPanClassName:a,onReconnect:c,onContextMenu:d,onMouseEnter:h,onMouseMove:p,onMouseLeave:g,onClick:y,reconnectRadius:v,onDoubleClick:x,onReconnectStart:k,onReconnectEnd:_,rfId:i,onError:S,edgeTypes:l,disableKeyboardA11y:b},O))]})}L0.displayName="EdgeRenderer";const O2=Y.memo(L0),H2=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function F2({children:n}){const o=Ee(H2);return m.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:o},children:n})}function B2(n){const o=vl(),i=Y.useRef(!1);Y.useEffect(()=>{!i.current&&o.viewportInitialized&&n&&(setTimeout(()=>n(o),1),i.current=!0)},[n,o.viewportInitialized])}const V2=n=>n.panZoom?.syncViewport;function W2(n){const o=Ee(V2),i=Ae();return Y.useEffect(()=>{n&&(o?.(n),i.setState({transform:[n.x,n.y,n.zoom]}))},[n,o]),null}function U2(n){return n.connection.inProgress?{...n.connection,to:yi(n.connection.to,n.transform)}:{...n.connection}}function Y2(n){return U2}function X2(n){const o=Y2();return Ee(o,Re)}const Q2=n=>({nodesConnectable:n.nodesConnectable,isValid:n.connection.isValid,inProgress:n.connection.inProgress,width:n.width,height:n.height});function Z2({containerStyle:n,style:o,type:i,component:l}){const{nodesConnectable:a,width:c,height:d,isValid:h,inProgress:p}=Ee(Q2,Re);return!(c&&a&&p)?null:m.jsx("svg",{style:n,width:c,height:d,className:"react-flow__connectionline react-flow__container",children:m.jsx("g",{className:Ue(["react-flow__connection",Ip(h)]),children:m.jsx(D0,{style:o,type:i,CustomComponent:l,isValid:h})})})}const D0=({style:n,type:o=Hn.Bezier,CustomComponent:i,isValid:l})=>{const{inProgress:a,from:c,fromNode:d,fromHandle:h,fromPosition:p,to:g,toNode:y,toHandle:v,toPosition:x,pointer:k}=X2();if(!a)return;if(i)return m.jsx(i,{connectionLineType:o,connectionLineStyle:n,fromNode:d,fromHandle:h,fromX:c.x,fromY:c.y,toX:g.x,toY:g.y,fromPosition:p,toPosition:x,connectionStatus:Ip(l),toNode:y,toHandle:v,pointer:k});let _="";const b={sourceX:c.x,sourceY:c.y,sourcePosition:p,targetX:g.x,targetY:g.y,targetPosition:x};switch(o){case Hn.Bezier:[_]=Up(b);break;case Hn.SimpleBezier:[_]=k0(b);break;case Hn.Step:[_]=Fu({...b,borderRadius:0});break;case Hn.SmoothStep:[_]=Fu(b);break;default:[_]=Xp(b)}return m.jsx("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};D0.displayName="ConnectionLine";const K2={};function Uh(n=K2){Y.useRef(n),Ae(),Y.useEffect(()=>{},[n])}function G2(){Ae(),Y.useRef(!1),Y.useEffect(()=>{},[])}function R0({nodeTypes:n,edgeTypes:o,onInit:i,onNodeClick:l,onEdgeClick:a,onNodeDoubleClick:c,onEdgeDoubleClick:d,onNodeMouseEnter:h,onNodeMouseMove:p,onNodeMouseLeave:g,onNodeContextMenu:y,onSelectionContextMenu:v,onSelectionStart:x,onSelectionEnd:k,connectionLineType:_,connectionLineStyle:b,connectionLineComponent:C,connectionLineContainerStyle:N,selectionKeyCode:T,selectionOnDrag:S,selectionMode:M,multiSelectionKeyCode:O,panActivationKeyCode:D,zoomActivationKeyCode:H,deleteKeyCode:Q,onlyRenderVisibleElements:G,elementsSelectable:ie,defaultViewport:X,translateExtent:q,minZoom:K,maxZoom:P,preventScrolling:F,defaultMarkerColor:A,zoomOnScroll:B,zoomOnPinch:z,panOnScroll:$,panOnScrollSpeed:V,panOnScrollMode:E,zoomOnDoubleClick:L,panOnDrag:J,onPaneClick:te,onPaneMouseEnter:le,onPaneMouseMove:ce,onPaneMouseLeave:ue,onPaneScroll:ee,onPaneContextMenu:ae,paneClickDistance:we,nodeClickDistance:_e,onEdgeContextMenu:xe,onEdgeMouseEnter:Se,onEdgeMouseMove:Me,onEdgeMouseLeave:Te,reconnectRadius:Pe,onReconnect:Ve,onReconnectStart:Pt,onReconnectEnd:ht,noDragClassName:pt,noWheelClassName:kt,noPanClassName:Gt,disableKeyboardA11y:gn,nodeExtent:gr,rfId:Fn,viewport:qt,onViewportChange:Jt}){return Uh(n),Uh(o),G2(),B2(i),W2(qt),m.jsx(f2,{onPaneClick:te,onPaneMouseEnter:le,onPaneMouseMove:ce,onPaneMouseLeave:ue,onPaneContextMenu:ae,onPaneScroll:ee,paneClickDistance:we,deleteKeyCode:Q,selectionKeyCode:T,selectionOnDrag:S,selectionMode:M,onSelectionStart:x,onSelectionEnd:k,multiSelectionKeyCode:O,panActivationKeyCode:D,zoomActivationKeyCode:H,elementsSelectable:ie,zoomOnScroll:B,zoomOnPinch:z,zoomOnDoubleClick:L,panOnScroll:$,panOnScrollSpeed:V,panOnScrollMode:E,panOnDrag:J,defaultViewport:X,translateExtent:q,minZoom:K,maxZoom:P,onSelectionContextMenu:v,preventScrolling:F,noDragClassName:pt,noWheelClassName:kt,noPanClassName:Gt,disableKeyboardA11y:gn,onViewportChange:Jt,isControlledViewport:!!qt,children:m.jsxs(F2,{children:[m.jsx(O2,{edgeTypes:o,onEdgeClick:a,onEdgeDoubleClick:d,onReconnect:Ve,onReconnectStart:Pt,onReconnectEnd:ht,onlyRenderVisibleElements:G,onEdgeContextMenu:xe,onEdgeMouseEnter:Se,onEdgeMouseMove:Me,onEdgeMouseLeave:Te,reconnectRadius:Pe,defaultMarkerColor:A,noPanClassName:Gt,disableKeyboardA11y:gn,rfId:Fn}),m.jsx(Z2,{style:b,type:_,component:C,containerStyle:N}),m.jsx("div",{className:"react-flow__edgelabel-renderer"}),m.jsx(S2,{nodeTypes:n,onNodeClick:l,onNodeDoubleClick:c,onNodeMouseEnter:h,onNodeMouseMove:p,onNodeMouseLeave:g,onNodeContextMenu:y,nodeClickDistance:_e,onlyRenderVisibleElements:G,noPanClassName:Gt,noDragClassName:pt,disableKeyboardA11y:gn,nodeExtent:gr,rfId:Fn}),m.jsx("div",{className:"react-flow__viewport-portal"})]})})}R0.displayName="GraphView";const q2=Y.memo(R0),Yh=({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,width:a,height:c,fitView:d,fitViewOptions:h,minZoom:p=.5,maxZoom:g=2,nodeOrigin:y,nodeExtent:v,zIndexMode:x="basic"}={})=>{const k=new Map,_=new Map,b=new Map,C=new Map,N=l??o??[],T=i??n??[],S=y??[0,0],M=v??si;Kp(b,C,N);const O=Vu(T,k,_,{nodeOrigin:S,nodeExtent:M,zIndexMode:x});let D=[0,0,1];if(d&&a&&c){const H=gi(k,{filter:X=>!!((X.width||X.initialWidth)&&(X.height||X.initialHeight))}),{x:Q,y:G,zoom:ie}=tc(H,a,c,p,g,h?.padding??.1);D=[Q,G,ie]}return{rfId:"1",width:a??0,height:c??0,transform:D,nodes:T,nodesInitialized:O,nodeLookup:k,parentLookup:_,edges:N,edgeLookup:C,connectionLookup:b,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:i!==void 0,hasDefaultEdges:l!==void 0,panZoom:null,minZoom:p,maxZoom:g,translateExtent:si,nodeExtent:M,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Jr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:S,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:d??!1,fitViewOptions:h,fitViewResolver:null,connection:{...zp},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:p1,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Tp,zIndexMode:x,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},J2=({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,width:a,height:c,fitView:d,fitViewOptions:h,minZoom:p,maxZoom:g,nodeOrigin:y,nodeExtent:v,zIndexMode:x})=>yw((k,_)=>{async function b(){const{nodeLookup:C,panZoom:N,fitViewOptions:T,fitViewResolver:S,width:M,height:O,minZoom:D,maxZoom:H}=_();N&&(await f1({nodes:C,width:M,height:O,panZoom:N,minZoom:D,maxZoom:H},T),S?.resolve(!0),k({fitViewResolver:null}))}return{...Yh({nodes:n,edges:o,width:a,height:c,fitView:d,fitViewOptions:h,minZoom:p,maxZoom:g,nodeOrigin:y,nodeExtent:v,defaultNodes:i,defaultEdges:l,zIndexMode:x}),setNodes:C=>{const{nodeLookup:N,parentLookup:T,nodeOrigin:S,elevateNodesOnSelect:M,fitViewQueued:O,zIndexMode:D}=_(),H=Vu(C,N,T,{nodeOrigin:S,nodeExtent:v,elevateNodesOnSelect:M,checkEquality:!0,zIndexMode:D});O&&H?(b(),k({nodes:C,nodesInitialized:H,fitViewQueued:!1,fitViewOptions:void 0})):k({nodes:C,nodesInitialized:H})},setEdges:C=>{const{connectionLookup:N,edgeLookup:T}=_();Kp(N,T,C),k({edges:C})},setDefaultNodesAndEdges:(C,N)=>{if(C){const{setNodes:T}=_();T(C),k({hasDefaultNodes:!0})}if(N){const{setEdges:T}=_();T(N),k({hasDefaultEdges:!0})}},updateNodeInternals:C=>{const{triggerNodeChanges:N,nodeLookup:T,parentLookup:S,domNode:M,nodeOrigin:O,nodeExtent:D,debug:H,fitViewQueued:Q,zIndexMode:G}=_(),{changes:ie,updatedInternals:X}=D1(C,T,S,M,O,D,G);X&&(T1(T,S,{nodeOrigin:O,nodeExtent:D,zIndexMode:G}),Q?(b(),k({fitViewQueued:!1,fitViewOptions:void 0})):k({}),ie?.length>0&&(H&&console.log("React Flow: trigger node changes",ie),N?.(ie)))},updateNodePositions:(C,N=!1)=>{const T=[];let S=[];const{nodeLookup:M,triggerNodeChanges:O,connection:D,updateConnection:H,onNodesChangeMiddlewareMap:Q}=_();for(const[G,ie]of C){const X=M.get(G),q=!!(X?.expandParent&&X?.parentId&&ie?.position),K={id:G,type:"position",position:q?{x:Math.max(0,ie.position.x),y:Math.max(0,ie.position.y)}:ie.position,dragging:N};if(X&&D.inProgress&&D.fromNode.id===X.id){const P=pr(X,D.fromHandle,pe.Left,!0);H({...D,from:P})}q&&X.parentId&&T.push({id:G,parentId:X.parentId,rect:{...ie.internals.positionAbsolute,width:ie.measured.width??0,height:ie.measured.height??0}}),S.push(K)}if(T.length>0){const{parentLookup:G,nodeOrigin:ie}=_(),X=lc(T,M,G,ie);S.push(...X)}for(const G of Q.values())S=G(S);O(S)},triggerNodeChanges:C=>{const{onNodesChange:N,setNodes:T,nodes:S,hasDefaultNodes:M,debug:O}=_();if(C?.length){if(M){const D=d0(C,S);T(D)}O&&console.log("React Flow: trigger node changes",C),N?.(C)}},triggerEdgeChanges:C=>{const{onEdgesChange:N,setEdges:T,edges:S,hasDefaultEdges:M,debug:O}=_();if(C?.length){if(M){const D=f0(C,S);T(D)}O&&console.log("React Flow: trigger edge changes",C),N?.(C)}},addSelectedNodes:C=>{const{multiSelectionActive:N,edgeLookup:T,nodeLookup:S,triggerNodeChanges:M,triggerEdgeChanges:O}=_();if(N){const D=C.map(H=>lr(H,!0));M(D);return}M(Qr(S,new Set([...C]),!0)),O(Qr(T))},addSelectedEdges:C=>{const{multiSelectionActive:N,edgeLookup:T,nodeLookup:S,triggerNodeChanges:M,triggerEdgeChanges:O}=_();if(N){const D=C.map(H=>lr(H,!0));O(D);return}O(Qr(T,new Set([...C]))),M(Qr(S,new Set,!0))},unselectNodesAndEdges:({nodes:C,edges:N}={})=>{const{edges:T,nodes:S,nodeLookup:M,triggerNodeChanges:O,triggerEdgeChanges:D}=_(),H=C||S,Q=N||T,G=H.map(X=>{const q=M.get(X.id);return q&&(q.selected=!1),lr(X.id,!1)}),ie=Q.map(X=>lr(X.id,!1));O(G),D(ie)},setMinZoom:C=>{const{panZoom:N,maxZoom:T}=_();N?.setScaleExtent([C,T]),k({minZoom:C})},setMaxZoom:C=>{const{panZoom:N,minZoom:T}=_();N?.setScaleExtent([T,C]),k({maxZoom:C})},setTranslateExtent:C=>{_().panZoom?.setTranslateExtent(C),k({translateExtent:C})},resetSelectedElements:()=>{const{edges:C,nodes:N,triggerNodeChanges:T,triggerEdgeChanges:S,elementsSelectable:M}=_();if(!M)return;const O=N.reduce((H,Q)=>Q.selected?[...H,lr(Q.id,!1)]:H,[]),D=C.reduce((H,Q)=>Q.selected?[...H,lr(Q.id,!1)]:H,[]);T(O),S(D)},setNodeExtent:C=>{const{nodes:N,nodeLookup:T,parentLookup:S,nodeOrigin:M,elevateNodesOnSelect:O,nodeExtent:D,zIndexMode:H}=_();C[0][0]===D[0][0]&&C[0][1]===D[0][1]&&C[1][0]===D[1][0]&&C[1][1]===D[1][1]||(Vu(N,T,S,{nodeOrigin:M,nodeExtent:C,elevateNodesOnSelect:O,checkEquality:!1,zIndexMode:H}),k({nodeExtent:C}))},panBy:C=>{const{transform:N,width:T,height:S,panZoom:M,translateExtent:O}=_();return R1({delta:C,panZoom:M,transform:N,translateExtent:O,width:T,height:S})},setCenter:async(C,N,T)=>{const{width:S,height:M,maxZoom:O,panZoom:D}=_();if(!D)return Promise.resolve(!1);const H=typeof T?.zoom<"u"?T.zoom:O;return await D.setViewport({x:S/2-C*H,y:M/2-N*H,zoom:H},{duration:T?.duration,ease:T?.ease,interpolate:T?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{k({connection:{...zp}})},updateConnection:C=>{k({connection:C})},reset:()=>k({...Yh()})}},Object.is);function A0({initialNodes:n,initialEdges:o,defaultNodes:i,defaultEdges:l,initialWidth:a,initialHeight:c,initialMinZoom:d,initialMaxZoom:h,initialFitViewOptions:p,fitView:g,nodeOrigin:y,nodeExtent:v,zIndexMode:x,children:k}){const[_]=Y.useState(()=>J2({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,width:a,height:c,fitView:g,minZoom:d,maxZoom:h,fitViewOptions:p,nodeOrigin:y,nodeExtent:v,zIndexMode:x}));return m.jsx(vw,{value:_,children:m.jsx(Fw,{children:k})})}function eS({children:n,nodes:o,edges:i,defaultNodes:l,defaultEdges:a,width:c,height:d,fitView:h,fitViewOptions:p,minZoom:g,maxZoom:y,nodeOrigin:v,nodeExtent:x,zIndexMode:k}){return Y.useContext(yl)?m.jsx(m.Fragment,{children:n}):m.jsx(A0,{initialNodes:o,initialEdges:i,defaultNodes:l,defaultEdges:a,initialWidth:c,initialHeight:d,fitView:h,initialFitViewOptions:p,initialMinZoom:g,initialMaxZoom:y,nodeOrigin:v,nodeExtent:x,zIndexMode:k,children:n})}const tS={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function nS({nodes:n,edges:o,defaultNodes:i,defaultEdges:l,className:a,nodeTypes:c,edgeTypes:d,onNodeClick:h,onEdgeClick:p,onInit:g,onMove:y,onMoveStart:v,onMoveEnd:x,onConnect:k,onConnectStart:_,onConnectEnd:b,onClickConnectStart:C,onClickConnectEnd:N,onNodeMouseEnter:T,onNodeMouseMove:S,onNodeMouseLeave:M,onNodeContextMenu:O,onNodeDoubleClick:D,onNodeDragStart:H,onNodeDrag:Q,onNodeDragStop:G,onNodesDelete:ie,onEdgesDelete:X,onDelete:q,onSelectionChange:K,onSelectionDragStart:P,onSelectionDrag:F,onSelectionDragStop:A,onSelectionContextMenu:B,onSelectionStart:z,onSelectionEnd:$,onBeforeDelete:V,connectionMode:E,connectionLineType:L=Hn.Bezier,connectionLineStyle:J,connectionLineComponent:te,connectionLineContainerStyle:le,deleteKeyCode:ce="Backspace",selectionKeyCode:ue="Shift",selectionOnDrag:ee=!1,selectionMode:ae=li.Full,panActivationKeyCode:we="Space",multiSelectionKeyCode:_e=ui()?"Meta":"Control",zoomActivationKeyCode:xe=ui()?"Meta":"Control",snapToGrid:Se,snapGrid:Me,onlyRenderVisibleElements:Te=!1,selectNodesOnDrag:Pe,nodesDraggable:Ve,autoPanOnNodeFocus:Pt,nodesConnectable:ht,nodesFocusable:pt,nodeOrigin:kt=u0,edgesFocusable:Gt,edgesReconnectable:gn,elementsSelectable:gr=!0,defaultViewport:Fn=Tw,minZoom:qt=.5,maxZoom:Jt=2,translateExtent:Bn=si,preventScrolling:xi=!0,nodeExtent:en,defaultMarkerColor:Vn="#b1b1b7",zoomOnScroll:Sl=!0,zoomOnPinch:wi=!0,panOnScroll:Si=!1,panOnScrollSpeed:kl=.5,panOnScrollMode:oo=cr.Free,zoomOnDoubleClick:io=!0,panOnDrag:so=!0,onPaneClick:lo,onPaneMouseEnter:ao,onPaneMouseMove:mn,onPaneMouseLeave:yn,onPaneScroll:ki,onPaneContextMenu:_i,paneClickDistance:Ni=1,nodeClickDistance:Ei=0,children:Ci,onReconnect:uo,onReconnectStart:Mi,onReconnectEnd:Wn,onEdgeContextMenu:co,onEdgeDoubleClick:Un,onEdgeMouseEnter:_l,onEdgeMouseMove:Yn,onEdgeMouseLeave:mr,reconnectRadius:yr=10,onNodesChange:fo,onEdgesChange:Nl,noDragClassName:El="nodrag",noWheelClassName:Cl="nowheel",noPanClassName:Bt="nopan",fitView:ho,fitViewOptions:po,connectOnClick:Ml,attributionPosition:bi,proOptions:ji,defaultEdgeOptions:Pi,elevateNodesOnSelect:Ti=!0,elevateEdgesOnSelect:bl=!1,disableKeyboardA11y:zi=!1,autoPanOnConnect:$e,autoPanOnNodeDrag:jl,autoPanSpeed:go,connectionRadius:Ii,isValidConnection:vr,onError:Pl,style:Li,id:Xn,nodeDragThreshold:_t,connectionDragThreshold:Tl,viewport:gt,onViewportChange:zl,width:Il,height:Ll,colorMode:xr="light",debug:wr,onScroll:vn,ariaLabelConfig:Sr,zIndexMode:Di="basic",...Dl},mo){const kr=Xn||"1",yo=Dw(xr),Qn=Y.useCallback(Ri=>{Ri.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),vn?.(Ri)},[vn]);return m.jsx("div",{"data-testid":"rf__wrapper",...Dl,onScroll:Qn,style:{...Li,...tS},ref:mo,className:Ue(["react-flow",a,yo]),id:Xn,role:"application",children:m.jsxs(eS,{nodes:n,edges:o,width:Il,height:Ll,fitView:ho,fitViewOptions:po,minZoom:qt,maxZoom:Jt,nodeOrigin:kt,nodeExtent:en,zIndexMode:Di,children:[m.jsx(q2,{onInit:g,onNodeClick:h,onEdgeClick:p,onNodeMouseEnter:T,onNodeMouseMove:S,onNodeMouseLeave:M,onNodeContextMenu:O,onNodeDoubleClick:D,nodeTypes:c,edgeTypes:d,connectionLineType:L,connectionLineStyle:J,connectionLineComponent:te,connectionLineContainerStyle:le,selectionKeyCode:ue,selectionOnDrag:ee,selectionMode:ae,deleteKeyCode:ce,multiSelectionKeyCode:_e,panActivationKeyCode:we,zoomActivationKeyCode:xe,onlyRenderVisibleElements:Te,defaultViewport:Fn,translateExtent:Bn,minZoom:qt,maxZoom:Jt,preventScrolling:xi,zoomOnScroll:Sl,zoomOnPinch:wi,zoomOnDoubleClick:io,panOnScroll:Si,panOnScrollSpeed:kl,panOnScrollMode:oo,panOnDrag:so,onPaneClick:lo,onPaneMouseEnter:ao,onPaneMouseMove:mn,onPaneMouseLeave:yn,onPaneScroll:ki,onPaneContextMenu:_i,paneClickDistance:Ni,nodeClickDistance:Ei,onSelectionContextMenu:B,onSelectionStart:z,onSelectionEnd:$,onReconnect:uo,onReconnectStart:Mi,onReconnectEnd:Wn,onEdgeContextMenu:co,onEdgeDoubleClick:Un,onEdgeMouseEnter:_l,onEdgeMouseMove:Yn,onEdgeMouseLeave:mr,reconnectRadius:yr,defaultMarkerColor:Vn,noDragClassName:El,noWheelClassName:Cl,noPanClassName:Bt,rfId:kr,disableKeyboardA11y:zi,nodeExtent:en,viewport:gt,onViewportChange:zl}),m.jsx(Lw,{nodes:n,edges:o,defaultNodes:i,defaultEdges:l,onConnect:k,onConnectStart:_,onConnectEnd:b,onClickConnectStart:C,onClickConnectEnd:N,nodesDraggable:Ve,autoPanOnNodeFocus:Pt,nodesConnectable:ht,nodesFocusable:pt,edgesFocusable:Gt,edgesReconnectable:gn,elementsSelectable:gr,elevateNodesOnSelect:Ti,elevateEdgesOnSelect:bl,minZoom:qt,maxZoom:Jt,nodeExtent:en,onNodesChange:fo,onEdgesChange:Nl,snapToGrid:Se,snapGrid:Me,connectionMode:E,translateExtent:Bn,connectOnClick:Ml,defaultEdgeOptions:Pi,fitView:ho,fitViewOptions:po,onNodesDelete:ie,onEdgesDelete:X,onDelete:q,onNodeDragStart:H,onNodeDrag:Q,onNodeDragStop:G,onSelectionDrag:F,onSelectionDragStart:P,onSelectionDragStop:A,onMove:y,onMoveStart:v,onMoveEnd:x,noPanClassName:Bt,nodeOrigin:kt,rfId:kr,autoPanOnConnect:$e,autoPanOnNodeDrag:jl,autoPanSpeed:go,onError:Pl,connectionRadius:Ii,isValidConnection:vr,selectNodesOnDrag:Pe,nodeDragThreshold:_t,connectionDragThreshold:Tl,onBeforeDelete:V,debug:wr,ariaLabelConfig:Sr,zIndexMode:Di}),m.jsx(Pw,{onSelectionChange:K}),Ci,m.jsx(Ew,{proOptions:ji,position:bi}),m.jsx(Nw,{rfId:kr,disableKeyboardA11y:zi})]})})}var rS=h0(nS);function oS(n){const[o,i]=Y.useState(n),l=Y.useCallback(a=>i(c=>d0(a,c)),[]);return[o,i,l]}function iS(n){const[o,i]=Y.useState(n),l=Y.useCallback(a=>i(c=>f0(a,c)),[]);return[o,i,l]}function sS({dimensions:n,lineWidth:o,variant:i,className:l}){return m.jsx("path",{strokeWidth:o,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`,className:Ue(["react-flow__background-pattern",i,l])})}function lS({radius:n,className:o}){return m.jsx("circle",{cx:n,cy:n,r:n,className:Ue(["react-flow__background-pattern","dots",o])})}var fn;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(fn||(fn={}));const aS={[fn.Dots]:1,[fn.Lines]:1,[fn.Cross]:6},uS=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function $0({id:n,variant:o=fn.Dots,gap:i=20,size:l,lineWidth:a=1,offset:c=0,color:d,bgColor:h,style:p,className:g,patternClassName:y}){const v=Y.useRef(null),{transform:x,patternId:k}=Ee(uS,Re),_=l||aS[o],b=o===fn.Dots,C=o===fn.Cross,N=Array.isArray(i)?i:[i,i],T=[N[0]*x[2]||1,N[1]*x[2]||1],S=_*x[2],M=Array.isArray(c)?c:[c,c],O=C?[S,S]:T,D=[M[0]*x[2]||1+O[0]/2,M[1]*x[2]||1+O[1]/2],H=`${k}${n||""}`;return m.jsxs("svg",{className:Ue(["react-flow__background",g]),style:{...p,...xl,"--xy-background-color-props":h,"--xy-background-pattern-color-props":d},ref:v,"data-testid":"rf__background",children:[m.jsx("pattern",{id:H,x:x[0]%T[0],y:x[1]%T[1],width:T[0],height:T[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${D[0]},-${D[1]})`,children:b?m.jsx(lS,{radius:S/2,className:y}):m.jsx(sS,{dimensions:O,lineWidth:a,variant:o,className:y})}),m.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${H})`})]})}$0.displayName="Background";const cS=Y.memo($0);function dS(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:m.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function fS(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:m.jsx("path",{d:"M0 0h32v4.2H0z"})})}function hS(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:m.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function pS(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function gS(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ys({children:n,className:o,...i}){return m.jsx("button",{type:"button",className:Ue(["react-flow__controls-button",o]),...i,children:n})}const mS=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom,ariaLabelConfig:n.ariaLabelConfig});function O0({style:n,showZoom:o=!0,showFitView:i=!0,showInteractive:l=!0,fitViewOptions:a,onZoomIn:c,onZoomOut:d,onFitView:h,onInteractiveChange:p,className:g,children:y,position:v="bottom-left",orientation:x="vertical","aria-label":k}){const _=Ae(),{isInteractive:b,minZoomReached:C,maxZoomReached:N,ariaLabelConfig:T}=Ee(mS,Re),{zoomIn:S,zoomOut:M,fitView:O}=vl(),D=()=>{S(),c?.()},H=()=>{M(),d?.()},Q=()=>{O(a),h?.()},G=()=>{_.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),p?.(!b)},ie=x==="horizontal"?"horizontal":"vertical";return m.jsxs(vi,{className:Ue(["react-flow__controls",ie,g]),position:v,style:n,"data-testid":"rf__controls","aria-label":k??T["controls.ariaLabel"],children:[o&&m.jsxs(m.Fragment,{children:[m.jsx(Ys,{onClick:D,className:"react-flow__controls-zoomin",title:T["controls.zoomIn.ariaLabel"],"aria-label":T["controls.zoomIn.ariaLabel"],disabled:N,children:m.jsx(dS,{})}),m.jsx(Ys,{onClick:H,className:"react-flow__controls-zoomout",title:T["controls.zoomOut.ariaLabel"],"aria-label":T["controls.zoomOut.ariaLabel"],disabled:C,children:m.jsx(fS,{})})]}),i&&m.jsx(Ys,{className:"react-flow__controls-fitview",onClick:Q,title:T["controls.fitView.ariaLabel"],"aria-label":T["controls.fitView.ariaLabel"],children:m.jsx(hS,{})}),l&&m.jsx(Ys,{className:"react-flow__controls-interactive",onClick:G,title:T["controls.interactive.ariaLabel"],"aria-label":T["controls.interactive.ariaLabel"],children:b?m.jsx(gS,{}):m.jsx(pS,{})}),y]})}O0.displayName="Controls";const yS=Y.memo(O0);function vS({id:n,x:o,y:i,width:l,height:a,style:c,color:d,strokeColor:h,strokeWidth:p,className:g,borderRadius:y,shapeRendering:v,selected:x,onClick:k}){const{background:_,backgroundColor:b}=c||{},C=d||_||b;return m.jsx("rect",{className:Ue(["react-flow__minimap-node",{selected:x},g]),x:o,y:i,rx:y,ry:y,width:l,height:a,style:{fill:C,stroke:h,strokeWidth:p},shapeRendering:v,onClick:k?N=>k(N,n):void 0})}const xS=Y.memo(vS),wS=n=>n.nodes.map(o=>o.id),Pu=n=>n instanceof Function?n:()=>n;function SS({nodeStrokeColor:n,nodeColor:o,nodeClassName:i="",nodeBorderRadius:l=5,nodeStrokeWidth:a,nodeComponent:c=xS,onClick:d}){const h=Ee(wS,Re),p=Pu(o),g=Pu(n),y=Pu(i),v=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return m.jsx(m.Fragment,{children:h.map(x=>m.jsx(_S,{id:x,nodeColorFunc:p,nodeStrokeColorFunc:g,nodeClassNameFunc:y,nodeBorderRadius:l,nodeStrokeWidth:a,NodeComponent:c,onClick:d,shapeRendering:v},x))})}function kS({id:n,nodeColorFunc:o,nodeStrokeColorFunc:i,nodeClassNameFunc:l,nodeBorderRadius:a,nodeStrokeWidth:c,shapeRendering:d,NodeComponent:h,onClick:p}){const{node:g,x:y,y:v,width:x,height:k}=Ee(_=>{const{internals:b}=_.nodeLookup.get(n),C=b.userNode,{x:N,y:T}=b.positionAbsolute,{width:S,height:M}=pn(C);return{node:C,x:N,y:T,width:S,height:M}},Re);return!g||g.hidden||!Op(g)?null:m.jsx(h,{x:y,y:v,width:x,height:k,style:g.style,selected:!!g.selected,className:l(g),color:o(g),borderRadius:a,strokeColor:i(g),strokeWidth:c,shapeRendering:d,onClick:p,id:g.id})}const _S=Y.memo(kS);var NS=Y.memo(SS);const ES=200,CS=150,MS=n=>!n.hidden,bS=n=>{const o={x:-n.transform[0]/n.transform[2],y:-n.transform[1]/n.transform[2],width:n.width/n.transform[2],height:n.height/n.transform[2]};return{viewBB:o,boundingRect:n.nodeLookup.size>0?$p(gi(n.nodeLookup,{filter:MS}),o):o,rfId:n.rfId,panZoom:n.panZoom,translateExtent:n.translateExtent,flowWidth:n.width,flowHeight:n.height,ariaLabelConfig:n.ariaLabelConfig}},jS="react-flow__minimap-desc";function H0({style:n,className:o,nodeStrokeColor:i,nodeColor:l,nodeClassName:a="",nodeBorderRadius:c=5,nodeStrokeWidth:d,nodeComponent:h,bgColor:p,maskColor:g,maskStrokeColor:y,maskStrokeWidth:v,position:x="bottom-right",onClick:k,onNodeClick:_,pannable:b=!1,zoomable:C=!1,ariaLabel:N,inversePan:T,zoomStep:S=1,offsetScale:M=5}){const O=Ae(),D=Y.useRef(null),{boundingRect:H,viewBB:Q,rfId:G,panZoom:ie,translateExtent:X,flowWidth:q,flowHeight:K,ariaLabelConfig:P}=Ee(bS,Re),F=n?.width??ES,A=n?.height??CS,B=H.width/F,z=H.height/A,$=Math.max(B,z),V=$*F,E=$*A,L=M*$,J=H.x-(V-H.width)/2-L,te=H.y-(E-H.height)/2-L,le=V+L*2,ce=E+L*2,ue=`${jS}-${G}`,ee=Y.useRef(0),ae=Y.useRef();ee.current=$,Y.useEffect(()=>{if(D.current&&ie)return ae.current=U1({domNode:D.current,panZoom:ie,getTransform:()=>O.getState().transform,getViewScale:()=>ee.current}),()=>{ae.current?.destroy()}},[ie]),Y.useEffect(()=>{ae.current?.update({translateExtent:X,width:q,height:K,inversePan:T,pannable:b,zoomStep:S,zoomable:C})},[b,C,T,S,X,q,K]);const we=k?Se=>{const[Me,Te]=ae.current?.pointer(Se)||[0,0];k(Se,{x:Me,y:Te})}:void 0,_e=_?Y.useCallback((Se,Me)=>{const Te=O.getState().nodeLookup.get(Me).internals.userNode;_(Se,Te)},[]):void 0,xe=N??P["minimap.ariaLabel"];return m.jsx(vi,{position:x,style:{...n,"--xy-minimap-background-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-background-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-color-props":typeof y=="string"?y:void 0,"--xy-minimap-mask-stroke-width-props":typeof v=="number"?v*$:void 0,"--xy-minimap-node-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-node-stroke-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-width-props":typeof d=="number"?d:void 0},className:Ue(["react-flow__minimap",o]),"data-testid":"rf__minimap",children:m.jsxs("svg",{width:F,height:A,viewBox:`${J} ${te} ${le} ${ce}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ue,ref:D,onClick:we,children:[xe&&m.jsx("title",{id:ue,children:xe}),m.jsx(NS,{onClick:_e,nodeColor:l,nodeStrokeColor:i,nodeBorderRadius:c,nodeClassName:a,nodeStrokeWidth:d,nodeComponent:h}),m.jsx("path",{className:"react-flow__minimap-mask",d:`M${J-L},${te-L}h${le+L*2}v${ce+L*2}h${-le-L*2}z
        M${Q.x},${Q.y}h${Q.width}v${Q.height}h${-Q.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}H0.displayName="MiniMap";const PS=Y.memo(H0),TS=n=>o=>n?`${Math.max(1/o.transform[2],1)}`:void 0,zS={[ro.Line]:"right",[ro.Handle]:"bottom-right"};function IS({nodeId:n,position:o,variant:i=ro.Handle,className:l,style:a=void 0,children:c,color:d,minWidth:h=10,minHeight:p=10,maxWidth:g=Number.MAX_VALUE,maxHeight:y=Number.MAX_VALUE,keepAspectRatio:v=!1,resizeDirection:x,autoScale:k=!0,shouldResize:_,onResizeStart:b,onResize:C,onResizeEnd:N}){const T=y0(),S=typeof n=="string"?n:T,M=Ae(),O=Y.useRef(null),D=i===ro.Handle,H=Ee(Y.useCallback(TS(D&&k),[D,k]),Re),Q=Y.useRef(null),G=o??zS[i];Y.useEffect(()=>{if(!(!O.current||!S))return Q.current||(Q.current=iw({domNode:O.current,nodeId:S,getStoreItems:()=>{const{nodeLookup:X,transform:q,snapGrid:K,snapToGrid:P,nodeOrigin:F,domNode:A}=M.getState();return{nodeLookup:X,transform:q,snapGrid:K,snapToGrid:P,nodeOrigin:F,paneDomNode:A}},onChange:(X,q)=>{const{triggerNodeChanges:K,nodeLookup:P,parentLookup:F,nodeOrigin:A}=M.getState(),B=[],z={x:X.x,y:X.y},$=P.get(S);if($&&$.expandParent&&$.parentId){const V=$.origin??A,E=X.width??$.measured.width??0,L=X.height??$.measured.height??0,J={id:$.id,parentId:$.parentId,rect:{width:E,height:L,...Hp({x:X.x??$.position.x,y:X.y??$.position.y},{width:E,height:L},$.parentId,P,V)}},te=lc([J],P,F,A);B.push(...te),z.x=X.x?Math.max(V[0]*E,X.x):void 0,z.y=X.y?Math.max(V[1]*L,X.y):void 0}if(z.x!==void 0&&z.y!==void 0){const V={id:S,type:"position",position:{...z}};B.push(V)}if(X.width!==void 0&&X.height!==void 0){const E={id:S,type:"dimensions",resizing:!0,setAttributes:x?x==="horizontal"?"width":"height":!0,dimensions:{width:X.width,height:X.height}};B.push(E)}for(const V of q){const E={...V,type:"position"};B.push(E)}K(B)},onEnd:({width:X,height:q})=>{const K={id:S,type:"dimensions",resizing:!1,dimensions:{width:X,height:q}};M.getState().triggerNodeChanges([K])}})),Q.current.update({controlPosition:G,boundaries:{minWidth:h,minHeight:p,maxWidth:g,maxHeight:y},keepAspectRatio:v,resizeDirection:x,onResizeStart:b,onResize:C,onResizeEnd:N,shouldResize:_}),()=>{Q.current?.destroy()}},[G,h,p,g,y,v,b,C,N,_]);const ie=G.split("-");return m.jsx("div",{className:Ue(["react-flow__resize-control","nodrag",...ie,i,l]),ref:O,style:{...a,scale:H,...d&&{[D?"backgroundColor":"borderColor"]:d}},children:c})}Y.memo(IS);const F0={metric_threshold:{label:"Metric Threshold",icon:"chart-bar"},metric_change:{label:"Metric Change",icon:"arrow-trending-up"},survey_response:{label:"Survey Response",icon:"clipboard-document-list"},survey_answer:{label:"Survey Answer",icon:"chat-bubble-left"},attendance:{label:"Attendance",icon:"calendar"},schedule:{label:"Schedule",icon:"clock"},manual:{label:"Manual",icon:"hand-raised"}},LS={send_sms:{label:"Send SMS",icon:"chat-bubble-left",color:"#3B82F6"},send_email:{label:"Send Email",icon:"envelope",color:"#10B981"},send_whatsapp:{label:"Send WhatsApp",icon:"chat-bubble-oval-left",color:"#25D366"},make_call:{label:"Make Call",icon:"phone",color:"#8B5CF6"},in_app_notification:{label:"In-App Notification",icon:"bell",color:"#F59E0B"},webhook:{label:"Webhook",icon:"arrow-top-right-on-square",color:"#6366F1"},create_task:{label:"Create Task",icon:"clipboard-document-check",color:"#EC4899"},assign_resource:{label:"Assign Resource",icon:"user-plus",color:"#14B8A6"},trigger_workflow:{label:"Trigger Workflow",icon:"bolt",color:"#F97316"}},B0={equals:"Equals",not_equals:"Not Equals",greater_than:"Greater Than",less_than:"Less Than",greater_or_equal:"Greater or Equal",less_or_equal:"Less or Equal",contains:"Contains",not_contains:"Not Contains",is_empty:"Is Empty",is_not_empty:"Is Not Empty",in:"In List",not_in:"Not In List"},DS=[{type:"condition",label:"Condition",color:"purple"},{type:"delay",label:"Delay",color:"indigo"},{type:"action",label:"Action",color:"emerald"},{type:"branch",label:"Split",color:"orange"}];function RS({id:n,data:o,selected:i}){const[l,a]=Y.useState(!1),d=(()=>{if(!o?.trigger_type||typeof o.trigger_type!="string")return"Unknown Trigger";const p=F0[o.trigger_type];return p&&typeof p.label=="string"?p.label:"Unknown Trigger"})(),h=p=>{const g=new CustomEvent("addNodeFromBranch",{detail:{sourceNodeId:n,branchIndex:0,branchId:"default",nodeType:p}});window.dispatchEvent(g),a(!1)};return m.jsxs("div",{className:`
                px-4 py-3 rounded-lg border-2 bg-white shadow-sm min-w-[200px]
                ${i?"border-amber-500 ring-2 ring-amber-200":"border-amber-300"}
            `,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 flex items-center justify-center",children:m.jsx("svg",{className:"w-4 h-4 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-semibold uppercase text-amber-600 tracking-wide",children:"Trigger"}),m.jsx("div",{className:"text-sm font-medium text-gray-900",children:d})]})]}),o?.conditions&&o.conditions.length>0&&m.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:m.jsxs("div",{className:"text-xs text-gray-500",children:[o.conditions.length," condition",o.conditions.length!==1?"s":""," (",(o.logic||"and").toUpperCase(),")"]})}),m.jsx(ft,{type:"source",position:pe.Bottom,className:"!w-3 !h-3 !bg-amber-500 !border-2 !border-white"}),m.jsxs("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2",children:[m.jsx("button",{onClick:p=>{p.stopPropagation(),a(!l)},className:"w-5 h-5 rounded-full bg-amber-100 hover:bg-amber-200 flex items-center justify-center text-amber-600 transition-colors shadow-sm border border-amber-200",title:"Add next node",children:m.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),l&&m.jsx("div",{className:"absolute top-full mt-1 left-1/2 -translate-x-1/2 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50 min-w-[100px]",children:DS.map(p=>m.jsxs("button",{onClick:g=>{g.stopPropagation(),h(p.type)},className:"w-full px-3 py-1.5 text-left text-xs hover:bg-gray-50 flex items-center gap-2",children:[m.jsx("span",{className:`w-2 h-2 rounded-full bg-${p.color}-500`}),p.label]},p.type))})]})]})}const AS=Y.memo(RS),Xh=[{type:"condition",label:"Condition",color:"purple"},{type:"delay",label:"Delay",color:"indigo"},{type:"action",label:"Action",color:"emerald"},{type:"branch",label:"Split",color:"orange"}];function $S({id:n,data:o,selected:i}){const[l,a]=Y.useState(!1),[c,d]=Y.useState(!1),h=(p,g)=>{const y=new CustomEvent("addNodeFromBranch",{detail:{sourceNodeId:n,branchIndex:g==="true"?0:1,branchId:g,nodeType:p}});window.dispatchEvent(y),a(!1),d(!1)};return m.jsxs("div",{className:`
                px-4 py-3 rounded-lg border-2 bg-white shadow-sm min-w-[180px]
                ${i?"border-purple-500 ring-2 ring-purple-200":"border-purple-300"}
            `,children:[m.jsx(ft,{type:"target",position:pe.Top,className:"!w-3 !h-3 !bg-purple-500 !border-2 !border-white"}),m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 flex items-center justify-center",children:m.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-semibold uppercase text-purple-600 tracking-wide",children:"Condition"}),m.jsx("div",{className:"text-sm font-medium text-gray-900",children:"IF / ELSE"})]})]}),o?.conditions&&o.conditions.length>0&&m.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:m.jsxs("div",{className:"text-xs text-gray-500",children:[o.conditions.length," condition",o.conditions.length!==1?"s":""," (",(o.logic||"and").toUpperCase(),")"]})}),m.jsx(ft,{type:"source",position:pe.Bottom,id:"true",style:{left:"30%"},className:"!w-3 !h-3 !bg-green-500 !border-2 !border-white"}),m.jsx(ft,{type:"source",position:pe.Bottom,id:"false",style:{left:"70%"},className:"!w-3 !h-3 !bg-red-500 !border-2 !border-white"}),m.jsxs("div",{className:"flex justify-between mt-2 text-xs",children:[m.jsxs("div",{className:"relative flex flex-col items-center",children:[m.jsx("span",{className:"text-green-600 mb-1",children:"Yes"}),m.jsx("button",{onClick:p=>{p.stopPropagation(),a(!l),d(!1)},className:"w-4 h-4 rounded-full bg-green-100 hover:bg-green-200 flex items-center justify-center text-green-600 transition-colors",title:"Add node to Yes path",children:m.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),l&&m.jsx("div",{className:"absolute top-full mt-1 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50 min-w-[100px]",children:Xh.map(p=>m.jsxs("button",{onClick:g=>{g.stopPropagation(),h(p.type,"true")},className:"w-full px-3 py-1.5 text-left text-xs hover:bg-gray-50 flex items-center gap-2",children:[m.jsx("span",{className:`w-2 h-2 rounded-full bg-${p.color}-500`}),p.label]},p.type))})]}),m.jsxs("div",{className:"relative flex flex-col items-center",children:[m.jsx("span",{className:"text-red-600 mb-1",children:"No"}),m.jsx("button",{onClick:p=>{p.stopPropagation(),d(!c),a(!1)},className:"w-4 h-4 rounded-full bg-red-100 hover:bg-red-200 flex items-center justify-center text-red-600 transition-colors",title:"Add node to No path",children:m.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),c&&m.jsx("div",{className:"absolute top-full mt-1 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50 min-w-[100px]",children:Xh.map(p=>m.jsxs("button",{onClick:g=>{g.stopPropagation(),h(p.type,"false")},className:"w-full px-3 py-1.5 text-left text-xs hover:bg-gray-50 flex items-center gap-2",children:[m.jsx("span",{className:`w-2 h-2 rounded-full bg-${p.color}-500`}),p.label]},p.type))})]})]})]})}const OS=Y.memo($S),HS=[{type:"condition",label:"Condition",color:"purple"},{type:"delay",label:"Delay",color:"indigo"},{type:"action",label:"Action",color:"emerald"},{type:"branch",label:"Split",color:"orange"}];function FS({id:n,data:o,selected:i}){const[l,a]=Y.useState(!1),c=()=>{const h=o?.duration||1,p=o?.unit||"hours";return`${h} ${p}`},d=h=>{const p=new CustomEvent("addNodeFromBranch",{detail:{sourceNodeId:n,branchIndex:0,branchId:"default",nodeType:h}});window.dispatchEvent(p),a(!1)};return m.jsxs("div",{className:`
                px-4 py-3 rounded-lg border-2 bg-white shadow-sm min-w-[160px]
                ${i?"border-indigo-500 ring-2 ring-indigo-200":"border-indigo-300"}
            `,children:[m.jsx(ft,{type:"target",position:pe.Top,className:"!w-3 !h-3 !bg-indigo-500 !border-2 !border-white"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center",children:m.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-semibold uppercase text-indigo-600 tracking-wide",children:"Delay"}),m.jsx("div",{className:"text-sm font-medium text-gray-900",children:c()})]})]}),m.jsx(ft,{type:"source",position:pe.Bottom,className:"!w-3 !h-3 !bg-indigo-500 !border-2 !border-white"}),m.jsxs("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2",children:[m.jsx("button",{onClick:h=>{h.stopPropagation(),a(!l)},className:"w-5 h-5 rounded-full bg-indigo-100 hover:bg-indigo-200 flex items-center justify-center text-indigo-600 transition-colors shadow-sm border border-indigo-200",title:"Add next node",children:m.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),l&&m.jsx("div",{className:"absolute top-full mt-1 left-1/2 -translate-x-1/2 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50 min-w-[100px]",children:HS.map(h=>m.jsxs("button",{onClick:p=>{p.stopPropagation(),d(h.type)},className:"w-full px-3 py-1.5 text-left text-xs hover:bg-gray-50 flex items-center gap-2",children:[m.jsx("span",{className:`w-2 h-2 rounded-full bg-${h.color}-500`}),h.label]},h.type))})]})]})}const BS=Y.memo(FS),VS=[{type:"condition",label:"Condition",color:"purple"},{type:"delay",label:"Delay",color:"indigo"},{type:"action",label:"Action",color:"emerald"},{type:"branch",label:"Split",color:"orange"}],Qh={send_email:m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),send_sms:m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),send_whatsapp:m.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),make_call:m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),webhook:m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),create_task:m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),assign_resource:m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),in_app_notification:m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),trigger_workflow:m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},Zh={send_email:"Send Email",send_sms:"Send SMS",send_whatsapp:"WhatsApp",make_call:"Voice Call",webhook:"Webhook",create_task:"Create Task",assign_resource:"Assign Resource",in_app_notification:"Notification",trigger_workflow:"Sub-workflow"};function WS({id:n,data:o,selected:i}){const[l,a]=Y.useState(!1),c=typeof o?.action_type=="string"?o.action_type:"send_sms",d=Qh[c]||Qh.send_sms,h=typeof Zh[c]=="string"?Zh[c]:"Action",p=y=>{const v=new CustomEvent("addNodeFromBranch",{detail:{sourceNodeId:n,branchIndex:0,branchId:"default",nodeType:y}});window.dispatchEvent(v),a(!1)},g=()=>{if(!o?.config)return"Not configured";try{switch(c){case"send_email":case"send_sms":case"send_whatsapp":const y=o.config.recipients?.length||0;return y>0?`${y} recipient${y>1?"s":""}`:"No recipients";case"webhook":if(!o.config.url)return"No URL";try{return new URL(o.config.url).hostname}catch{return"Invalid URL"}case"create_task":return o.config.title||"Untitled task";case"trigger_workflow":return o.config.workflow_name||"Select workflow";default:return"Configured"}}catch{return"Not configured"}};return m.jsxs("div",{className:`
                px-4 py-3 rounded-lg border-2 bg-white shadow-sm min-w-[160px]
                ${i?"border-emerald-500 ring-2 ring-emerald-200":"border-emerald-300"}
            `,children:[m.jsx(ft,{type:"target",position:pe.Top,className:"!w-3 !h-3 !bg-emerald-500 !border-2 !border-white"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-100 flex items-center justify-center text-emerald-600",children:d}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"text-xs font-semibold uppercase text-emerald-600 tracking-wide",children:h}),m.jsx("div",{className:"text-sm text-gray-500 truncate",children:g()})]})]}),m.jsx(ft,{type:"source",position:pe.Bottom,className:"!w-3 !h-3 !bg-emerald-500 !border-2 !border-white"}),m.jsxs("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2",children:[m.jsx("button",{onClick:y=>{y.stopPropagation(),a(!l)},className:"w-5 h-5 rounded-full bg-emerald-100 hover:bg-emerald-200 flex items-center justify-center text-emerald-600 transition-colors shadow-sm border border-emerald-200",title:"Add next node",children:m.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),l&&m.jsx("div",{className:"absolute top-full mt-1 left-1/2 -translate-x-1/2 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50 min-w-[100px]",children:VS.map(y=>m.jsxs("button",{onClick:v=>{v.stopPropagation(),p(y.type)},className:"w-full px-3 py-1.5 text-left text-xs hover:bg-gray-50 flex items-center gap-2",children:[m.jsx("span",{className:`w-2 h-2 rounded-full bg-${y.color}-500`}),y.label]},y.type))})]})]})}const US=Y.memo(WS),YS=[{type:"condition",label:"Condition",color:"purple"},{type:"delay",label:"Delay",color:"indigo"},{type:"action",label:"Action",color:"emerald"},{type:"branch",label:"Split",color:"orange"}];function XS({id:n,data:o,selected:i}){const[l,a]=Y.useState(null),c=o.branches||[{id:"1",name:"Yes"},{id:"2",name:"No"}],d=(h,p)=>{const g=new CustomEvent("addNodeFromBranch",{detail:{sourceNodeId:n,branchIndex:h,branchId:`branch-${h}`,nodeType:p}});window.dispatchEvent(g),a(null)};return m.jsxs("div",{className:`
                px-4 py-3 rounded-lg border-2 bg-white shadow-sm min-w-[200px]
                ${i?"border-orange-500 ring-2 ring-orange-200":"border-orange-300"}
            `,children:[m.jsx(ft,{type:"target",position:pe.Top,className:"!w-3 !h-3 !bg-orange-500 !border-2 !border-white"}),m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center",children:m.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-semibold uppercase text-orange-600 tracking-wide",children:"Split"}),m.jsxs("div",{className:"text-sm text-gray-500",children:[c.length," paths"]})]})]}),m.jsx("div",{className:"flex justify-around gap-2 mt-2",children:c.map((h,p)=>m.jsxs("div",{className:"relative flex flex-col items-center",children:[m.jsx("span",{className:"text-xs font-medium text-gray-600 mb-1",children:h.name||h.label||`Path ${p+1}`}),m.jsx("button",{onClick:g=>{g.stopPropagation(),a(l===p?null:p)},className:"w-5 h-5 rounded-full bg-orange-100 hover:bg-orange-200 flex items-center justify-center text-orange-600 transition-colors",title:`Add node to ${h.name||`Path ${p+1}`}`,children:m.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),l===p&&m.jsx("div",{className:"absolute top-full mt-1 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50 min-w-[120px]",children:YS.map(g=>m.jsxs("button",{onClick:y=>{y.stopPropagation(),d(p,g.type)},className:"w-full px-3 py-1.5 text-left text-xs hover:bg-gray-50 flex items-center gap-2",children:[m.jsx("span",{className:`w-2 h-2 rounded-full bg-${g.color}-500`}),g.label]},g.type))})]},p))}),c.map((h,p)=>{const v=100/(c.length+1)*(p+1);return m.jsx(ft,{type:"source",position:pe.Bottom,id:`branch-${p}`,className:"!w-3 !h-3 !bg-orange-500 !border-2 !border-white",style:{left:`${v}%`}},h.id||p)})]})}const QS=Y.memo(XS),ZS=[{type:"trigger",label:"Trigger",description:"Start the workflow",color:"amber",borderColor:"#F59E0B",icon:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},{type:"condition",label:"Condition",description:"IF/ELSE logic",color:"purple",borderColor:"#8B5CF6",icon:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{type:"delay",label:"Delay",description:"Wait before continuing",color:"indigo",borderColor:"#6366F1",icon:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},{type:"action",label:"Action",description:"Send notification, call API",color:"emerald",borderColor:"#10B981",icon:m.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})},{type:"branch",label:"Split",description:"Parallel execution paths",color:"orange",borderColor:"#F97316",icon:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}],KS={amber:{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-600",hover:"hover:border-amber-400 hover:bg-amber-100"},purple:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-600",hover:"hover:border-purple-400 hover:bg-purple-100"},indigo:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-600",hover:"hover:border-indigo-400 hover:bg-indigo-100"},emerald:{bg:"bg-emerald-50",border:"border-emerald-200",text:"text-emerald-600",hover:"hover:border-emerald-400 hover:bg-emerald-100"},orange:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-600",hover:"hover:border-orange-400 hover:bg-orange-100"}};function GS({className:n="",onAddNode:o}){const i=(a,c)=>{console.log("[NodePalette] Drag started for:",c.type),a.dataTransfer.setData("application/reactflow",c.type),a.dataTransfer.effectAllowed="move";const d=document.createElement("div");d.textContent=c.label,Object.assign(d.style,{position:"fixed",top:"-9999px",left:"-9999px",display:"block",width:"auto",height:"auto",maxWidth:"80px",padding:"3px 8px",margin:"0",background:"#ffffff",border:`1px solid ${c.borderColor}`,borderRadius:"4px",fontSize:"11px",fontWeight:"500",fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif",color:c.borderColor,boxShadow:"0 1px 2px rgba(0,0,0,0.1)",whiteSpace:"nowrap",lineHeight:"1.2",textAlign:"center",boxSizing:"border-box",transform:"none",zoom:"1",opacity:"1",pointerEvents:"none"}),document.body.appendChild(d),a.dataTransfer.setDragImage(d,d.offsetWidth/2,d.offsetHeight/2),requestAnimationFrame(()=>{document.body.removeChild(d)})},l=a=>{o&&o(a)};return m.jsxs("div",{className:`bg-white p-4 ${n}`,children:[m.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Add Nodes"}),m.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Click or drag onto canvas"}),m.jsx("div",{className:"space-y-2",children:ZS.map(a=>{const c=KS[a.color];return m.jsxs("div",{draggable:!0,onDragStart:d=>i(d,a),onClick:()=>l(a.type),className:`
                                flex items-center gap-3 p-3 rounded-lg border cursor-grab
                                transition-all duration-150
                                ${c.bg} ${c.border} ${c.hover}
                                active:scale-95 active:cursor-grabbing
                            `,children:[m.jsx("div",{className:`flex-shrink-0 ${c.text}`,children:a.icon}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("div",{className:`text-sm font-medium ${c.text}`,children:a.label}),m.jsx("div",{className:"text-xs text-gray-500 truncate",children:a.description})]}),m.jsx("svg",{className:`w-4 h-4 ${c.text} opacity-50`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})]},a.type)})}),m.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:m.jsx("p",{className:"text-xs text-gray-400",children:"Tip: Connect nodes by dragging from handles."})})]})}function qS({node:n,onUpdate:o,onClose:i,onDelete:l}){const[a,c]=Y.useState(n.data);Y.useEffect(()=>{c(n.data)},[n.id,n.data]);const d=(N,T)=>{const S={...a,[N]:T};c(S),o(S)},h=(N,T,S)=>{const O={...a[N]||{},[T]:S};d(N,O)},p=()=>{const N=a;return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trigger Type"}),m.jsxs("select",{value:N.trigger_type||"",onChange:T=>d("trigger_type",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500",children:[m.jsx("option",{value:"",children:"Select trigger..."}),Object.entries(F0).map(([T,S])=>m.jsx("option",{value:T,children:S.label},T))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition Logic"}),m.jsxs("select",{value:N.logic||"and",onChange:T=>d("logic",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-amber-500 focus:border-amber-500",children:[m.jsx("option",{value:"and",children:"ALL conditions must match (AND)"}),m.jsx("option",{value:"or",children:"ANY condition can match (OR)"})]})]}),m.jsx(JS,{conditions:N.conditions||[],onChange:T=>d("conditions",T)})]})},g=()=>{const N=a;return m.jsxs("div",{className:"space-y-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:'Define when the workflow should take the "Yes" or "No" path.'}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field"}),m.jsx("input",{type:"text",value:N.field||"",onChange:T=>d("field",T.target.value),placeholder:"e.g., contact.gpa, metric.value",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operator"}),m.jsxs("select",{value:N.operator||"",onChange:T=>d("operator",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[m.jsx("option",{value:"",children:"Select operator..."}),Object.entries(B0).map(([T,S])=>m.jsx("option",{value:T,children:S},T))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),m.jsx("input",{type:"text",value:N.value!==void 0?String(N.value):"",onChange:T=>d("value",T.target.value),placeholder:"Comparison value",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})},y=()=>{const N=a;return m.jsxs("div",{className:"space-y-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Pause the workflow for a specified duration before continuing."}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),m.jsx("input",{type:"number",min:"1",value:N.duration||1,onChange:T=>d("duration",parseInt(T.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),m.jsxs("select",{value:N.unit||"hours",onChange:T=>d("unit",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[m.jsx("option",{value:"minutes",children:"Minutes"}),m.jsx("option",{value:"hours",children:"Hours"}),m.jsx("option",{value:"days",children:"Days"})]})]})]})]})},v=()=>{const N=a;return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action Type"}),m.jsxs("select",{value:N.action_type||"",onChange:T=>d("action_type",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[m.jsx("option",{value:"",children:"Select action..."}),Object.entries(LS).map(([T,S])=>m.jsx("option",{value:T,children:S.label},T))]})]}),N.action_type&&x(N)]})},x=N=>{const T=N.config||{};switch(N.action_type){case"send_email":case"send_sms":case"send_whatsapp":return m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipients"}),m.jsx("input",{type:"text",value:(T.recipients||[]).join(", "),onChange:S=>h("config","recipients",S.target.value.split(",").map(M=>M.trim()).filter(Boolean)),placeholder:"Enter user IDs or roles, comma-separated",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Use: user IDs, role:admin, context:contact_id"})]}),N.action_type==="send_email"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),m.jsx("input",{type:"text",value:T.subject||"",onChange:S=>h("config","subject",S.target.value),placeholder:"Email subject line",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),m.jsx("textarea",{value:T.message||T.body||"",onChange:S=>h("config",N.action_type==="send_email"?"body":"message",S.target.value),placeholder:"Message content. Use {{contact.name}} for variables.",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"}),m.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Variables: ","{{contact.name}}",", ","{{metric.value}}",", ","{{trigger.field}}"]})]})]});case"webhook":return m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),m.jsx("input",{type:"url",value:T.url||"",onChange:S=>h("config","url",S.target.value),placeholder:"https://api.example.com/webhook",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Method"}),m.jsxs("select",{value:T.method||"POST",onChange:S=>h("config","method",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[m.jsx("option",{value:"POST",children:"POST"}),m.jsx("option",{value:"PUT",children:"PUT"}),m.jsx("option",{value:"PATCH",children:"PATCH"})]})]})]});case"create_task":return m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Title"}),m.jsx("input",{type:"text",value:T.title||"",onChange:S=>h("config","title",S.target.value),placeholder:"Follow up with {{contact.name}}",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),m.jsx("textarea",{value:T.description||"",onChange:S=>h("config","description",S.target.value),placeholder:"Task details...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign To"}),m.jsx("input",{type:"text",value:T.assignee||"",onChange:S=>h("config","assignee",S.target.value),placeholder:"User ID or role",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]})]});default:return m.jsx("p",{className:"text-sm text-gray-500 italic",children:"Configuration options will appear here based on the selected action type."})}},k=()=>{const T=a.branches||[{id:"1",label:"Path 1"},{id:"2",label:"Path 2"}];return m.jsxs("div",{className:"space-y-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Split the workflow into multiple parallel paths."}),m.jsx("div",{className:"space-y-3",children:T.map((S,M)=>m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:S.label||"",onChange:O=>{const D=[...T];D[M]={...S,label:O.target.value},d("branches",D)},placeholder:`Path ${M+1} label`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),T.length>2&&m.jsx("button",{onClick:()=>{const O=T.filter((D,H)=>H!==M);d("branches",O)},className:"px-2 text-gray-400 hover:text-red-500",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},S.id))}),T.length<5&&m.jsx("button",{onClick:()=>{const S={id:String(Date.now()),label:`Path ${T.length+1}`};d("branches",[...T,S])},className:"w-full px-3 py-2 border border-dashed border-gray-300 rounded-lg text-sm text-gray-500 hover:border-orange-400 hover:text-orange-600 transition-colors",children:"+ Add Branch"})]})},_=()=>{switch(n.type){case"trigger":return p();case"condition":return g();case"delay":return y();case"action":return v();case"branch":return k();default:return m.jsx("p",{className:"text-gray-500",children:"Unknown node type"})}},b=()=>{switch(n.type){case"trigger":return"Configure Trigger";case"condition":return"Configure Condition";case"delay":return"Configure Delay";case"action":return"Configure Action";case"branch":return"Configure Split";default:return"Node Configuration"}},C=()=>{switch(n.type){case"trigger":return"text-amber-600";case"condition":return"text-purple-600";case"delay":return"text-indigo-600";case"action":return"text-emerald-600";case"branch":return"text-orange-600";default:return"text-gray-600"}};return m.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-lg w-80 max-h-[calc(100vh-200px)] flex flex-col",children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[m.jsx("h3",{className:`font-semibold ${C()}`,children:b()}),m.jsx("button",{onClick:i,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:_()}),m.jsx("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50 rounded-b-xl",children:m.jsx("button",{onClick:l,className:"w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Delete Node"})})]})}function JS({conditions:n,onChange:o}){const i=()=>{o([...n,{field:"",operator:"equals",value:""}])},l=(c,d,h)=>{const p=[...n];p[c]={...p[c],[d]:h},o(p)},a=c=>{o(n.filter((d,h)=>h!==c))};return m.jsxs("div",{className:"space-y-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Conditions"}),n.length===0&&m.jsx("p",{className:"text-sm text-gray-400 italic",children:"No conditions set. Add one below."}),n.map((c,d)=>m.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["Condition ",d+1]}),m.jsx("button",{onClick:()=>a(d),className:"text-gray-400 hover:text-red-500",children:m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("input",{type:"text",value:c.field,onChange:h=>l(d,"field",h.target.value),placeholder:"Field (e.g., contact.gpa)",className:"w-full px-2 py-1.5 text-sm border border-gray-200 rounded focus:ring-1 focus:ring-amber-500"}),m.jsx("select",{value:c.operator,onChange:h=>l(d,"operator",h.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-200 rounded focus:ring-1 focus:ring-amber-500",children:Object.entries(B0).map(([h,p])=>m.jsx("option",{value:h,children:p},h))}),m.jsx("input",{type:"text",value:String(c.value),onChange:h=>l(d,"value",h.target.value),placeholder:"Value",className:"w-full px-2 py-1.5 text-sm border border-gray-200 rounded focus:ring-1 focus:ring-amber-500"})]},d)),m.jsx("button",{onClick:i,className:"w-full px-3 py-2 border border-dashed border-gray-300 rounded-lg text-sm text-gray-500 hover:border-amber-400 hover:text-amber-600 transition-colors",children:"+ Add Condition"})]})}const ek={trigger:AS,condition:OS,delay:BS,action:US,branch:QS};function tk({workflowId:n,initialNodes:o,initialEdges:i,workflowName:l}){const[a,c,d]=oS(o),[h,p,g]=iS(i),[y,v]=Y.useState(null),[x,k]=Y.useState(!1),[_,b]=Y.useState(null),C=Y.useRef(null),N=Y.useRef(null),{screenToFlowPosition:T}=vl(),S=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"";Y.useEffect(()=>{console.log("[WorkflowCanvas] Component mounted - version 2026-01-30-v2")},[]),Y.useEffect(()=>{const K=P=>{const{sourceNodeId:F,branchIndex:A,branchId:B,nodeType:z}=P.detail,$=a.find(J=>J.id===F);if(!$)return;const V=A===0?-100:A===1?100:0,E={x:$.position.x+V,y:$.position.y+200},L={id:`${z}-${Date.now()}`,type:z,position:E,data:Kh(z)};c(J=>[...J,L]),p(J=>Hu({id:`e${F}-${L.id}`,source:F,...B!=="default"?{sourceHandle:B}:{},target:L.id,animated:!0},J)),v(L)};return window.addEventListener("addNodeFromBranch",K),()=>{window.removeEventListener("addNodeFromBranch",K)}},[a,c,p]),Y.useEffect(()=>(C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{M()},2e3),()=>{C.current&&clearTimeout(C.current)}),[a,h]);const M=async()=>{if(n){k(!0);try{(await fetch(`/alerts/${n}/save`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":S,Accept:"application/json"},body:JSON.stringify({nodes:a,edges:h})})).ok?b(new Date):console.error("Failed to save workflow")}catch(K){console.error("Error saving workflow:",K)}finally{k(!1)}}},O=Y.useCallback(K=>{p(P=>Hu({...K,animated:!0},P))},[p]),D=Y.useCallback((K,P)=>{v(P)},[]),H=Y.useCallback(()=>{v(null)},[]),Q=Y.useCallback((K,P)=>{c(F=>F.map(A=>A.id===K?{...A,data:{...A.data,...P}}:A))},[c]),G=Y.useCallback((K,P)=>{const F={x:350,y:50+a.length*150},A={id:`${K}-${Date.now()}`,type:K,position:P||F,data:Kh(K)};c(B=>[...B,A]),v(A)},[a.length,c]),ie=Y.useCallback(K=>{c(P=>P.filter(F=>F.id!==K)),p(P=>P.filter(F=>F.source!==K&&F.target!==K)),y?.id===K&&v(null)},[y,c,p]),X=Y.useCallback(K=>{K.preventDefault(),K.dataTransfer.dropEffect="move"},[]),q=Y.useCallback(K=>{K.preventDefault(),console.log("[WorkflowCanvas] Drop event received");const P=K.dataTransfer.getData("application/reactflow");if(console.log("[WorkflowCanvas] Node type from drop:",P),!P){console.log("[WorkflowCanvas] No type found, ignoring drop");return}const F=T({x:K.clientX,y:K.clientY});console.log("[WorkflowCanvas] Adding node at position:",F),G(P,F)},[G,T]);return m.jsxs("div",{className:"h-full w-full flex",style:{minHeight:"500px"},children:[m.jsx("div",{className:"w-64 bg-white border-r border-gray-200 flex-shrink-0 overflow-y-auto",children:m.jsx(GS,{onAddNode:K=>G(K)})}),m.jsx("div",{ref:N,className:"flex-1",style:{height:"100%"},onDragOver:X,onDrop:q,children:m.jsxs(rS,{nodes:a,edges:h,onNodesChange:d,onEdgesChange:g,onConnect:O,onNodeClick:D,onPaneClick:H,nodeTypes:ek,defaultViewport:{x:0,y:0,zoom:1},snapToGrid:!0,snapGrid:[15,15],deleteKeyCode:["Backspace","Delete"],selectionKeyCode:null,multiSelectionKeyCode:["Shift"],defaultEdgeOptions:{animated:!0,style:{strokeWidth:2},deletable:!0},proOptions:{hideAttribution:!0},children:[m.jsx(yS,{}),m.jsx(PS,{nodeColor:K=>{switch(K.type){case"trigger":return"#F59E0B";case"condition":return"#8B5CF6";case"delay":return"#6366F1";case"action":return"#10B981";case"branch":return"#EC4899";default:return"#9CA3AF"}}}),m.jsx(cS,{variant:fn.Dots,gap:15,size:1}),m.jsx(vi,{position:"top-right",className:"bg-white rounded-lg shadow-sm border border-gray-200 px-3 py-2",children:m.jsx("div",{className:"flex items-center gap-2 text-sm",children:x?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),m.jsx("span",{className:"text-gray-600",children:"Saving..."})]}):_?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),m.jsxs("span",{className:"text-gray-600",children:["Saved ",_.toLocaleTimeString()]})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),m.jsx("span",{className:"text-gray-400",children:"Not saved"})]})})})]})}),y&&m.jsx("div",{className:"w-80 bg-white border-l border-gray-200 flex-shrink-0 overflow-y-auto",children:m.jsx(qS,{node:y,onUpdate:K=>Q(y.id,K),onDelete:()=>ie(y.id),onClose:()=>v(null)})})]})}function Kh(n){switch(n){case"trigger":return{trigger_type:"metric_threshold",conditions:[],logic:"and"};case"condition":return{conditions:[],logic:"and"};case"delay":return{duration:1,unit:"hours"};case"action":return{action_type:"send_sms",config:{recipients:[],message:""}};case"branch":return{branches:[{id:"1",name:"Yes",conditions:[],logic:"and"},{id:"2",name:"No",conditions:[],logic:"and",is_default:!0}]};default:return{}}}function nk(n){return m.jsx(A0,{children:m.jsx(tk,{...n})})}const Yr=document.getElementById("workflow-canvas");if(Yr){const n=Yr.dataset.workflowId||"",o=JSON.parse(Yr.dataset.nodes||"[]"),i=JSON.parse(Yr.dataset.edges||"[]"),l=Yr.dataset.workflowName||"New Workflow";bm.createRoot(Yr).render(m.jsx(qh.StrictMode,{children:m.jsx(nk,{workflowId:n,initialNodes:o,initialEdges:i,workflowName:l})}))}
